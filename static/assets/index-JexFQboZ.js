(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))h(g);new MutationObserver(g=>{for(const C of g)if(C.type==="childList")for(const b of C.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&h(b)}).observe(document,{childList:!0,subtree:!0});function r(g){const C={};return g.integrity&&(C.integrity=g.integrity),g.referrerPolicy&&(C.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?C.credentials="include":g.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function h(g){if(g.ep)return;g.ep=!0;const C=r(g);fetch(g.href,C)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function er(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ee={},Qt=[],_t=()=>{},Yo=()=>!1,ei=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),tr=e=>e.startsWith("onUpdate:"),Fe=Object.assign,sr=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Zo=Object.prototype.hasOwnProperty,ye=(e,t)=>Zo.call(e,t),ue=Array.isArray,es=e=>ti(e)==="[object Map]",mn=e=>ti(e)==="[object Set]",fe=e=>typeof e=="function",Ae=e=>typeof e=="string",Rt=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",Sn=e=>(ke(e)||fe(e))&&fe(e.then)&&fe(e.catch),bn=Object.prototype.toString,ti=e=>bn.call(e),Qo=e=>ti(e).slice(8,-1),Cn=e=>ti(e)==="[object Object]",ir=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ds=er(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),si=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},ea=/-(\w)/g,nt=si(e=>e.replace(ea,(t,r)=>r?r.toUpperCase():"")),ta=/\B([A-Z])/g,Gt=si(e=>e.replace(ta,"-$1").toLowerCase()),ii=si(e=>e.charAt(0).toUpperCase()+e.slice(1)),gi=si(e=>e?`on${ii(e)}`:""),Bt=(e,t)=>!Object.is(e,t),vi=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Ni=(e,t,r,h=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:h,value:r})},sa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ia=e=>{const t=Ae(e)?Number(e):NaN;return isNaN(t)?e:t};let Cr;const ri=()=>Cr||(Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xt(e){if(ue(e)){const t={};for(let r=0;r<e.length;r++){const h=e[r],g=Ae(h)?aa(h):Xt(h);if(g)for(const C in g)t[C]=g[C]}return t}else if(Ae(e)||ke(e))return e}const ra=/;(?![^(]*\))/g,na=/:([^]+)/,oa=/\/\*[^]*?\*\//g;function aa(e){const t={};return e.replace(oa,"").split(ra).forEach(r=>{if(r){const h=r.split(na);h.length>1&&(t[h[0].trim()]=h[1].trim())}}),t}function Ye(e){let t="";if(Ae(e))t=e;else if(ue(e))for(let r=0;r<e.length;r++){const h=Ye(e[r]);h&&(t+=h+" ")}else if(ke(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function gt(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Ae(t)&&(e.class=Ye(t)),r&&(e.style=Xt(r)),e}const la="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ca=er(la);function yn(e){return!!e||e===""}const wn=e=>!!(e&&e.__v_isRef===!0),Xe=e=>Ae(e)?e:e==null?"":ue(e)||ke(e)&&(e.toString===bn||!fe(e.toString))?wn(e)?Xe(e.value):JSON.stringify(e,En,2):String(e),En=(e,t)=>wn(t)?En(e,t.value):es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[h,g],C)=>(r[mi(h,C)+" =>"]=g,r),{})}:mn(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>mi(r))}:Rt(t)?mi(t):ke(t)&&!ue(t)&&!Cn(t)?String(t):t,mi=(e,t="")=>{var r;return Rt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class ha{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Je;try{return Je=this,t()}finally{Je=r}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,h;for(r=0,h=this.effects.length;r<h;r++)this.effects[r].stop();for(this.effects.length=0,r=0,h=this.cleanups.length;r<h;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,h=this.scopes.length;r<h;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function ua(){return Je}let xe;const Si=new WeakSet;class xn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Si.has(this)&&(Si.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yr(this),kn(this);const t=xe,r=ot;xe=this,ot=!0;try{return this.fn()}finally{An(this),xe=t,ot=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)or(t);this.deps=this.depsTail=void 0,yr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Si.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wi(this)&&this.run()}get dirty(){return Wi(this)}}let Ln=0,fs,_s;function Rn(e,t=!1){if(e.flags|=8,t){e.next=_s,_s=e;return}e.next=fs,fs=e}function rr(){Ln++}function nr(){if(--Ln>0)return;if(_s){let t=_s;for(_s=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;fs;){let t=fs;for(fs=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(h){e||(e=h)}t=r}}if(e)throw e}function kn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function An(e){let t,r=e.depsTail,h=r;for(;h;){const g=h.prevDep;h.version===-1?(h===r&&(r=g),or(h),da(h)):t=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=g}e.deps=t,e.depsTail=r}function Wi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dn(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Dn(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bs)||(e.globalVersion=bs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wi(e))))return;e.flags|=2;const t=e.dep,r=xe,h=ot;xe=e,ot=!0;try{kn(e);const g=e.fn(e._value);(t.version===0||Bt(g,e._value))&&(e.flags|=128,e._value=g,t.version++)}catch(g){throw t.version++,g}finally{xe=r,ot=h,An(e),e.flags&=-3}}function or(e,t=!1){const{dep:r,prevSub:h,nextSub:g}=e;if(h&&(h.nextSub=g,e.prevSub=void 0),g&&(g.prevSub=h,e.nextSub=void 0),r.subs===e&&(r.subs=h,!h&&r.computed)){r.computed.flags&=-5;for(let C=r.computed.deps;C;C=C.nextDep)or(C,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function da(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ot=!0;const Tn=[];function xt(){Tn.push(ot),ot=!1}function Lt(){const e=Tn.pop();ot=e===void 0?!0:e}function yr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=xe;xe=void 0;try{t()}finally{xe=r}}}let bs=0;class fa{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ni{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xe||!ot||xe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==xe)r=this.activeLink=new fa(xe,this),xe.deps?(r.prevDep=xe.depsTail,xe.depsTail.nextDep=r,xe.depsTail=r):xe.deps=xe.depsTail=r,On(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const h=r.nextDep;h.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=h),r.prevDep=xe.depsTail,r.nextDep=void 0,xe.depsTail.nextDep=r,xe.depsTail=r,xe.deps===r&&(xe.deps=h)}return r}trigger(t){this.version++,bs++,this.notify(t)}notify(t){rr();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{nr()}}}function On(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let h=t.deps;h;h=h.nextDep)On(h)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const zs=new WeakMap,qt=Symbol(""),Ui=Symbol(""),Cs=Symbol("");function je(e,t,r){if(ot&&xe){let h=zs.get(e);h||zs.set(e,h=new Map);let g=h.get(r);g||(h.set(r,g=new ni),g.map=h,g.key=r),g.track()}}function yt(e,t,r,h,g,C){const b=zs.get(e);if(!b){bs++;return}const s=a=>{a&&a.trigger()};if(rr(),t==="clear")b.forEach(s);else{const a=ue(e),u=a&&ir(r);if(a&&r==="length"){const f=Number(h);b.forEach((c,d)=>{(d==="length"||d===Cs||!Rt(d)&&d>=f)&&s(c)})}else switch((r!==void 0||b.has(void 0))&&s(b.get(r)),u&&s(b.get(Cs)),t){case"add":a?u&&s(b.get("length")):(s(b.get(qt)),es(e)&&s(b.get(Ui)));break;case"delete":a||(s(b.get(qt)),es(e)&&s(b.get(Ui)));break;case"set":es(e)&&s(b.get(qt));break}}nr()}function _a(e,t){const r=zs.get(e);return r&&r.get(t)}function Jt(e){const t=be(e);return t===e?t:(je(t,"iterate",Cs),rt(e)?t:t.map($e))}function oi(e){return je(e=be(e),"iterate",Cs),e}const pa={__proto__:null,[Symbol.iterator](){return bi(this,Symbol.iterator,$e)},concat(...e){return Jt(this).concat(...e.map(t=>ue(t)?Jt(t):t))},entries(){return bi(this,"entries",e=>(e[1]=$e(e[1]),e))},every(e,t){return St(this,"every",e,t,void 0,arguments)},filter(e,t){return St(this,"filter",e,t,r=>r.map($e),arguments)},find(e,t){return St(this,"find",e,t,$e,arguments)},findIndex(e,t){return St(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return St(this,"findLast",e,t,$e,arguments)},findLastIndex(e,t){return St(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return St(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ci(this,"includes",e)},indexOf(...e){return Ci(this,"indexOf",e)},join(e){return Jt(this).join(e)},lastIndexOf(...e){return Ci(this,"lastIndexOf",e)},map(e,t){return St(this,"map",e,t,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...t){return wr(this,"reduce",e,t)},reduceRight(e,...t){return wr(this,"reduceRight",e,t)},shift(){return as(this,"shift")},some(e,t){return St(this,"some",e,t,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return Jt(this).toReversed()},toSorted(e){return Jt(this).toSorted(e)},toSpliced(...e){return Jt(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return bi(this,"values",$e)}};function bi(e,t,r){const h=oi(e),g=h[t]();return h!==e&&!rt(e)&&(g._next=g.next,g.next=()=>{const C=g._next();return C.value&&(C.value=r(C.value)),C}),g}const ga=Array.prototype;function St(e,t,r,h,g,C){const b=oi(e),s=b!==e&&!rt(e),a=b[t];if(a!==ga[t]){const c=a.apply(e,C);return s?$e(c):c}let u=r;b!==e&&(s?u=function(c,d){return r.call(this,$e(c),d,e)}:r.length>2&&(u=function(c,d){return r.call(this,c,d,e)}));const f=a.call(b,u,h);return s&&g?g(f):f}function wr(e,t,r,h){const g=oi(e);let C=r;return g!==e&&(rt(e)?r.length>3&&(C=function(b,s,a){return r.call(this,b,s,a,e)}):C=function(b,s,a){return r.call(this,b,$e(s),a,e)}),g[t](C,...h)}function Ci(e,t,r){const h=be(e);je(h,"iterate",Cs);const g=h[t](...r);return(g===-1||g===!1)&&cr(r[0])?(r[0]=be(r[0]),h[t](...r)):g}function as(e,t,r=[]){xt(),rr();const h=be(e)[t].apply(e,r);return nr(),Lt(),h}const va=er("__proto__,__v_isRef,__isVue"),Mn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function ma(e){Rt(e)||(e=String(e));const t=be(this);return je(t,"has",e),t.hasOwnProperty(e)}class In{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,h){if(r==="__v_skip")return t.__v_skip;const g=this._isReadonly,C=this._isShallow;if(r==="__v_isReactive")return!g;if(r==="__v_isReadonly")return g;if(r==="__v_isShallow")return C;if(r==="__v_raw")return h===(g?C?ka:Hn:C?Fn:Pn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(h)?t:void 0;const b=ue(t);if(!g){let a;if(b&&(a=pa[r]))return a;if(r==="hasOwnProperty")return ma}const s=Reflect.get(t,r,Oe(t)?t:h);return(Rt(r)?Mn.has(r):va(r))||(g||je(t,"get",r),C)?s:Oe(s)?b&&ir(r)?s:s.value:ke(s)?g?ai(s):As(s):s}}class Bn extends In{constructor(t=!1){super(!1,t)}set(t,r,h,g){let C=t[r];if(!this._isShallow){const a=Pt(C);if(!rt(h)&&!Pt(h)&&(C=be(C),h=be(h)),!ue(t)&&Oe(C)&&!Oe(h))return a?!1:(C.value=h,!0)}const b=ue(t)&&ir(r)?Number(r)<t.length:ye(t,r),s=Reflect.set(t,r,h,Oe(t)?t:g);return t===be(g)&&(b?Bt(h,C)&&yt(t,"set",r,h):yt(t,"add",r,h)),s}deleteProperty(t,r){const h=ye(t,r);t[r];const g=Reflect.deleteProperty(t,r);return g&&h&&yt(t,"delete",r,void 0),g}has(t,r){const h=Reflect.has(t,r);return(!Rt(r)||!Mn.has(r))&&je(t,"has",r),h}ownKeys(t){return je(t,"iterate",ue(t)?"length":qt),Reflect.ownKeys(t)}}class Sa extends In{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const ba=new Bn,Ca=new Sa,ya=new Bn(!0);const ji=e=>e,Is=e=>Reflect.getPrototypeOf(e);function wa(e,t,r){return function(...h){const g=this.__v_raw,C=be(g),b=es(C),s=e==="entries"||e===Symbol.iterator&&b,a=e==="keys"&&b,u=g[e](...h),f=r?ji:t?Ks:$e;return!t&&je(C,"iterate",a?Ui:qt),{next(){const{value:c,done:d}=u.next();return d?{value:c,done:d}:{value:s?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function Bs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ea(e,t){const r={get(g){const C=this.__v_raw,b=be(C),s=be(g);e||(Bt(g,s)&&je(b,"get",g),je(b,"get",s));const{has:a}=Is(b),u=t?ji:e?Ks:$e;if(a.call(b,g))return u(C.get(g));if(a.call(b,s))return u(C.get(s));C!==b&&C.get(g)},get size(){const g=this.__v_raw;return!e&&je(be(g),"iterate",qt),Reflect.get(g,"size",g)},has(g){const C=this.__v_raw,b=be(C),s=be(g);return e||(Bt(g,s)&&je(b,"has",g),je(b,"has",s)),g===s?C.has(g):C.has(g)||C.has(s)},forEach(g,C){const b=this,s=b.__v_raw,a=be(s),u=t?ji:e?Ks:$e;return!e&&je(a,"iterate",qt),s.forEach((f,c)=>g.call(C,u(f),u(c),b))}};return Fe(r,e?{add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear")}:{add(g){!t&&!rt(g)&&!Pt(g)&&(g=be(g));const C=be(this);return Is(C).has.call(C,g)||(C.add(g),yt(C,"add",g,g)),this},set(g,C){!t&&!rt(C)&&!Pt(C)&&(C=be(C));const b=be(this),{has:s,get:a}=Is(b);let u=s.call(b,g);u||(g=be(g),u=s.call(b,g));const f=a.call(b,g);return b.set(g,C),u?Bt(C,f)&&yt(b,"set",g,C):yt(b,"add",g,C),this},delete(g){const C=be(this),{has:b,get:s}=Is(C);let a=b.call(C,g);a||(g=be(g),a=b.call(C,g)),s&&s.call(C,g);const u=C.delete(g);return a&&yt(C,"delete",g,void 0),u},clear(){const g=be(this),C=g.size!==0,b=g.clear();return C&&yt(g,"clear",void 0,void 0),b}}),["keys","values","entries",Symbol.iterator].forEach(g=>{r[g]=wa(g,e,t)}),r}function ar(e,t){const r=Ea(e,t);return(h,g,C)=>g==="__v_isReactive"?!e:g==="__v_isReadonly"?e:g==="__v_raw"?h:Reflect.get(ye(r,g)&&g in h?r:h,g,C)}const xa={get:ar(!1,!1)},La={get:ar(!1,!0)},Ra={get:ar(!0,!1)};const Pn=new WeakMap,Fn=new WeakMap,Hn=new WeakMap,ka=new WeakMap;function Aa(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Da(e){return e.__v_skip||!Object.isExtensible(e)?0:Aa(Qo(e))}function As(e){return Pt(e)?e:lr(e,!1,ba,xa,Pn)}function $n(e){return lr(e,!1,ya,La,Fn)}function ai(e){return lr(e,!0,Ca,Ra,Hn)}function lr(e,t,r,h,g){if(!ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const C=Da(e);if(C===0)return e;const b=g.get(e);if(b)return b;const s=new Proxy(e,C===2?h:r);return g.set(e,s),s}function ts(e){return Pt(e)?ts(e.__v_raw):!!(e&&e.__v_isReactive)}function Pt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function cr(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function He(e){return!ye(e,"__v_skip")&&Object.isExtensible(e)&&Ni(e,"__v_skip",!0),e}const $e=e=>ke(e)?As(e):e,Ks=e=>ke(e)?ai(e):e;function Oe(e){return e?e.__v_isRef===!0:!1}function Se(e){return Nn(e,!1)}function Ds(e){return Nn(e,!0)}function Nn(e,t){return Oe(e)?e:new Ta(e,t)}class Ta{constructor(t,r){this.dep=new ni,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:be(t),this._value=r?t:$e(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,h=this.__v_isShallow||rt(t)||Pt(t);t=h?t:be(t),Bt(t,r)&&(this._rawValue=t,this._value=h?t:$e(t),this.dep.trigger())}}function Wn(e){e.dep&&e.dep.trigger()}function le(e){return Oe(e)?e.value:e}const Oa={get:(e,t,r)=>t==="__v_raw"?e:le(Reflect.get(e,t,r)),set:(e,t,r,h)=>{const g=e[t];return Oe(g)&&!Oe(r)?(g.value=r,!0):Reflect.set(e,t,r,h)}};function Un(e){return ts(e)?e:new Proxy(e,Oa)}class Ma{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new ni,{get:h,set:g}=t(r.track.bind(r),r.trigger.bind(r));this._get=h,this._set=g}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Ia(e){return new Ma(e)}function Ba(e){const t=ue(e)?new Array(e.length):{};for(const r in e)t[r]=jn(e,r);return t}class Pa{constructor(t,r,h){this._object=t,this._key=r,this._defaultValue=h,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _a(be(this._object),this._key)}}class Fa{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ps(e,t,r){return Oe(e)?e:fe(e)?new Fa(e):ke(e)&&arguments.length>1?jn(e,t,r):Se(e)}function jn(e,t,r){const h=e[t];return Oe(h)?h:new Pa(e,t,r)}class Ha{constructor(t,r,h){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ni(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return Rn(this,!0),!0}get value(){const t=this.dep.track();return Dn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $a(e,t,r=!1){let h,g;return fe(e)?h=e:(h=e.get,g=e.set),new Ha(h,g,r)}const Fs={},Vs=new WeakMap;let Kt;function Na(e,t=!1,r=Kt){if(r){let h=Vs.get(r);h||Vs.set(r,h=[]),h.push(e)}}function Wa(e,t,r=Ee){const{immediate:h,deep:g,once:C,scheduler:b,augmentJob:s,call:a}=r,u=p=>g?p:rt(p)||g===!1||g===0?wt(p,1):wt(p);let f,c,d,S,y=!1,v=!1;if(Oe(e)?(c=()=>e.value,y=rt(e)):ts(e)?(c=()=>u(e),y=!0):ue(e)?(v=!0,y=e.some(p=>ts(p)||rt(p)),c=()=>e.map(p=>{if(Oe(p))return p.value;if(ts(p))return u(p);if(fe(p))return a?a(p,2):p()})):fe(e)?t?c=a?()=>a(e,2):e:c=()=>{if(d){xt();try{d()}finally{Lt()}}const p=Kt;Kt=f;try{return a?a(e,3,[S]):e(S)}finally{Kt=p}}:c=_t,t&&g){const p=c,m=g===!0?1/0:g;c=()=>wt(p(),m)}const i=ua(),o=()=>{f.stop(),i&&i.active&&sr(i.effects,f)};if(C&&t){const p=t;t=(...m)=>{p(...m),o()}}let n=v?new Array(e.length).fill(Fs):Fs;const l=p=>{if(!(!(f.flags&1)||!f.dirty&&!p))if(t){const m=f.run();if(g||y||(v?m.some((w,x)=>Bt(w,n[x])):Bt(m,n))){d&&d();const w=Kt;Kt=f;try{const x=[m,n===Fs?void 0:v&&n[0]===Fs?[]:n,S];n=m,a?a(t,3,x):t(...x)}finally{Kt=w}}}else f.run()};return s&&s(l),f=new xn(c),f.scheduler=b?()=>b(l,!1):l,S=p=>Na(p,!1,f),d=f.onStop=()=>{const p=Vs.get(f);if(p){if(a)a(p,4);else for(const m of p)m();Vs.delete(f)}},t?h?l(!0):n=f.run():b?b(l.bind(null,!0),!0):f.run(),o.pause=f.pause.bind(f),o.resume=f.resume.bind(f),o.stop=o,o}function wt(e,t=1/0,r){if(t<=0||!ke(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Oe(e))wt(e.value,t,r);else if(ue(e))for(let h=0;h<e.length;h++)wt(e[h],t,r);else if(mn(e)||es(e))e.forEach(h=>{wt(h,t,r)});else if(Cn(e)){for(const h in e)wt(e[h],t,r);for(const h of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,h)&&wt(e[h],t,r)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ts(e,t,r,h){try{return h?e(...h):e()}catch(g){li(g,t,r)}}function lt(e,t,r,h){if(fe(e)){const g=Ts(e,t,r,h);return g&&Sn(g)&&g.catch(C=>{li(C,t,r)}),g}if(ue(e)){const g=[];for(let C=0;C<e.length;C++)g.push(lt(e[C],t,r,h));return g}}function li(e,t,r,h=!0){const g=t?t.vnode:null,{errorHandler:C,throwUnhandledErrorInProduction:b}=t&&t.appContext.config||Ee;if(t){let s=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,a,u)===!1)return}s=s.parent}if(C){xt(),Ts(C,null,10,[e,a,u]),Lt();return}}Ua(e,r,g,h,b)}function Ua(e,t,r,h=!0,g=!1){if(g)throw e;console.error(e)}const Ge=[];let dt=-1;const ss=[];let Tt=null,Zt=0;const zn=Promise.resolve();let qs=null;function Gs(e){const t=qs||zn;return e?t.then(this?e.bind(this):e):t}function ja(e){let t=dt+1,r=Ge.length;for(;t<r;){const h=t+r>>>1,g=Ge[h],C=ys(g);C<e||C===e&&g.flags&2?t=h+1:r=h}return t}function hr(e){if(!(e.flags&1)){const t=ys(e),r=Ge[Ge.length-1];!r||!(e.flags&2)&&t>=ys(r)?Ge.push(e):Ge.splice(ja(t),0,e),e.flags|=1,Kn()}}function Kn(){qs||(qs=zn.then(qn))}function za(e){ue(e)?ss.push(...e):Tt&&e.id===-1?Tt.splice(Zt+1,0,e):e.flags&1||(ss.push(e),e.flags|=1),Kn()}function Er(e,t,r=dt+1){for(;r<Ge.length;r++){const h=Ge[r];if(h&&h.flags&2){if(e&&h.id!==e.uid)continue;Ge.splice(r,1),r--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function Vn(e){if(ss.length){const t=[...new Set(ss)].sort((r,h)=>ys(r)-ys(h));if(ss.length=0,Tt){Tt.push(...t);return}for(Tt=t,Zt=0;Zt<Tt.length;Zt++){const r=Tt[Zt];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Tt=null,Zt=0}}const ys=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qn(e){try{for(dt=0;dt<Ge.length;dt++){const t=Ge[dt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ts(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dt<Ge.length;dt++){const t=Ge[dt];t&&(t.flags&=-2)}dt=-1,Ge.length=0,Vn(),qs=null,(Ge.length||ss.length)&&qn()}}let Pe=null,Gn=null;function Xs(e){const t=Pe;return Pe=e,Gn=e&&e.type.__scopeId||null,t}function Le(e,t=Pe,r){if(!t||e._n)return e;const h=(...g)=>{h._d&&$r(-1);const C=Xs(t);let b;try{b=e(...g)}finally{Xs(C),h._d&&$r(1)}return b};return h._n=!0,h._c=!0,h._d=!0,h}function xr(e,t){if(Pe===null)return e;const r=_i(Pe),h=e.dirs||(e.dirs=[]);for(let g=0;g<t.length;g++){let[C,b,s,a=Ee]=t[g];C&&(fe(C)&&(C={mounted:C,updated:C}),C.deep&&wt(b),h.push({dir:C,instance:r,value:b,oldValue:void 0,arg:s,modifiers:a}))}return e}function Wt(e,t,r,h){const g=e.dirs,C=t&&t.dirs;for(let b=0;b<g.length;b++){const s=g[b];C&&(s.oldValue=C[b].value);let a=s.dir[h];a&&(xt(),lt(a,r,8,[e.el,s,e,t]),Lt())}}const Xn=Symbol("_vte"),Jn=e=>e.__isTeleport,ps=e=>e&&(e.disabled||e.disabled===""),Lr=e=>e&&(e.defer||e.defer===""),Rr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,zi=(e,t)=>{const r=e&&e.to;return Ae(r)?t?t(r):null:r},Yn={name:"Teleport",__isTeleport:!0,process(e,t,r,h,g,C,b,s,a,u){const{mc:f,pc:c,pbc:d,o:{insert:S,querySelector:y,createText:v,createComment:i}}=u,o=ps(t.props);let{shapeFlag:n,children:l,dynamicChildren:p}=t;if(e==null){const m=t.el=v(""),w=t.anchor=v("");S(m,r,h),S(w,r,h);const x=(E,R)=>{n&16&&(g&&g.isCE&&(g.ce._teleportTarget=E),f(l,E,R,g,C,b,s,a))},_=()=>{const E=t.target=zi(t.props,y),R=Zn(E,t,v,S);E&&(b!=="svg"&&Rr(E)?b="svg":b!=="mathml"&&kr(E)&&(b="mathml"),o||(x(E,R),Ns(t,!1)))};o&&(x(r,w),Ns(t,!0)),Lr(t.props)?(t.el.__isMounted=!1,qe(()=>{_(),delete t.el.__isMounted},C)):_()}else{if(Lr(t.props)&&e.el.__isMounted===!1){qe(()=>{Yn.process(e,t,r,h,g,C,b,s,a,u)},C);return}t.el=e.el,t.targetStart=e.targetStart;const m=t.anchor=e.anchor,w=t.target=e.target,x=t.targetAnchor=e.targetAnchor,_=ps(e.props),E=_?r:w,R=_?m:x;if(b==="svg"||Rr(w)?b="svg":(b==="mathml"||kr(w))&&(b="mathml"),p?(d(e.dynamicChildren,p,E,g,C,b,s),_r(e,t,!0)):a||c(e,t,E,R,g,C,b,s,!1),o)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Hs(t,r,m,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=zi(t.props,y);O&&Hs(t,O,null,u,0)}else _&&Hs(t,w,x,u,1);Ns(t,o)}},remove(e,t,r,{um:h,o:{remove:g}},C){const{shapeFlag:b,children:s,anchor:a,targetStart:u,targetAnchor:f,target:c,props:d}=e;if(c&&(g(u),g(f)),C&&g(a),b&16){const S=C||!ps(d);for(let y=0;y<s.length;y++){const v=s[y];h(v,t,r,S,!!v.dynamicChildren)}}},move:Hs,hydrate:Ka};function Hs(e,t,r,{o:{insert:h},m:g},C=2){C===0&&h(e.targetAnchor,t,r);const{el:b,anchor:s,shapeFlag:a,children:u,props:f}=e,c=C===2;if(c&&h(b,t,r),(!c||ps(f))&&a&16)for(let d=0;d<u.length;d++)g(u[d],t,r,2);c&&h(s,t,r)}function Ka(e,t,r,h,g,C,{o:{nextSibling:b,parentNode:s,querySelector:a,insert:u,createText:f}},c){const d=t.target=zi(t.props,a);if(d){const S=ps(t.props),y=d._lpa||d.firstChild;if(t.shapeFlag&16)if(S)t.anchor=c(b(e),t,s(e),r,h,g,C),t.targetStart=y,t.targetAnchor=y&&b(y);else{t.anchor=b(e);let v=y;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&b(t.targetAnchor);break}}v=b(v)}t.targetAnchor||Zn(d,t,f,u),c(y&&b(y),t,d,r,h,g,C)}Ns(t,S)}return t.anchor&&b(t.anchor)}const Va=Yn;function Ns(e,t){const r=e.ctx;if(r&&r.ut){let h,g;for(t?(h=e.el,g=e.anchor):(h=e.targetStart,g=e.targetAnchor);h&&h!==g;)h.nodeType===1&&h.setAttribute("data-v-owner",r.uid),h=h.nextSibling;r.ut()}}function Zn(e,t,r,h){const g=t.targetStart=r(""),C=t.targetAnchor=r("");return g[Xn]=C,e&&(h(g,e),h(C,e)),C}const Ot=Symbol("_leaveCb"),$s=Symbol("_enterCb");function qa(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return st(()=>{e.isMounted=!0}),Ht(()=>{e.isUnmounting=!0}),e}const it=[Function,Array],Qn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it},eo=e=>{const t=e.subTree;return t.component?eo(t.component):t},Ga={name:"BaseTransition",props:Qn,setup(e,{slots:t}){const r=Ul(),h=qa();return()=>{const g=t.default&&io(t.default(),!0);if(!g||!g.length)return;const C=to(g),b=be(e),{mode:s}=b;if(h.isLeaving)return yi(C);const a=Ar(C);if(!a)return yi(C);let u=Ki(a,b,h,r,c=>u=c);a.type!==ze&&ws(a,u);let f=r.subTree&&Ar(r.subTree);if(f&&f.type!==ze&&!Vt(a,f)&&eo(r).type!==ze){let c=Ki(f,b,h,r);if(ws(f,c),s==="out-in"&&a.type!==ze)return h.isLeaving=!0,c.afterLeave=()=>{h.isLeaving=!1,r.job.flags&8||r.update(),delete c.afterLeave,f=void 0},yi(C);s==="in-out"&&a.type!==ze?c.delayLeave=(d,S,y)=>{const v=so(h,f);v[String(f.key)]=f,d[Ot]=()=>{S(),d[Ot]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return C}}};function to(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==ze){t=r;break}}return t}const Xa=Ga;function so(e,t){const{leavingVNodes:r}=e;let h=r.get(t.type);return h||(h=Object.create(null),r.set(t.type,h)),h}function Ki(e,t,r,h,g){const{appear:C,mode:b,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:d,onLeave:S,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:i,onAppear:o,onAfterAppear:n,onAppearCancelled:l}=t,p=String(e.key),m=so(r,e),w=(E,R)=>{E&&lt(E,h,9,R)},x=(E,R)=>{const O=R[1];w(E,R),ue(E)?E.every(k=>k.length<=1)&&O():E.length<=1&&O()},_={mode:b,persisted:s,beforeEnter(E){let R=a;if(!r.isMounted)if(C)R=i||a;else return;E[Ot]&&E[Ot](!0);const O=m[p];O&&Vt(e,O)&&O.el[Ot]&&O.el[Ot](),w(R,[E])},enter(E){let R=u,O=f,k=c;if(!r.isMounted)if(C)R=o||u,O=n||f,k=l||c;else return;let M=!1;const F=E[$s]=$=>{M||(M=!0,$?w(k,[E]):w(O,[E]),_.delayedLeave&&_.delayedLeave(),E[$s]=void 0)};R?x(R,[E,F]):F()},leave(E,R){const O=String(e.key);if(E[$s]&&E[$s](!0),r.isUnmounting)return R();w(d,[E]);let k=!1;const M=E[Ot]=F=>{k||(k=!0,R(),F?w(v,[E]):w(y,[E]),E[Ot]=void 0,m[O]===e&&delete m[O])};m[O]=e,S?x(S,[E,M]):M()},clone(E){const R=Ki(E,t,r,h,g);return g&&g(R),R}};return _}function yi(e){if(ci(e))return e=Ft(e),e.children=null,e}function Ar(e){if(!ci(e))return Jn(e.type)&&e.children?to(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&fe(r.default))return r.default()}}function ws(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ws(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function io(e,t=!1,r){let h=[],g=0;for(let C=0;C<e.length;C++){let b=e[C];const s=r==null?b.key:String(r)+String(b.key!=null?b.key:C);b.type===Ie?(b.patchFlag&128&&g++,h=h.concat(io(b.children,t,s))):(t||b.type!==ze)&&h.push(s!=null?Ft(b,{key:s}):b)}if(g>1)for(let C=0;C<h.length;C++)h[C].patchFlag=-2;return h}/*! #__NO_SIDE_EFFECTS__ */function Ze(e,t){return fe(e)?Fe({name:e.name},t,{setup:e}):e}function ro(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function gs(e,t,r,h,g=!1){if(ue(e)){e.forEach((y,v)=>gs(y,t&&(ue(t)?t[v]:t),r,h,g));return}if(is(h)&&!g){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&gs(e,t,r,h.component.subTree);return}const C=h.shapeFlag&4?_i(h.component):h.el,b=g?null:C,{i:s,r:a}=e,u=t&&t.r,f=s.refs===Ee?s.refs={}:s.refs,c=s.setupState,d=be(c),S=c===Ee?()=>!1:y=>ye(d,y);if(u!=null&&u!==a&&(Ae(u)?(f[u]=null,S(u)&&(c[u]=null)):Oe(u)&&(u.value=null)),fe(a))Ts(a,s,12,[b,f]);else{const y=Ae(a),v=Oe(a);if(y||v){const i=()=>{if(e.f){const o=y?S(a)?c[a]:f[a]:a.value;g?ue(o)&&sr(o,C):ue(o)?o.includes(C)||o.push(C):y?(f[a]=[C],S(a)&&(c[a]=f[a])):(a.value=[C],e.k&&(f[e.k]=a.value))}else y?(f[a]=b,S(a)&&(c[a]=b)):v&&(a.value=b,e.k&&(f[e.k]=b))};b?(i.id=-1,qe(i,r)):i()}}}ri().requestIdleCallback;ri().cancelIdleCallback;const is=e=>!!e.type.__asyncLoader,ci=e=>e.type.__isKeepAlive;function Ja(e,t){no(e,"a",t)}function Ya(e,t){no(e,"da",t)}function no(e,t,r=Ne){const h=e.__wdc||(e.__wdc=()=>{let g=r;for(;g;){if(g.isDeactivated)return;g=g.parent}return e()});if(hi(t,h,r),r){let g=r.parent;for(;g&&g.parent;)ci(g.parent.vnode)&&Za(h,t,r,g),g=g.parent}}function Za(e,t,r,h){const g=hi(t,e,h,!0);oo(()=>{sr(h[t],g)},r)}function hi(e,t,r=Ne,h=!1){if(r){const g=r[e]||(r[e]=[]),C=t.__weh||(t.__weh=(...b)=>{xt();const s=Os(r),a=lt(t,r,e,b);return s(),Lt(),a});return h?g.unshift(C):g.push(C),C}}const kt=e=>(t,r=Ne)=>{(!Ls||e==="sp")&&hi(e,(...h)=>t(...h),r)},Qa=kt("bm"),st=kt("m"),el=kt("bu"),tl=kt("u"),Ht=kt("bum"),oo=kt("um"),sl=kt("sp"),il=kt("rtg"),rl=kt("rtc");function nl(e,t=Ne){hi("ec",e,t)}const ol="components",ao=Symbol.for("v-ndc");function Dr(e){return Ae(e)?al(ol,e,!1)||e:e||ao}function al(e,t,r=!0,h=!1){const g=Pe||Ne;if(g){const C=g.type;{const s=ql(C,!1);if(s&&(s===t||s===nt(t)||s===ii(nt(t))))return C}const b=Tr(g[e]||C[e],t)||Tr(g.appContext[e],t);return!b&&h?C:b}}function Tr(e,t){return e&&(e[t]||e[nt(t)]||e[ii(nt(t))])}function ur(e,t,r,h){let g;const C=r,b=ue(e);if(b||Ae(e)){const s=b&&ts(e);let a=!1,u=!1;s&&(a=!rt(e),u=Pt(e),e=oi(e)),g=new Array(e.length);for(let f=0,c=e.length;f<c;f++)g[f]=t(a?u?Ks($e(e[f])):$e(e[f]):e[f],f,void 0,C)}else if(typeof e=="number"){g=new Array(e);for(let s=0;s<e;s++)g[s]=t(s+1,s,void 0,C)}else if(ke(e))if(e[Symbol.iterator])g=Array.from(e,(s,a)=>t(s,a,void 0,C));else{const s=Object.keys(e);g=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const f=s[a];g[a]=t(e[f],f,a,C)}}else g=[];return g}function Ke(e,t,r={},h,g){if(Pe.ce||Pe.parent&&is(Pe.parent)&&Pe.parent.ce)return te(),We(Ie,null,[ce("slot",r,h)],64);let C=e[t];C&&C._c&&(C._d=!1),te();const b=C&&lo(C(r)),s=r.key||b&&b.key,a=We(Ie,{key:(s&&!Rt(s)?s:`_${t}`)+""},b||[],b&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),C&&C._c&&(C._d=!0),a}function lo(e){return e.some(t=>xs(t)?!(t.type===ze||t.type===Ie&&!lo(t.children)):!0)?e:null}const Vi=e=>e?ko(e)?_i(e):Vi(e.parent):null,vs=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vi(e.parent),$root:e=>Vi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ho(e),$forceUpdate:e=>e.f||(e.f=()=>{hr(e.update)}),$nextTick:e=>e.n||(e.n=Gs.bind(e.proxy)),$watch:e=>Al.bind(e)}),wi=(e,t)=>e!==Ee&&!e.__isScriptSetup&&ye(e,t),ll={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:h,data:g,props:C,accessCache:b,type:s,appContext:a}=e;let u;if(t[0]!=="$"){const S=b[t];if(S!==void 0)switch(S){case 1:return h[t];case 2:return g[t];case 4:return r[t];case 3:return C[t]}else{if(wi(h,t))return b[t]=1,h[t];if(g!==Ee&&ye(g,t))return b[t]=2,g[t];if((u=e.propsOptions[0])&&ye(u,t))return b[t]=3,C[t];if(r!==Ee&&ye(r,t))return b[t]=4,r[t];Gi&&(b[t]=0)}}const f=vs[t];let c,d;if(f)return t==="$attrs"&&je(e.attrs,"get",""),f(e);if((c=s.__cssModules)&&(c=c[t]))return c;if(r!==Ee&&ye(r,t))return b[t]=4,r[t];if(d=a.config.globalProperties,ye(d,t))return d[t]},set({_:e},t,r){const{data:h,setupState:g,ctx:C}=e;return wi(g,t)?(g[t]=r,!0):h!==Ee&&ye(h,t)?(h[t]=r,!0):ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(C[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:h,appContext:g,propsOptions:C}},b){let s;return!!r[b]||e!==Ee&&ye(e,b)||wi(t,b)||(s=C[0])&&ye(s,b)||ye(h,b)||ye(vs,b)||ye(g.config.globalProperties,b)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ye(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function qi(e){return ue(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function ui(e,t){const r=qi(e);for(const h in t){if(h.startsWith("__skip"))continue;let g=r[h];g?ue(g)||fe(g)?g=r[h]={type:g,default:t[h]}:g.default=t[h]:g===null&&(g=r[h]={default:t[h]}),g&&t[`__skip_${h}`]&&(g.skipFactory=!0)}return r}let Gi=!0;function cl(e){const t=ho(e),r=e.proxy,h=e.ctx;Gi=!1,t.beforeCreate&&Or(t.beforeCreate,e,"bc");const{data:g,computed:C,methods:b,watch:s,provide:a,inject:u,created:f,beforeMount:c,mounted:d,beforeUpdate:S,updated:y,activated:v,deactivated:i,beforeDestroy:o,beforeUnmount:n,destroyed:l,unmounted:p,render:m,renderTracked:w,renderTriggered:x,errorCaptured:_,serverPrefetch:E,expose:R,inheritAttrs:O,components:k,directives:M,filters:F}=t;if(u&&hl(u,h,null),b)for(const U in b){const L=b[U];fe(L)&&(h[U]=L.bind(r))}if(g){const U=g.call(r,r);ke(U)&&(e.data=As(U))}if(Gi=!0,C)for(const U in C){const L=C[U],I=fe(L)?L.bind(r,r):fe(L.get)?L.get.bind(r,r):_t,T=!fe(L)&&fe(L.set)?L.set.bind(r):_t,P=pt({get:I,set:T});Object.defineProperty(h,U,{enumerable:!0,configurable:!0,get:()=>P.value,set:V=>P.value=V})}if(s)for(const U in s)co(s[U],h,r,U);if(a){const U=fe(a)?a.call(r):a;Reflect.ownKeys(U).forEach(L=>{gl(L,U[L])})}f&&Or(f,e,"c");function W(U,L){ue(L)?L.forEach(I=>U(I.bind(r))):L&&U(L.bind(r))}if(W(Qa,c),W(st,d),W(el,S),W(tl,y),W(Ja,v),W(Ya,i),W(nl,_),W(rl,w),W(il,x),W(Ht,n),W(oo,p),W(sl,E),ue(R))if(R.length){const U=e.exposed||(e.exposed={});R.forEach(L=>{Object.defineProperty(U,L,{get:()=>r[L],set:I=>r[L]=I})})}else e.exposed||(e.exposed={});m&&e.render===_t&&(e.render=m),O!=null&&(e.inheritAttrs=O),k&&(e.components=k),M&&(e.directives=M),E&&ro(e)}function hl(e,t,r=_t){ue(e)&&(e=Xi(e));for(const h in e){const g=e[h];let C;ke(g)?"default"in g?C=ns(g.from||h,g.default,!0):C=ns(g.from||h):C=ns(g),Oe(C)?Object.defineProperty(t,h,{enumerable:!0,configurable:!0,get:()=>C.value,set:b=>C.value=b}):t[h]=C}}function Or(e,t,r){lt(ue(e)?e.map(h=>h.bind(t.proxy)):e.bind(t.proxy),t,r)}function co(e,t,r,h){let g=h.includes(".")?wo(r,h):()=>r[h];if(Ae(e)){const C=t[e];fe(C)&&at(g,C)}else if(fe(e))at(g,e.bind(r));else if(ke(e))if(ue(e))e.forEach(C=>co(C,t,r,h));else{const C=fe(e.handler)?e.handler.bind(r):t[e.handler];fe(C)&&at(g,C,e)}}function ho(e){const t=e.type,{mixins:r,extends:h}=t,{mixins:g,optionsCache:C,config:{optionMergeStrategies:b}}=e.appContext,s=C.get(t);let a;return s?a=s:!g.length&&!r&&!h?a=t:(a={},g.length&&g.forEach(u=>Js(a,u,b,!0)),Js(a,t,b)),ke(t)&&C.set(t,a),a}function Js(e,t,r,h=!1){const{mixins:g,extends:C}=t;C&&Js(e,C,r,!0),g&&g.forEach(b=>Js(e,b,r,!0));for(const b in t)if(!(h&&b==="expose")){const s=ul[b]||r&&r[b];e[b]=s?s(e[b],t[b]):t[b]}return e}const ul={data:Mr,props:Ir,emits:Ir,methods:hs,computed:hs,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:hs,directives:hs,watch:fl,provide:Mr,inject:dl};function Mr(e,t){return t?e?function(){return Fe(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function dl(e,t){return hs(Xi(e),Xi(t))}function Xi(e){if(ue(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function hs(e,t){return e?Fe(Object.create(null),e,t):t}function Ir(e,t){return e?ue(e)&&ue(t)?[...new Set([...e,...t])]:Fe(Object.create(null),qi(e),qi(t??{})):t}function fl(e,t){if(!e)return t;if(!t)return e;const r=Fe(Object.create(null),e);for(const h in t)r[h]=Ve(e[h],t[h]);return r}function uo(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _l=0;function pl(e,t){return function(h,g=null){fe(h)||(h=Fe({},h)),g!=null&&!ke(g)&&(g=null);const C=uo(),b=new WeakSet,s=[];let a=!1;const u=C.app={_uid:_l++,_component:h,_props:g,_container:null,_context:C,_instance:null,version:Jl,get config(){return C.config},set config(f){},use(f,...c){return b.has(f)||(f&&fe(f.install)?(b.add(f),f.install(u,...c)):fe(f)&&(b.add(f),f(u,...c))),u},mixin(f){return C.mixins.includes(f)||C.mixins.push(f),u},component(f,c){return c?(C.components[f]=c,u):C.components[f]},directive(f,c){return c?(C.directives[f]=c,u):C.directives[f]},mount(f,c,d){if(!a){const S=u._ceVNode||ce(h,g);return S.appContext=C,d===!0?d="svg":d===!1&&(d=void 0),e(S,f,d),a=!0,u._container=f,f.__vue_app__=u,_i(S.component)}},onUnmount(f){s.push(f)},unmount(){a&&(lt(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,c){return C.provides[f]=c,u},runWithContext(f){const c=rs;rs=u;try{return f()}finally{rs=c}}};return u}}let rs=null;function gl(e,t){if(Ne){let r=Ne.provides;const h=Ne.parent&&Ne.parent.provides;h===r&&(r=Ne.provides=Object.create(h)),r[e]=t}}function ns(e,t,r=!1){const h=Ne||Pe;if(h||rs){let g=rs?rs._context.provides:h?h.parent==null||h.ce?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(g&&e in g)return g[e];if(arguments.length>1)return r&&fe(t)?t.call(h&&h.proxy):t}}const fo={},_o=()=>Object.create(fo),po=e=>Object.getPrototypeOf(e)===fo;function vl(e,t,r,h=!1){const g={},C=_o();e.propsDefaults=Object.create(null),go(e,t,g,C);for(const b in e.propsOptions[0])b in g||(g[b]=void 0);r?e.props=h?g:$n(g):e.type.props?e.props=g:e.props=C,e.attrs=C}function ml(e,t,r,h){const{props:g,attrs:C,vnode:{patchFlag:b}}=e,s=be(g),[a]=e.propsOptions;let u=!1;if((h||b>0)&&!(b&16)){if(b&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(di(e.emitsOptions,d))continue;const S=t[d];if(a)if(ye(C,d))S!==C[d]&&(C[d]=S,u=!0);else{const y=nt(d);g[y]=Ji(a,s,y,S,e,!1)}else S!==C[d]&&(C[d]=S,u=!0)}}}else{go(e,t,g,C)&&(u=!0);let f;for(const c in s)(!t||!ye(t,c)&&((f=Gt(c))===c||!ye(t,f)))&&(a?r&&(r[c]!==void 0||r[f]!==void 0)&&(g[c]=Ji(a,s,c,void 0,e,!0)):delete g[c]);if(C!==s)for(const c in C)(!t||!ye(t,c))&&(delete C[c],u=!0)}u&&yt(e.attrs,"set","")}function go(e,t,r,h){const[g,C]=e.propsOptions;let b=!1,s;if(t)for(let a in t){if(ds(a))continue;const u=t[a];let f;g&&ye(g,f=nt(a))?!C||!C.includes(f)?r[f]=u:(s||(s={}))[f]=u:di(e.emitsOptions,a)||(!(a in h)||u!==h[a])&&(h[a]=u,b=!0)}if(C){const a=be(r),u=s||Ee;for(let f=0;f<C.length;f++){const c=C[f];r[c]=Ji(g,a,c,u[c],e,!ye(u,c))}}return b}function Ji(e,t,r,h,g,C){const b=e[r];if(b!=null){const s=ye(b,"default");if(s&&h===void 0){const a=b.default;if(b.type!==Function&&!b.skipFactory&&fe(a)){const{propsDefaults:u}=g;if(r in u)h=u[r];else{const f=Os(g);h=u[r]=a.call(null,t),f()}}else h=a;g.ce&&g.ce._setProp(r,h)}b[0]&&(C&&!s?h=!1:b[1]&&(h===""||h===Gt(r))&&(h=!0))}return h}const Sl=new WeakMap;function vo(e,t,r=!1){const h=r?Sl:t.propsCache,g=h.get(e);if(g)return g;const C=e.props,b={},s=[];let a=!1;if(!fe(e)){const f=c=>{a=!0;const[d,S]=vo(c,t,!0);Fe(b,d),S&&s.push(...S)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!C&&!a)return ke(e)&&h.set(e,Qt),Qt;if(ue(C))for(let f=0;f<C.length;f++){const c=nt(C[f]);Br(c)&&(b[c]=Ee)}else if(C)for(const f in C){const c=nt(f);if(Br(c)){const d=C[f],S=b[c]=ue(d)||fe(d)?{type:d}:Fe({},d),y=S.type;let v=!1,i=!0;if(ue(y))for(let o=0;o<y.length;++o){const n=y[o],l=fe(n)&&n.name;if(l==="Boolean"){v=!0;break}else l==="String"&&(i=!1)}else v=fe(y)&&y.name==="Boolean";S[0]=v,S[1]=i,(v||ye(S,"default"))&&s.push(c)}}const u=[b,s];return ke(e)&&h.set(e,u),u}function Br(e){return e[0]!=="$"&&!ds(e)}const dr=e=>e[0]==="_"||e==="$stable",fr=e=>ue(e)?e.map(ft):[ft(e)],bl=(e,t,r)=>{if(t._n)return t;const h=Le((...g)=>fr(t(...g)),r);return h._c=!1,h},mo=(e,t,r)=>{const h=e._ctx;for(const g in e){if(dr(g))continue;const C=e[g];if(fe(C))t[g]=bl(g,C,h);else if(C!=null){const b=fr(C);t[g]=()=>b}}},So=(e,t)=>{const r=fr(t);e.slots.default=()=>r},bo=(e,t,r)=>{for(const h in t)(r||!dr(h))&&(e[h]=t[h])},Cl=(e,t,r)=>{const h=e.slots=_o();if(e.vnode.shapeFlag&32){const g=t.__;g&&Ni(h,"__",g,!0);const C=t._;C?(bo(h,t,r),r&&Ni(h,"_",C,!0)):mo(t,h)}else t&&So(e,t)},yl=(e,t,r)=>{const{vnode:h,slots:g}=e;let C=!0,b=Ee;if(h.shapeFlag&32){const s=t._;s?r&&s===1?C=!1:bo(g,t,r):(C=!t.$stable,mo(t,g)),b=t}else t&&(So(e,t),b={default:1});if(C)for(const s in g)!dr(s)&&b[s]==null&&delete g[s]},qe=Pl;function wl(e){return El(e)}function El(e,t){const r=ri();r.__VUE__=!0;const{insert:h,remove:g,patchProp:C,createElement:b,createText:s,createComment:a,setText:u,setElementText:f,parentNode:c,nextSibling:d,setScopeId:S=_t,insertStaticContent:y}=e,v=(D,B,N,q=null,G=null,j=null,Q=void 0,Z=null,Y=!!B.dynamicChildren)=>{if(D===B)return;D&&!Vt(D,B)&&(q=A(D),V(D,G,j,!0),D=null),B.patchFlag===-2&&(Y=!1,B.dynamicChildren=null);const{type:X,ref:ne,shapeFlag:J}=B;switch(X){case fi:i(D,B,N,q);break;case ze:o(D,B,N,q);break;case xi:D==null&&n(B,N,q,Q);break;case Ie:k(D,B,N,q,G,j,Q,Z,Y);break;default:J&1?m(D,B,N,q,G,j,Q,Z,Y):J&6?M(D,B,N,q,G,j,Q,Z,Y):(J&64||J&128)&&X.process(D,B,N,q,G,j,Q,Z,Y,z)}ne!=null&&G?gs(ne,D&&D.ref,j,B||D,!B):ne==null&&D&&D.ref!=null&&gs(D.ref,null,j,D,!0)},i=(D,B,N,q)=>{if(D==null)h(B.el=s(B.children),N,q);else{const G=B.el=D.el;B.children!==D.children&&u(G,B.children)}},o=(D,B,N,q)=>{D==null?h(B.el=a(B.children||""),N,q):B.el=D.el},n=(D,B,N,q)=>{[D.el,D.anchor]=y(D.children,B,N,q,D.el,D.anchor)},l=({el:D,anchor:B},N,q)=>{let G;for(;D&&D!==B;)G=d(D),h(D,N,q),D=G;h(B,N,q)},p=({el:D,anchor:B})=>{let N;for(;D&&D!==B;)N=d(D),g(D),D=N;g(B)},m=(D,B,N,q,G,j,Q,Z,Y)=>{B.type==="svg"?Q="svg":B.type==="math"&&(Q="mathml"),D==null?w(B,N,q,G,j,Q,Z,Y):E(D,B,G,j,Q,Z,Y)},w=(D,B,N,q,G,j,Q,Z)=>{let Y,X;const{props:ne,shapeFlag:J,transition:re,dirs:ae}=D;if(Y=D.el=b(D.type,j,ne&&ne.is,ne),J&8?f(Y,D.children):J&16&&_(D.children,Y,null,q,G,Ei(D,j),Q,Z),ae&&Wt(D,null,q,"created"),x(Y,D,D.scopeId,Q,q),ne){for(const Ce in ne)Ce!=="value"&&!ds(Ce)&&C(Y,Ce,null,ne[Ce],j,q);"value"in ne&&C(Y,"value",null,ne.value,j),(X=ne.onVnodeBeforeMount)&&ht(X,q,D)}ae&&Wt(D,null,q,"beforeMount");const pe=xl(G,re);pe&&re.beforeEnter(Y),h(Y,B,N),((X=ne&&ne.onVnodeMounted)||pe||ae)&&qe(()=>{X&&ht(X,q,D),pe&&re.enter(Y),ae&&Wt(D,null,q,"mounted")},G)},x=(D,B,N,q,G)=>{if(N&&S(D,N),q)for(let j=0;j<q.length;j++)S(D,q[j]);if(G){let j=G.subTree;if(B===j||xo(j.type)&&(j.ssContent===B||j.ssFallback===B)){const Q=G.vnode;x(D,Q,Q.scopeId,Q.slotScopeIds,G.parent)}}},_=(D,B,N,q,G,j,Q,Z,Y=0)=>{for(let X=Y;X<D.length;X++){const ne=D[X]=Z?Mt(D[X]):ft(D[X]);v(null,ne,B,N,q,G,j,Q,Z)}},E=(D,B,N,q,G,j,Q)=>{const Z=B.el=D.el;let{patchFlag:Y,dynamicChildren:X,dirs:ne}=B;Y|=D.patchFlag&16;const J=D.props||Ee,re=B.props||Ee;let ae;if(N&&Ut(N,!1),(ae=re.onVnodeBeforeUpdate)&&ht(ae,N,B,D),ne&&Wt(B,D,N,"beforeUpdate"),N&&Ut(N,!0),(J.innerHTML&&re.innerHTML==null||J.textContent&&re.textContent==null)&&f(Z,""),X?R(D.dynamicChildren,X,Z,N,q,Ei(B,G),j):Q||L(D,B,Z,null,N,q,Ei(B,G),j,!1),Y>0){if(Y&16)O(Z,J,re,N,G);else if(Y&2&&J.class!==re.class&&C(Z,"class",null,re.class,G),Y&4&&C(Z,"style",J.style,re.style,G),Y&8){const pe=B.dynamicProps;for(let Ce=0;Ce<pe.length;Ce++){const ge=pe[Ce],Me=J[ge],De=re[ge];(De!==Me||ge==="value")&&C(Z,ge,Me,De,G,N)}}Y&1&&D.children!==B.children&&f(Z,B.children)}else!Q&&X==null&&O(Z,J,re,N,G);((ae=re.onVnodeUpdated)||ne)&&qe(()=>{ae&&ht(ae,N,B,D),ne&&Wt(B,D,N,"updated")},q)},R=(D,B,N,q,G,j,Q)=>{for(let Z=0;Z<B.length;Z++){const Y=D[Z],X=B[Z],ne=Y.el&&(Y.type===Ie||!Vt(Y,X)||Y.shapeFlag&198)?c(Y.el):N;v(Y,X,ne,null,q,G,j,Q,!0)}},O=(D,B,N,q,G)=>{if(B!==N){if(B!==Ee)for(const j in B)!ds(j)&&!(j in N)&&C(D,j,B[j],null,G,q);for(const j in N){if(ds(j))continue;const Q=N[j],Z=B[j];Q!==Z&&j!=="value"&&C(D,j,Z,Q,G,q)}"value"in N&&C(D,"value",B.value,N.value,G)}},k=(D,B,N,q,G,j,Q,Z,Y)=>{const X=B.el=D?D.el:s(""),ne=B.anchor=D?D.anchor:s("");let{patchFlag:J,dynamicChildren:re,slotScopeIds:ae}=B;ae&&(Z=Z?Z.concat(ae):ae),D==null?(h(X,N,q),h(ne,N,q),_(B.children||[],N,ne,G,j,Q,Z,Y)):J>0&&J&64&&re&&D.dynamicChildren?(R(D.dynamicChildren,re,N,G,j,Q,Z),(B.key!=null||G&&B===G.subTree)&&_r(D,B,!0)):L(D,B,N,ne,G,j,Q,Z,Y)},M=(D,B,N,q,G,j,Q,Z,Y)=>{B.slotScopeIds=Z,D==null?B.shapeFlag&512?G.ctx.activate(B,N,q,Q,Y):F(B,N,q,G,j,Q,Y):$(D,B,Y)},F=(D,B,N,q,G,j,Q)=>{const Z=D.component=Wl(D,q,G);if(ci(D)&&(Z.ctx.renderer=z),jl(Z,!1,Q),Z.asyncDep){if(G&&G.registerDep(Z,W,Q),!D.el){const Y=Z.subTree=ce(ze);o(null,Y,B,N)}}else W(Z,D,B,N,G,j,Q)},$=(D,B,N)=>{const q=B.component=D.component;if(Il(D,B,N))if(q.asyncDep&&!q.asyncResolved){U(q,B,N);return}else q.next=B,q.update();else B.el=D.el,q.vnode=B},W=(D,B,N,q,G,j,Q)=>{const Z=()=>{if(D.isMounted){let{next:J,bu:re,u:ae,parent:pe,vnode:Ce}=D;{const me=Co(D);if(me){J&&(J.el=Ce.el,U(D,J,Q)),me.asyncDep.then(()=>{D.isUnmounted||Z()});return}}let ge=J,Me;Ut(D,!1),J?(J.el=Ce.el,U(D,J,Q)):J=Ce,re&&vi(re),(Me=J.props&&J.props.onVnodeBeforeUpdate)&&ht(Me,pe,J,Ce),Ut(D,!0);const De=Fr(D),Ue=D.subTree;D.subTree=De,v(Ue,De,c(Ue.el),A(Ue),D,G,j),J.el=De.el,ge===null&&Bl(D,De.el),ae&&qe(ae,G),(Me=J.props&&J.props.onVnodeUpdated)&&qe(()=>ht(Me,pe,J,Ce),G)}else{let J;const{el:re,props:ae}=B,{bm:pe,m:Ce,parent:ge,root:Me,type:De}=D,Ue=is(B);Ut(D,!1),pe&&vi(pe),!Ue&&(J=ae&&ae.onVnodeBeforeMount)&&ht(J,ge,B),Ut(D,!0);{Me.ce&&Me.ce._def.shadowRoot!==!1&&Me.ce._injectChildStyle(De);const me=D.subTree=Fr(D);v(null,me,N,q,D,G,j),B.el=me.el}if(Ce&&qe(Ce,G),!Ue&&(J=ae&&ae.onVnodeMounted)){const me=B;qe(()=>ht(J,ge,me),G)}(B.shapeFlag&256||ge&&is(ge.vnode)&&ge.vnode.shapeFlag&256)&&D.a&&qe(D.a,G),D.isMounted=!0,B=N=q=null}};D.scope.on();const Y=D.effect=new xn(Z);D.scope.off();const X=D.update=Y.run.bind(Y),ne=D.job=Y.runIfDirty.bind(Y);ne.i=D,ne.id=D.uid,Y.scheduler=()=>hr(ne),Ut(D,!0),X()},U=(D,B,N)=>{B.component=D;const q=D.vnode.props;D.vnode=B,D.next=null,ml(D,B.props,q,N),yl(D,B.children,N),xt(),Er(D),Lt()},L=(D,B,N,q,G,j,Q,Z,Y=!1)=>{const X=D&&D.children,ne=D?D.shapeFlag:0,J=B.children,{patchFlag:re,shapeFlag:ae}=B;if(re>0){if(re&128){T(X,J,N,q,G,j,Q,Z,Y);return}else if(re&256){I(X,J,N,q,G,j,Q,Z,Y);return}}ae&8?(ne&16&&we(X,G,j),J!==X&&f(N,J)):ne&16?ae&16?T(X,J,N,q,G,j,Q,Z,Y):we(X,G,j,!0):(ne&8&&f(N,""),ae&16&&_(J,N,q,G,j,Q,Z,Y))},I=(D,B,N,q,G,j,Q,Z,Y)=>{D=D||Qt,B=B||Qt;const X=D.length,ne=B.length,J=Math.min(X,ne);let re;for(re=0;re<J;re++){const ae=B[re]=Y?Mt(B[re]):ft(B[re]);v(D[re],ae,N,null,G,j,Q,Z,Y)}X>ne?we(D,G,j,!0,!1,J):_(B,N,q,G,j,Q,Z,Y,J)},T=(D,B,N,q,G,j,Q,Z,Y)=>{let X=0;const ne=B.length;let J=D.length-1,re=ne-1;for(;X<=J&&X<=re;){const ae=D[X],pe=B[X]=Y?Mt(B[X]):ft(B[X]);if(Vt(ae,pe))v(ae,pe,N,null,G,j,Q,Z,Y);else break;X++}for(;X<=J&&X<=re;){const ae=D[J],pe=B[re]=Y?Mt(B[re]):ft(B[re]);if(Vt(ae,pe))v(ae,pe,N,null,G,j,Q,Z,Y);else break;J--,re--}if(X>J){if(X<=re){const ae=re+1,pe=ae<ne?B[ae].el:q;for(;X<=re;)v(null,B[X]=Y?Mt(B[X]):ft(B[X]),N,pe,G,j,Q,Z,Y),X++}}else if(X>re)for(;X<=J;)V(D[X],G,j,!0),X++;else{const ae=X,pe=X,Ce=new Map;for(X=pe;X<=re;X++){const Qe=B[X]=Y?Mt(B[X]):ft(B[X]);Qe.key!=null&&Ce.set(Qe.key,X)}let ge,Me=0;const De=re-pe+1;let Ue=!1,me=0;const Nt=new Array(De);for(X=0;X<De;X++)Nt[X]=0;for(X=ae;X<=J;X++){const Qe=D[X];if(Me>=De){V(Qe,G,j,!0);continue}let ct;if(Qe.key!=null)ct=Ce.get(Qe.key);else for(ge=pe;ge<=re;ge++)if(Nt[ge-pe]===0&&Vt(Qe,B[ge])){ct=ge;break}ct===void 0?V(Qe,G,j,!0):(Nt[ct-pe]=X+1,ct>=me?me=ct:Ue=!0,v(Qe,B[ct],N,null,G,j,Q,Z,Y),Me++)}const Sr=Ue?Ll(Nt):Qt;for(ge=Sr.length-1,X=De-1;X>=0;X--){const Qe=pe+X,ct=B[Qe],br=Qe+1<ne?B[Qe+1].el:q;Nt[X]===0?v(null,ct,N,br,G,j,Q,Z,Y):Ue&&(ge<0||X!==Sr[ge]?P(ct,N,br,2):ge--)}}},P=(D,B,N,q,G=null)=>{const{el:j,type:Q,transition:Z,children:Y,shapeFlag:X}=D;if(X&6){P(D.component.subTree,B,N,q);return}if(X&128){D.suspense.move(B,N,q);return}if(X&64){Q.move(D,B,N,z);return}if(Q===Ie){h(j,B,N);for(let J=0;J<Y.length;J++)P(Y[J],B,N,q);h(D.anchor,B,N);return}if(Q===xi){l(D,B,N);return}if(q!==2&&X&1&&Z)if(q===0)Z.beforeEnter(j),h(j,B,N),qe(()=>Z.enter(j),G);else{const{leave:J,delayLeave:re,afterLeave:ae}=Z,pe=()=>{D.ctx.isUnmounted?g(j):h(j,B,N)},Ce=()=>{J(j,()=>{pe(),ae&&ae()})};re?re(j,pe,Ce):Ce()}else h(j,B,N)},V=(D,B,N,q=!1,G=!1)=>{const{type:j,props:Q,ref:Z,children:Y,dynamicChildren:X,shapeFlag:ne,patchFlag:J,dirs:re,cacheIndex:ae}=D;if(J===-2&&(G=!1),Z!=null&&(xt(),gs(Z,null,N,D,!0),Lt()),ae!=null&&(B.renderCache[ae]=void 0),ne&256){B.ctx.deactivate(D);return}const pe=ne&1&&re,Ce=!is(D);let ge;if(Ce&&(ge=Q&&Q.onVnodeBeforeUnmount)&&ht(ge,B,D),ne&6)ie(D.component,N,q);else{if(ne&128){D.suspense.unmount(N,q);return}pe&&Wt(D,null,B,"beforeUnmount"),ne&64?D.type.remove(D,B,N,z,q):X&&!X.hasOnce&&(j!==Ie||J>0&&J&64)?we(X,B,N,!1,!0):(j===Ie&&J&384||!G&&ne&16)&&we(Y,B,N),q&&ee(D)}(Ce&&(ge=Q&&Q.onVnodeUnmounted)||pe)&&qe(()=>{ge&&ht(ge,B,D),pe&&Wt(D,null,B,"unmounted")},N)},ee=D=>{const{type:B,el:N,anchor:q,transition:G}=D;if(B===Ie){oe(N,q);return}if(B===xi){p(D);return}const j=()=>{g(N),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(D.shapeFlag&1&&G&&!G.persisted){const{leave:Q,delayLeave:Z}=G,Y=()=>Q(N,j);Z?Z(D.el,j,Y):Y()}else j()},oe=(D,B)=>{let N;for(;D!==B;)N=d(D),g(D),D=N;g(B)},ie=(D,B,N)=>{const{bum:q,scope:G,job:j,subTree:Q,um:Z,m:Y,a:X,parent:ne,slots:{__:J}}=D;Pr(Y),Pr(X),q&&vi(q),ne&&ue(J)&&J.forEach(re=>{ne.renderCache[re]=void 0}),G.stop(),j&&(j.flags|=8,V(Q,D,B,N)),Z&&qe(Z,B),qe(()=>{D.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},we=(D,B,N,q=!1,G=!1,j=0)=>{for(let Q=j;Q<D.length;Q++)V(D[Q],B,N,q,G)},A=D=>{if(D.shapeFlag&6)return A(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const B=d(D.anchor||D.el),N=B&&B[Xn];return N?d(N):B};let H=!1;const K=(D,B,N)=>{D==null?B._vnode&&V(B._vnode,null,null,!0):v(B._vnode||null,D,B,null,null,null,N),B._vnode=D,H||(H=!0,Er(),Vn(),H=!1)},z={p:v,um:V,m:P,r:ee,mt:F,mc:_,pc:L,pbc:R,n:A,o:e};return{render:K,hydrate:void 0,createApp:pl(K)}}function Ei({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Ut({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function xl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _r(e,t,r=!1){const h=e.children,g=t.children;if(ue(h)&&ue(g))for(let C=0;C<h.length;C++){const b=h[C];let s=g[C];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=g[C]=Mt(g[C]),s.el=b.el),!r&&s.patchFlag!==-2&&_r(b,s)),s.type===fi&&(s.el=b.el),s.type===ze&&!s.el&&(s.el=b.el)}}function Ll(e){const t=e.slice(),r=[0];let h,g,C,b,s;const a=e.length;for(h=0;h<a;h++){const u=e[h];if(u!==0){if(g=r[r.length-1],e[g]<u){t[h]=g,r.push(h);continue}for(C=0,b=r.length-1;C<b;)s=C+b>>1,e[r[s]]<u?C=s+1:b=s;u<e[r[C]]&&(C>0&&(t[h]=r[C-1]),r[C]=h)}}for(C=r.length,b=r[C-1];C-- >0;)r[C]=b,b=t[b];return r}function Co(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Co(t)}function Pr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Rl=Symbol.for("v-scx"),kl=()=>ns(Rl);function at(e,t,r){return yo(e,t,r)}function yo(e,t,r=Ee){const{immediate:h,deep:g,flush:C,once:b}=r,s=Fe({},r),a=t&&h||!t&&C!=="post";let u;if(Ls){if(C==="sync"){const S=kl();u=S.__watcherHandles||(S.__watcherHandles=[])}else if(!a){const S=()=>{};return S.stop=_t,S.resume=_t,S.pause=_t,S}}const f=Ne;s.call=(S,y,v)=>lt(S,f,y,v);let c=!1;C==="post"?s.scheduler=S=>{qe(S,f&&f.suspense)}:C!=="sync"&&(c=!0,s.scheduler=(S,y)=>{y?S():hr(S)}),s.augmentJob=S=>{t&&(S.flags|=4),c&&(S.flags|=2,f&&(S.id=f.uid,S.i=f))};const d=Wa(e,t,s);return Ls&&(u?u.push(d):a&&d()),d}function Al(e,t,r){const h=this.proxy,g=Ae(e)?e.includes(".")?wo(h,e):()=>h[e]:e.bind(h,h);let C;fe(t)?C=t:(C=t.handler,r=t);const b=Os(this),s=yo(g,C.bind(h),r);return b(),s}function wo(e,t){const r=t.split(".");return()=>{let h=e;for(let g=0;g<r.length&&h;g++)h=h[r[g]];return h}}const Dl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${nt(t)}Modifiers`]||e[`${Gt(t)}Modifiers`];function Tl(e,t,...r){if(e.isUnmounted)return;const h=e.vnode.props||Ee;let g=r;const C=t.startsWith("update:"),b=C&&Dl(h,t.slice(7));b&&(b.trim&&(g=r.map(f=>Ae(f)?f.trim():f)),b.number&&(g=r.map(sa)));let s,a=h[s=gi(t)]||h[s=gi(nt(t))];!a&&C&&(a=h[s=gi(Gt(t))]),a&&lt(a,e,6,g);const u=h[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,lt(u,e,6,g)}}function Eo(e,t,r=!1){const h=t.emitsCache,g=h.get(e);if(g!==void 0)return g;const C=e.emits;let b={},s=!1;if(!fe(e)){const a=u=>{const f=Eo(u,t,!0);f&&(s=!0,Fe(b,f))};!r&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!C&&!s?(ke(e)&&h.set(e,null),null):(ue(C)?C.forEach(a=>b[a]=null):Fe(b,C),ke(e)&&h.set(e,b),b)}function di(e,t){return!e||!ei(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(e,t[0].toLowerCase()+t.slice(1))||ye(e,Gt(t))||ye(e,t))}function Fr(e){const{type:t,vnode:r,proxy:h,withProxy:g,propsOptions:[C],slots:b,attrs:s,emit:a,render:u,renderCache:f,props:c,data:d,setupState:S,ctx:y,inheritAttrs:v}=e,i=Xs(e);let o,n;try{if(r.shapeFlag&4){const p=g||h,m=p;o=ft(u.call(m,p,f,c,S,d,y)),n=s}else{const p=t;o=ft(p.length>1?p(c,{attrs:s,slots:b,emit:a}):p(c,null)),n=t.props?s:Ol(s)}}catch(p){ms.length=0,li(p,e,1),o=ce(ze)}let l=o;if(n&&v!==!1){const p=Object.keys(n),{shapeFlag:m}=l;p.length&&m&7&&(C&&p.some(tr)&&(n=Ml(n,C)),l=Ft(l,n,!1,!0))}return r.dirs&&(l=Ft(l,null,!1,!0),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&ws(l,r.transition),o=l,Xs(i),o}const Ol=e=>{let t;for(const r in e)(r==="class"||r==="style"||ei(r))&&((t||(t={}))[r]=e[r]);return t},Ml=(e,t)=>{const r={};for(const h in e)(!tr(h)||!(h.slice(9)in t))&&(r[h]=e[h]);return r};function Il(e,t,r){const{props:h,children:g,component:C}=e,{props:b,children:s,patchFlag:a}=t,u=C.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return h?Hr(h,b,u):!!b;if(a&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(b[d]!==h[d]&&!di(u,d))return!0}}}else return(g||s)&&(!s||!s.$stable)?!0:h===b?!1:h?b?Hr(h,b,u):!0:!!b;return!1}function Hr(e,t,r){const h=Object.keys(t);if(h.length!==Object.keys(e).length)return!0;for(let g=0;g<h.length;g++){const C=h[g];if(t[C]!==e[C]&&!di(r,C))return!0}return!1}function Bl({vnode:e,parent:t},r){for(;t;){const h=t.subTree;if(h.suspense&&h.suspense.activeBranch===e&&(h.el=e.el),h===e)(e=t.vnode).el=r,t=t.parent;else break}}const xo=e=>e.__isSuspense;function Pl(e,t){t&&t.pendingBranch?ue(e)?t.effects.push(...e):t.effects.push(e):za(e)}const Ie=Symbol.for("v-fgt"),fi=Symbol.for("v-txt"),ze=Symbol.for("v-cmt"),xi=Symbol.for("v-stc"),ms=[];let tt=null;function te(e=!1){ms.push(tt=e?null:[])}function Fl(){ms.pop(),tt=ms[ms.length-1]||null}let Es=1;function $r(e,t=!1){Es+=e,e<0&&tt&&t&&(tt.hasOnce=!0)}function Lo(e){return e.dynamicChildren=Es>0?tt||Qt:null,Fl(),Es>0&&tt&&tt.push(e),e}function de(e,t,r,h,g,C){return Lo(se(e,t,r,h,g,C,!0))}function We(e,t,r,h,g){return Lo(ce(e,t,r,h,g,!0))}function xs(e){return e?e.__v_isVNode===!0:!1}function Vt(e,t){return e.type===t.type&&e.key===t.key}const Ro=({key:e})=>e??null,Ws=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||Oe(e)||fe(e)?{i:Pe,r:e,k:t,f:!!r}:e:null);function se(e,t=null,r=null,h=0,g=null,C=e===Ie?0:1,b=!1,s=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ro(t),ref:t&&Ws(t),scopeId:Gn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:C,patchFlag:h,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Pe};return s?(pr(a,r),C&128&&e.normalize(a)):r&&(a.shapeFlag|=Ae(r)?8:16),Es>0&&!b&&tt&&(a.patchFlag>0||C&6)&&a.patchFlag!==32&&tt.push(a),a}const ce=Hl;function Hl(e,t=null,r=null,h=0,g=null,C=!1){if((!e||e===ao)&&(e=ze),xs(e)){const s=Ft(e,t,!0);return r&&pr(s,r),Es>0&&!C&&tt&&(s.shapeFlag&6?tt[tt.indexOf(e)]=s:tt.push(s)),s.patchFlag=-2,s}if(Gl(e)&&(e=e.__vccOpts),t){t=mt(t);let{class:s,style:a}=t;s&&!Ae(s)&&(t.class=Ye(s)),ke(a)&&(cr(a)&&!ue(a)&&(a=Fe({},a)),t.style=Xt(a))}const b=Ae(e)?1:xo(e)?128:Jn(e)?64:ke(e)?4:fe(e)?2:0;return se(e,t,r,h,g,b,C,!0)}function mt(e){return e?cr(e)||po(e)?Fe({},e):e:null}function Ft(e,t,r=!1,h=!1){const{props:g,ref:C,patchFlag:b,children:s,transition:a}=e,u=t?Ss(g||{},t):g,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Ro(u),ref:t&&t.ref?r&&C?ue(C)?C.concat(Ws(t)):[C,Ws(t)]:Ws(t):C,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?b===-1?16:b|16:b,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ft(e.ssContent),ssFallback:e.ssFallback&&Ft(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&h&&ws(f,a.clone(f)),f}function Et(e=" ",t=0){return ce(fi,null,e,t)}function Be(e="",t=!1){return t?(te(),We(ze,null,e)):ce(ze,null,e)}function ft(e){return e==null||typeof e=="boolean"?ce(ze):ue(e)?ce(Ie,null,e.slice()):xs(e)?Mt(e):ce(fi,null,String(e))}function Mt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ft(e)}function pr(e,t){let r=0;const{shapeFlag:h}=e;if(t==null)t=null;else if(ue(t))r=16;else if(typeof t=="object")if(h&65){const g=t.default;g&&(g._c&&(g._d=!1),pr(e,g()),g._c&&(g._d=!0));return}else{r=32;const g=t._;!g&&!po(t)?t._ctx=Pe:g===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Pe},r=32):(t=String(t),h&64?(r=16,t=[Et(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ss(...e){const t={};for(let r=0;r<e.length;r++){const h=e[r];for(const g in h)if(g==="class")t.class!==h.class&&(t.class=Ye([t.class,h.class]));else if(g==="style")t.style=Xt([t.style,h.style]);else if(ei(g)){const C=t[g],b=h[g];b&&C!==b&&!(ue(C)&&C.includes(b))&&(t[g]=C?[].concat(C,b):b)}else g!==""&&(t[g]=h[g])}return t}function ht(e,t,r,h=null){lt(e,t,7,[r,h])}const $l=uo();let Nl=0;function Wl(e,t,r){const h=e.type,g=(t?t.appContext:e.appContext)||$l,C={uid:Nl++,vnode:e,type:h,parent:t,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ha(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(g.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vo(h,g),emitsOptions:Eo(h,g),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:h.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return C.ctx={_:C},C.root=t?t.root:C,C.emit=Tl.bind(null,C),e.ce&&e.ce(C),C}let Ne=null;const Ul=()=>Ne||Pe;let Ys,Yi;{const e=ri(),t=(r,h)=>{let g;return(g=e[r])||(g=e[r]=[]),g.push(h),C=>{g.length>1?g.forEach(b=>b(C)):g[0](C)}};Ys=t("__VUE_INSTANCE_SETTERS__",r=>Ne=r),Yi=t("__VUE_SSR_SETTERS__",r=>Ls=r)}const Os=e=>{const t=Ne;return Ys(e),e.scope.on(),()=>{e.scope.off(),Ys(t)}},Nr=()=>{Ne&&Ne.scope.off(),Ys(null)};function ko(e){return e.vnode.shapeFlag&4}let Ls=!1;function jl(e,t=!1,r=!1){t&&Yi(t);const{props:h,children:g}=e.vnode,C=ko(e);vl(e,h,C,t),Cl(e,g,r||t);const b=C?zl(e,t):void 0;return t&&Yi(!1),b}function zl(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ll);const{setup:h}=r;if(h){xt();const g=e.setupContext=h.length>1?Vl(e):null,C=Os(e),b=Ts(h,e,0,[e.props,g]),s=Sn(b);if(Lt(),C(),(s||e.sp)&&!is(e)&&ro(e),s){if(b.then(Nr,Nr),t)return b.then(a=>{Wr(e,a)}).catch(a=>{li(a,e,0)});e.asyncDep=b}else Wr(e,b)}else Ao(e)}function Wr(e,t,r){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ke(t)&&(e.setupState=Un(t)),Ao(e)}function Ao(e,t,r){const h=e.type;e.render||(e.render=h.render||_t);{const g=Os(e);xt();try{cl(e)}finally{Lt(),g()}}}const Kl={get(e,t){return je(e,"get",""),e[t]}};function Vl(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Kl),slots:e.slots,emit:e.emit,expose:t}}function _i(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Un(He(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in vs)return vs[r](e)},has(t,r){return r in t||r in vs}})):e.proxy}function ql(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function Gl(e){return fe(e)&&"__vccOpts"in e}const pt=(e,t)=>$a(e,t,Ls);function Xl(e,t,r){const h=arguments.length;return h===2?ke(t)&&!ue(t)?xs(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(h>3?r=Array.prototype.slice.call(arguments,2):h===3&&xs(r)&&(r=[r]),ce(e,t,r))}const Jl="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zi;const Ur=typeof window<"u"&&window.trustedTypes;if(Ur)try{Zi=Ur.createPolicy("vue",{createHTML:e=>e})}catch{}const Do=Zi?e=>Zi.createHTML(e):e=>e,Yl="http://www.w3.org/2000/svg",Zl="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,jr=Ct&&Ct.createElement("template"),Ql={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,h)=>{const g=t==="svg"?Ct.createElementNS(Yl,e):t==="mathml"?Ct.createElementNS(Zl,e):r?Ct.createElement(e,{is:r}):Ct.createElement(e);return e==="select"&&h&&h.multiple!=null&&g.setAttribute("multiple",h.multiple),g},createText:e=>Ct.createTextNode(e),createComment:e=>Ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,h,g,C){const b=r?r.previousSibling:t.lastChild;if(g&&(g===C||g.nextSibling))for(;t.insertBefore(g.cloneNode(!0),r),!(g===C||!(g=g.nextSibling)););else{jr.innerHTML=Do(h==="svg"?`<svg>${e}</svg>`:h==="mathml"?`<math>${e}</math>`:e);const s=jr.content;if(h==="svg"||h==="mathml"){const a=s.firstChild;for(;a.firstChild;)s.appendChild(a.firstChild);s.removeChild(a)}t.insertBefore(s,r)}return[b?b.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Dt="transition",ls="animation",Rs=Symbol("_vtc"),To={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ec=Fe({},Qn,To),tc=e=>(e.displayName="Transition",e.props=ec,e),sc=tc((e,{slots:t})=>Xl(Xa,ic(e),t)),jt=(e,t=[])=>{ue(e)?e.forEach(r=>r(...t)):e&&e(...t)},zr=e=>e?ue(e)?e.some(t=>t.length>1):e.length>1:!1;function ic(e){const t={};for(const k in e)k in To||(t[k]=e[k]);if(e.css===!1)return t;const{name:r="v",type:h,duration:g,enterFromClass:C=`${r}-enter-from`,enterActiveClass:b=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:a=C,appearActiveClass:u=b,appearToClass:f=s,leaveFromClass:c=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:S=`${r}-leave-to`}=e,y=rc(g),v=y&&y[0],i=y&&y[1],{onBeforeEnter:o,onEnter:n,onEnterCancelled:l,onLeave:p,onLeaveCancelled:m,onBeforeAppear:w=o,onAppear:x=n,onAppearCancelled:_=l}=t,E=(k,M,F,$)=>{k._enterCancelled=$,zt(k,M?f:s),zt(k,M?u:b),F&&F()},R=(k,M)=>{k._isLeaving=!1,zt(k,c),zt(k,S),zt(k,d),M&&M()},O=k=>(M,F)=>{const $=k?x:n,W=()=>E(M,k,F);jt($,[M,W]),Kr(()=>{zt(M,k?a:C),bt(M,k?f:s),zr($)||Vr(M,h,v,W)})};return Fe(t,{onBeforeEnter(k){jt(o,[k]),bt(k,C),bt(k,b)},onBeforeAppear(k){jt(w,[k]),bt(k,a),bt(k,u)},onEnter:O(!1),onAppear:O(!0),onLeave(k,M){k._isLeaving=!0;const F=()=>R(k,M);bt(k,c),k._enterCancelled?(bt(k,d),Xr()):(Xr(),bt(k,d)),Kr(()=>{k._isLeaving&&(zt(k,c),bt(k,S),zr(p)||Vr(k,h,i,F))}),jt(p,[k,F])},onEnterCancelled(k){E(k,!1,void 0,!0),jt(l,[k])},onAppearCancelled(k){E(k,!0,void 0,!0),jt(_,[k])},onLeaveCancelled(k){R(k),jt(m,[k])}})}function rc(e){if(e==null)return null;if(ke(e))return[Li(e.enter),Li(e.leave)];{const t=Li(e);return[t,t]}}function Li(e){return ia(e)}function bt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Rs]||(e[Rs]=new Set)).add(t)}function zt(e,t){t.split(/\s+/).forEach(h=>h&&e.classList.remove(h));const r=e[Rs];r&&(r.delete(t),r.size||(e[Rs]=void 0))}function Kr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let nc=0;function Vr(e,t,r,h){const g=e._endId=++nc,C=()=>{g===e._endId&&h()};if(r!=null)return setTimeout(C,r);const{type:b,timeout:s,propCount:a}=oc(e,t);if(!b)return h();const u=b+"end";let f=0;const c=()=>{e.removeEventListener(u,d),C()},d=S=>{S.target===e&&++f>=a&&c()};setTimeout(()=>{f<a&&c()},s+1),e.addEventListener(u,d)}function oc(e,t){const r=window.getComputedStyle(e),h=y=>(r[y]||"").split(", "),g=h(`${Dt}Delay`),C=h(`${Dt}Duration`),b=qr(g,C),s=h(`${ls}Delay`),a=h(`${ls}Duration`),u=qr(s,a);let f=null,c=0,d=0;t===Dt?b>0&&(f=Dt,c=b,d=C.length):t===ls?u>0&&(f=ls,c=u,d=a.length):(c=Math.max(b,u),f=c>0?b>u?Dt:ls:null,d=f?f===Dt?C.length:a.length:0);const S=f===Dt&&/\b(transform|all)(,|$)/.test(h(`${Dt}Property`).toString());return{type:f,timeout:c,propCount:d,hasTransform:S}}function qr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,h)=>Gr(r)+Gr(e[h])))}function Gr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Xr(){return document.body.offsetHeight}function ac(e,t,r){const h=e[Rs];h&&(t=(t?[t,...h]:[...h]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Zs=Symbol("_vod"),Oo=Symbol("_vsh"),Jr={beforeMount(e,{value:t},{transition:r}){e[Zs]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):cs(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:h}){!t!=!r&&(h?t?(h.beforeEnter(e),cs(e,!0),h.enter(e)):h.leave(e,()=>{cs(e,!1)}):cs(e,t))},beforeUnmount(e,{value:t}){cs(e,t)}};function cs(e,t){e.style.display=t?e[Zs]:"none",e[Oo]=!t}const lc=Symbol(""),cc=/(^|;)\s*display\s*:/;function hc(e,t,r){const h=e.style,g=Ae(r);let C=!1;if(r&&!g){if(t)if(Ae(t))for(const b of t.split(";")){const s=b.slice(0,b.indexOf(":")).trim();r[s]==null&&Us(h,s,"")}else for(const b in t)r[b]==null&&Us(h,b,"");for(const b in r)b==="display"&&(C=!0),Us(h,b,r[b])}else if(g){if(t!==r){const b=h[lc];b&&(r+=";"+b),h.cssText=r,C=cc.test(r)}}else t&&e.removeAttribute("style");Zs in e&&(e[Zs]=C?h.display:"",e[Oo]&&(h.display="none"))}const Yr=/\s*!important$/;function Us(e,t,r){if(ue(r))r.forEach(h=>Us(e,t,h));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const h=uc(e,t);Yr.test(r)?e.setProperty(Gt(h),r.replace(Yr,""),"important"):e[h]=r}}const Zr=["Webkit","Moz","ms"],Ri={};function uc(e,t){const r=Ri[t];if(r)return r;let h=nt(t);if(h!=="filter"&&h in e)return Ri[t]=h;h=ii(h);for(let g=0;g<Zr.length;g++){const C=Zr[g]+h;if(C in e)return Ri[t]=C}return t}const Qr="http://www.w3.org/1999/xlink";function en(e,t,r,h,g,C=ca(t)){h&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Qr,t.slice(6,t.length)):e.setAttributeNS(Qr,t,r):r==null||C&&!yn(r)?e.removeAttribute(t):e.setAttribute(t,C?"":Rt(r)?String(r):r)}function tn(e,t,r,h,g){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Do(r):r);return}const C=e.tagName;if(t==="value"&&C!=="PROGRESS"&&!C.includes("-")){const s=C==="OPTION"?e.getAttribute("value")||"":e.value,a=r==null?e.type==="checkbox"?"on":"":String(r);(s!==a||!("_value"in e))&&(e.value=a),r==null&&e.removeAttribute(t),e._value=r;return}let b=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=yn(r):r==null&&s==="string"?(r="",b=!0):s==="number"&&(r=0,b=!0)}try{e[t]=r}catch{}b&&e.removeAttribute(g||t)}function dc(e,t,r,h){e.addEventListener(t,r,h)}function fc(e,t,r,h){e.removeEventListener(t,r,h)}const sn=Symbol("_vei");function _c(e,t,r,h,g=null){const C=e[sn]||(e[sn]={}),b=C[t];if(h&&b)b.value=h;else{const[s,a]=pc(t);if(h){const u=C[t]=mc(h,g);dc(e,s,u,a)}else b&&(fc(e,s,b,a),C[t]=void 0)}}const rn=/(?:Once|Passive|Capture)$/;function pc(e){let t;if(rn.test(e)){t={};let h;for(;h=e.match(rn);)e=e.slice(0,e.length-h[0].length),t[h[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gt(e.slice(2)),t]}let ki=0;const gc=Promise.resolve(),vc=()=>ki||(gc.then(()=>ki=0),ki=Date.now());function mc(e,t){const r=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=r.attached)return;lt(Sc(h,r.value),t,5,[h])};return r.value=e,r.attached=vc(),r}function Sc(e,t){if(ue(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(h=>g=>!g._stopped&&h&&h(g))}else return t}const nn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bc=(e,t,r,h,g,C)=>{const b=g==="svg";t==="class"?ac(e,h,b):t==="style"?hc(e,r,h):ei(t)?tr(t)||_c(e,t,r,h,C):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Cc(e,t,h,b))?(tn(e,t,h),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&en(e,t,h,b,C,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ae(h))?tn(e,nt(t),h,C,t):(t==="true-value"?e._trueValue=h:t==="false-value"&&(e._falseValue=h),en(e,t,h,b))};function Cc(e,t,r,h){if(h)return!!(t==="innerHTML"||t==="textContent"||t in e&&nn(t)&&fe(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const g=e.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return nn(t)&&Ae(r)?!1:t in e}const yc=["ctrl","shift","alt","meta"],wc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yc.some(r=>e[`${r}Key`]&&!t.includes(r))},vt=(e,t)=>{const r=e._withMods||(e._withMods={}),h=t.join(".");return r[h]||(r[h]=(g,...C)=>{for(let b=0;b<t.length;b++){const s=wc[t[b]];if(s&&s(g,t))return}return e(g,...C)})},Ec=Fe({patchProp:bc},Ql);let on;function xc(){return on||(on=wl(Ec))}const Lc=(...e)=>{const t=xc().createApp(...e),{mount:r}=t;return t.mount=h=>{const g=kc(h);if(!g)return;const C=t._component;!fe(C)&&!C.render&&!C.template&&(C.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const b=r(g,!1,Rc(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),b},t};function Rc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kc(e){return Ae(e)?document.querySelector(e):e}const At=(e,t)=>{const r=e.__vccOpts||e;for(const[h,g]of t)r[h]=g;return r},Ac={},Dc={class:"flex justify-center bg-blue-100"};function Tc(e,t){return te(),de("div",Dc,t[0]||(t[0]=[se("div",{class:"w-full gap-4 h-64 bg-[#222831] flex-col flex items-center justify-center border border-white-300"},[se("h1",{class:"text-3xl font-bold text-white text-center space-mono-bold-italic"}," flood-X "),se("h3",{class:"text-3xl font-bold text-white text-center space-mono"}," A DDOS tools made by RKS-203 used for learning purposes. ")],-1)]))}const Oc=At(Ac,[["render",Tc]]),Mc={},Ic={class:"space-y-4"};function Bc(e,t){return te(),de("div",Ic,[Ke(e.$slots,"default")])}const an=At(Mc,[["render",Bc]]),Pc={class:"bg-[#DFD0B8] flex flex-col gap-3 shadow-md p-6 rounded"},Fc={class:"font-bold"},us={__name:"ToolsPart",props:{title:{type:String,default:"Title"}},setup(e){return(t,r)=>(te(),de("div",Pc,[se("p",Fc,Xe(e.title),1),Ke(t.$slots,"default")]))}},Hc={},$c={class:"p-8 bg-[#948979] text-xl gap-8 pb-4 shadow-lg border-white-300"};function Nc(e,t){return te(),de("div",$c,[Ke(e.$slots,"default")])}const Mo=At(Hc,[["render",Nc]]),Wc={},Uc={class:"-mr-1 ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"};function jc(e,t){return te(),de("svg",Uc,t[0]||(t[0]=[se("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)]))}const Io=At(Wc,[["render",jc]]),Ai={__name:"AttackOptionsDropDown",props:{value:{type:String,default:"None"},id:{type:Number,default:0}},emits:["pencet","selectValue"],setup(e,{emit:t}){const r=t;return(h,g)=>(te(),de("a",{name:"button",onClick:g[0]||(g[0]=vt(C=>(r("pencet",e.value),r("selectValue",e.id)),["prevent"])),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},Xe(e.value),1))}},zc={class:"attack relative inline-block text-left"},Kc={key:0,class:"w-full absolute right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},Vc={class:"py-1"},qc={__name:"AttackDropDown",setup(e){const t=C=>{localStorage.setItem("attackId",C)},r=Se(!1),h=Se("Pilih Serangan"),g=Se(0);return st(()=>{localStorage.setItem("attackId",0),document.addEventListener("click",C=>{const b=document.querySelector(".attack");b&&!b.contains(C.target)&&(r.value=!1)})}),(C,b)=>(te(),de("div",zc,[se("button",{id:"dropdownButton",onClick:b[0]||(b[0]=s=>r.value=!r.value),class:"inline-flex justify-center w-full border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[Et(Xe(h.value)+" ",1),ce(Io)]),r.value?(te(),de("div",Kc,[se("div",Vc,[ce(Ai,{id:1,value:"TCP Flood",onPencet:b[1]||(b[1]=s=>(h.value=s,r.value=!1)),onSelectValue:b[2]||(b[2]=s=>(g.value=s,t(s)))}),ce(Ai,{id:2,value:"UDP Flood",onPencet:b[3]||(b[3]=s=>(h.value=s,r.value=!1)),onSelectValue:b[4]||(b[4]=s=>(g.value=s,t(s)))}),ce(Ai,{id:3,value:"SYN Flood",onPencet:b[5]||(b[5]=s=>(h.value=s,r.value=!1)),onSelectValue:b[6]||(b[6]=s=>(g.value=s,t(s)))})])])):Be("",!0)]))}},Gc=["for"],Xc=["value","type","placeholder"],Yt={__name:"TextForm",props:{named:{type:String,default:"element"},value:{type:String,default:"Label"},newclass:{type:String,default:"w-full"},divclass:{type:String,default:""},plch:{type:String,default:"enter value"},inputType:{type:String,default:"text"},modelValue:{type:String}},emits:["update:modelValue"],setup(e){return(t,r)=>(te(),de("div",{class:Ye(e.divclass)},[se("label",{for:e.named,class:"flex mb-2 text-sm font-medium text-gray-900"},Xe(e.value),9,Gc),se("input",{value:e.modelValue,type:e.inputType,class:Ye(`bg-gray-50 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block ${e.newclass} p-2.5`),placeholder:e.plch,onInput:r[0]||(r[0]=h=>t.$emit("update:modelValue",h.target.value)),required:""},null,42,Xc)],2))}},Jc={},Yc={class:"grid gap-4 grid-cols-2"};function Zc(e,t){return te(),de("div",Yc,[Ke(e.$slots,"default")])}const ln=At(Jc,[["render",Zc]]),Qc={},eh={"aria-hidden":"true",class:"inline w-5 h-5 text-gray-200 animate-spin dark:text-gray-600 fill-gray-600 dark:fill-gray-300",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function th(e,t){return te(),de("svg",eh,t[0]||(t[0]=[se("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),se("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]))}const pi=At(Qc,[["render",th]]);var sh=Object.defineProperty,ih=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,Qs=Object.getOwnPropertySymbols,Bo=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,cn=(e,t,r)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,he=(e,t)=>{for(var r in t||(t={}))Bo.call(t,r)&&cn(e,r,t[r]);if(Qs)for(var r of Qs(t))Po.call(t,r)&&cn(e,r,t[r]);return e},Re=(e,t)=>ih(e,rh(t)),nh=(e,t)=>{var r={};for(var h in e)Bo.call(e,h)&&t.indexOf(h)<0&&(r[h]=e[h]);if(e!=null&&Qs)for(var h of Qs(e))t.indexOf(h)<0&&Po.call(e,h)&&(r[h]=e[h]);return r};const et="Notivue__",oh=6e3,ve={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info",PROMISE:"promise",PROMISE_RESOLVE:"promise-resolve",PROMISE_REJECT:"promise-reject"},ks={title:"",message:"",duration:oh,ariaLive:"polite",ariaRole:"status"},Qi=Re(he({},ks),{ariaLive:"assertive",ariaRole:"alert"}),ah=Re(he({},ks),{duration:1/0}),lh=Re(he({},Qi),{ariaLive:"polite"}),ch=he({},ks),hh={[ve.SUCCESS]:ks,[ve.ERROR]:Qi,[ve.WARNING]:lh,[ve.INFO]:ch,[ve.PROMISE]:ah,[ve.PROMISE_RESOLVE]:ks,[ve.PROMISE_REJECT]:Qi},Fo={pauseOnHover:!0,pauseOnTouch:!0,pauseOnTabChange:!0,enqueue:!1,position:"top-center",teleportTo:"body",notifications:hh,limit:1/0,avoidDuplicates:!1,transition:"transform 0.35s cubic-bezier(0.5, 1, 0.25, 1)",animations:{enter:et+"enter",leave:et+"leave",clearAll:et+"clearAll"}},Te=$o();function Di(e){Object.assign(Te,e)}function Ho(e){let t=0;function r(h,g,C=`${t++}`){return typeof le(h)=="string"&&(h={message:h}),e.push(Re(he({},h),{id:C,type:g})),{id:C,clear:()=>e.clear(C),destroy:()=>e.clear(C,{isDestroy:!0})}}return{success:h=>r(h,ve.SUCCESS),error:h=>r(h,ve.ERROR),warning:h=>r(h,ve.WARNING),info:h=>r(h,ve.INFO),promise:h=>{const{id:g,clear:C,destroy:b}=r(h,ve.PROMISE);return{resolve:s=>r(s,ve.PROMISE_RESOLVE,g),reject:s=>r(s,ve.PROMISE_REJECT,g),success:s=>r(s,ve.PROMISE_RESOLVE,g),error:s=>r(s,ve.PROMISE_REJECT,g),clear:C,destroy:b}},load(h){return this.promise(h)},clearAll:()=>e.clearAll(),destroyAll:()=>e.destroyAll()}}function $o(){const e=new Proxy({},{get:()=>()=>{}});return Ho(e)}const No=typeof window>"u";function gr(e,t){const r=he({},e);for(const h in t)t.hasOwnProperty(h)&&(dh(t[h])?r[h]=gr(e[h],t[h]):r[h]=t[h]);return r}function uh(e,t){return t.props||(t.props={}),he(he(he(he({},e[t.type]),e.global),t),t.type==="promise"?{duration:1/0}:{})}function dh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function fh(e,t,r){const h=gr(e,t);function g(C){return Ia((b,s)=>({get(){return b(),C},set(a){r.value&&(C=a,s())}}))}for(const C in h)h[C]=g(h[C]);return h}function _h(e){return Object.entries(e).reduce((t,[r,{value:h}])=>Re(he({},t),{[r]:be(h)}),{})}const ph=e=>e===ve.SUCCESS||e===ve.ERROR||e===ve.WARNING||e===ve.INFO,gh=["timeout","resumedAt","remaining","animationAttrs","positionStyles"];function Wo(e){return Object.fromEntries(Object.entries(e).filter(([t])=>!gh.includes(t)))}function vh(e,t){const r=mh(e,t),h=Sh(),g=bh(r,h),C=Ch(),b=yh(r,g,h,C),s=wh(g,b);return{config:r,queue:h,items:g,elements:C,animations:b,timeouts:s}}function mh(e,t){const r=fh(Fo,e,t);function h(g){if(t.value){typeof g=="function"&&(g=g(_h(r)));for(const C in g)typeof r[C].value=="object"?r[C].value=gr(r[C].value,g[C]):r[C].value=g[C]}}return Re(he({},r),{update:h})}function Sh(){return{entries:Ds([]),get length(){return this.entries.value.length},add(e){this.entries.value.push(e),this.triggerRef()},get(e){return this.entries.value.find(t=>t.id===e)},update(e,t){const r=this.get(e);r&&Object.assign(r,t)},remove(e){this.entries.value=this.entries.value.filter(t=>t.id!==e)},triggerRef(){Wn(this.entries)},clear(){this.entries.value=[]}}}function bh(e,t){return{entries:Ds([]),get length(){return this.entries.value.length},lifecycleEventsCount:Se(0),addLifecycleEvent(){this.lifecycleEventsCount.value++},clearLifecycleEvents(){this.lifecycleEventsCount.value=0},add(r){this.entries.value.unshift(r),this.triggerRef(),this.addLifecycleEvent()},addFromQueue(){const r=Re(he({},t.entries.value[0]),{timeout:t.entries.value[0].timeout(),createdAt:Date.now()});t.remove(r.id),this.add(r)},findDupe(r){return this.entries.value.find(h=>le(h.message).replace(/\uFEFF/g,"")===le(r.message).replace(/\uFEFF/g,"")&&le(h.title)===le(r.title)&&h.type===r.type)},get(r){return this.entries.value.find(h=>h.id===r)},update(r,h){const g=this.get(r);g&&Object.assign(g,h)},triggerRef(){Wn(this.entries)},updateAll(r){this.entries.value=this.entries.value.map(r)},remove(r){this.entries.value=this.entries.value.filter(g=>g.id!==r),t.length>0&&this.length<e.limit.value&&this.addFromQueue()},clear(){this.entries.value=[]}}}function Ch(){return{root:Se(null),rootAttrs:Ds({}),setRootAttrs(e){this.rootAttrs.value=e},items:Se([]),getSortedItems(){return this.items.value.sort((e,t)=>+t.dataset.notivueItem-+e.dataset.notivueItem)},containers:Se([])}}function yh(e,t,r,h){return{isReducedMotion:Se(!1),setReducedMotion(g){this.isReducedMotion.value=g},playLeave(g,{isDestroy:C=!1,isUserTriggered:b=!1}={}){const{leave:s=""}=e.animations.value,a=t.get(g);window.clearTimeout(a?.timeout);const u=f=>{var c;f&&f.currentTarget!==f.target||((c=a?.[b?"onManualClear":"onAutoClear"])==null||c.call(a,Wo(a)),t.remove(g))};if(!a||!s||C||this.isReducedMotion.value)return t.addLifecycleEvent(),u();t.update(g,{positionStyles:Re(he({},a.positionStyles),{zIndex:-1}),animationAttrs:{class:s,onAnimationend:u}}),t.addLifecycleEvent()},playClearAll(){t.entries.value.forEach(b=>window.clearTimeout(b.timeout));const{clearAll:g=""}=e.animations.value,C=()=>{r.clear(),t.clear()};if(!g||this.isReducedMotion.value)return C();h.setRootAttrs({class:g,onAnimationend:C})},updatePositions({isImmediate:g=!1}={}){const C=this.isReducedMotion.value||g,b=e.position.value.indexOf("top")===0,s=e.animations.value.leave;let a=0;for(const u of h.getSortedItems()){const f=u.dataset.notivueItem,c=t.get(f);!u||!c||c.animationAttrs.class===s||(t.update(f,{positionStyles:{transform:`translate3d(0, ${a}px, 0)`,transition:C?"none":e.transition.value}}),a+=(b?1:-1)*u.clientHeight)}t.triggerRef()}}}function wh(e,t){return{isStreamPaused:Se(!1),isStreamFocused:Se(!1),debounceTimeout:void 0,setStreamPause(r=!0){this.isStreamPaused.value=r},setStreamFocus(r=!0){this.isStreamFocused.value=r},clearDebounceTimeout(){window.clearTimeout(this.debounceTimeout)},reset(){this.clearDebounceTimeout(),this.setStreamPause(!1),this.setStreamFocus(!1)},create(r,h){if(!this.isStreamPaused.value&&Number.isFinite(h)&&h>0)return window.setTimeout(()=>t.playLeave(r),h)},pause(){e.length===0||this.isStreamPaused.value||(this.setStreamPause(),e.updateAll(r=>{var h;if(window.clearTimeout(r.timeout),r.duration===1/0)return r;let g=0;return r.remaining==null?g=r.duration-(Date.now()-((h=r.resumedAt)!=null?h:r.createdAt)):g=r.remaining-(Date.now()-r.resumedAt),Re(he({},r),{remaining:g})}))},resume(){e.length===0||!this.isStreamPaused.value||(this.setStreamPause(!1),e.updateAll(r=>{var h;return window.clearTimeout(r.timeout),r.duration===1/0?r:Re(he({},r),{timeout:this.create(r.id,(h=r.remaining)!=null?h:r.duration),resumedAt:Date.now()})}))},resumeWithDebounce(r){this.debounceTimeout=window.setTimeout(()=>{this.resume()},r)}}}function Eh({config:e,items:t,queue:r,animations:h,timeouts:g}){return{destroyAll(){r.clear(),t.clear()},clearAll(){h.playClearAll()},clear(C,{isDestroy:b=!1}={}){var s;((s=t.entries.value[t.entries.value.length-1])==null?void 0:s.id)===C&&g.resume(),h.playLeave(C,{isUserTriggered:!0,isDestroy:b})},push(C){const b=uh(e.notifications.value,C),s=Date.now();if(e.avoidDuplicates.value&&ph(b.type)){const u=t.findDupe(b);u&&(window.clearTimeout(u.timeout),t.update(u.id,{createdAt:s,duration:b.duration,remaining:void 0,timeout:g.create(u.id,b.duration),duplicateCount:u.duplicateCount+1}),Oe(u.message)?u.message.value+="\uFEFF":u.message+="\uFEFF",t.triggerRef());const f=t.findDupe.call(r,b);if(f&&(r.update(f.id,{duration:b.duration,createdAt:s,duplicateCount:f.duplicateCount+1}),r.triggerRef()),f||u)return}const a=()=>g.create(b.id,b.duration);if(C.type===ve.PROMISE_RESOLVE||C.type===ve.PROMISE_REJECT)r.get(b.id)?(r.update(b.id,Re(he({},b),{createdAt:s,timeout:a})),r.triggerRef()):(t.update(b.id,Re(he({},b),{createdAt:s,timeout:a()})),t.triggerRef());else{const u=e.enqueue.value,f=t.length>=e.limit.value,c=!u&&f,d=u&&!C.skipQueue&&f;c&&t.entries.value.slice(e.limit.value-1).forEach(y=>g.create(y.id,1));const S=Re(he({},b),{createdAt:s,duplicateCount:0,animationAttrs:{class:h.isReducedMotion.value?"":e.animations.value.enter,onAnimationend(){S.animationAttrs.class===e.animations.value.enter&&t.update(b.id,{animationAttrs:{class:"",onAnimationend:()=>{}}})}},timeout:d?a:a(),clear:()=>this.clear(b.id),destroy:()=>this.clear(b.id,{isDestroy:!0})});d?r.add(S):t.add(S)}}}}const Uo=Symbol(),jo=Symbol();function xh(e){return[at(e.items.lifecycleEventsCount,()=>{e.animations.updatePositions()},{flush:"post"}),at(e.config.position,()=>{e.animations.updatePositions({isImmediate:!0})},{flush:"post"}),at(()=>e.items.length===0&&e.queue.length===0,t=>{t&&(e.timeouts.reset(),e.elements.setRootAttrs({}))},{flush:"post"})]}function Lh(e){const t=Se(e),r=ai(t);function h(g,C){const b=()=>xh(g);e&&Di(C);let s=e?b():[()=>{}];return{isRunning:r,startInstance(){t.value||(Di(C),s=b(),t.value=!0)},stopInstance(){t.value&&(g.items.clear(),g.queue.clear(),g.items.clearLifecycleEvents(),Di($o()),s.forEach(u=>u()),t.value=!1)}}}return{isRunning:r,setupInstance:h}}function Rh(e,t){const{setupInstance:r,isRunning:h}=Lh(e),g=vh(t,h),C=Eh(g),b=Object.freeze(Ho(C)),s=r(g,b);return{store:g,instance:s,push:b}}function kh(e={}){return{install(t){var r;const h=e,{startOnCreation:g=!0}=h,C=nh(h,["startOnCreation"]),{store:b,instance:s,push:a}=Rh(g,C);t.provide(Uo,s),t.provide(jo,b),(r=t.config.globalProperties).$push||(r.$push=a)}}}function $t(){return ns(jo)}function Ah(){return No?{isRunning:Se(!0),startInstance:()=>{},stopInstance:()=>{}}:ns(Uo)}function Dh(){if(No)return Re(he({},Ba(As(Fo))),{update:()=>{},isTopAlign:pt(()=>!0),isStreamPaused:Se(!1)});const e=$t();return Re(he({},e.config),{isStreamPaused:ai(e.timeouts.isStreamPaused),isTopAlign:pt(()=>e.config.position.value.indexOf("top")===0)})}const zo={listAriaLabel:"Notifications"},Th=Ze({setup(e,{slots:t,attrs:r}){const h=Se(!1);return st(()=>h.value=!0),()=>{var g;return h.value?(g=t.default)==null?void 0:g.call(t):de("span",r,"")}}}),It=e=>e.pointerType==="mouse";function Ko(e){return`${e.title?`${e.title}: `:""}${e.message}`}const Oh=["role","aria-live"],Mh=Ze({__name:"AriaLive",props:{item:{}},setup(e){const t=e,r={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"};return(h,g)=>(te(),de("div",{style:r,role:t.item.ariaRole,"aria-live":t.item.ariaLive,key:`${h.item.id}_${h.item.type}`,"aria-atomic":"true"},Xe(le(Ko)(t.item)),9,Oh))}});function Ih(){const{timeouts:e,config:t}=$t();function r(g){It(g)&&e.pause()}function h(g){It(g)&&e.resume()}return pt(()=>t.pauseOnHover.value&&!e.isStreamFocused.value?{onPointerenter:r,onPointerleave:h}:{})}function Bh(){const{timeouts:e,config:t}=$t();function r(h){It(h)||(e.clearDebounceTimeout(),e.pause(),e.resumeWithDebounce(2e3))}return Ht(()=>{e.clearDebounceTimeout()}),pt(()=>t.pauseOnTouch.value&&!e.isStreamFocused.value?{onPointerdown:r}:{})}const Ti={boxSizing:"border-box"},Oi={list:Re(he({},Ti),{display:"flex",justifyContent:"center",listStyle:"none",margin:"0 auto",maxWidth:"var(--nv-root-width, 100%)",padding:"0",pointerEvents:"none",position:"fixed",zIndex:"var(--nv-z, 500)"}),listItem:Re(he({},Ti),{display:"flex",margin:"0",position:"absolute",transitionProperty:"transform",width:"100%"}),itemContainer:Re(he({},Ti),{maxWidth:"100%",padding:"0 0 var(--nv-gap, 0.75rem) 0",pointerEvents:"auto"})};function Ph(){const{isTopAlign:e,position:t}=Dh(),r=pt(()=>{const g=e.value,C=[`var(--nv-root-top, ${g?"1.25rem":"0px"})`,"var(--nv-root-right, 1.25rem)",`var(--nv-root-bottom, ${g?"0px":"1.25rem"})`,"var(--nv-root-left, 1.25rem)"],b=C.map(s=>`calc(-1 * ${s})`);return g?b.splice(2,1,"0px"):b.splice(0,1,"0px"),{inset:C.join(" "),clipPath:`inset(${b.join(" ")})`}}),h=pt(()=>({[e.value?"top":"bottom"]:"0",justifyContent:`var(--nv-root-x-align, ${t.value.endsWith("left")?"flex-start":t.value.endsWith("right")?"flex-end":"center"})`}));return pt(()=>({list:he(he({},Oi.list),r.value),listItem:he(he({},Oi.listItem),h.value),itemContainer:Oi.itemContainer}))}function Fh(e){function t(){window.matchMedia("(max-width: 1100px)").matches&&e()}st(()=>{window.addEventListener("resize",t)}),Ht(()=>{window.removeEventListener("resize",t)})}function Hh(e,t){let r;const h=new WeakSet;st(()=>{r=new ResizeObserver((g,C)=>{for(const b of g)h.has(b.target)?Object.values(b.contentRect.toJSON()).every(s=>s===0)?(h.delete(b.target),C.unobserve(b.target)):(t(),h.delete(b.target),C.unobserve(b.target)):h.add(b.target)})}),at(e,g=>{g.length>0&&g.forEach(C=>r?.observe(C))},{flush:"post"}),Ht(()=>{r?.disconnect()})}function $h(){const{elements:e,animations:t}=$t();Fh(()=>t.updatePositions({isImmediate:!0})),Hh(e.items.value,()=>t.updatePositions())}function Nh(){const{config:e,timeouts:t}=$t();function r(){t.isStreamFocused.value||e.pauseOnTabChange.value&&t.resume()}function h(){t.isStreamFocused.value||e.pauseOnTabChange.value&&t.pause()}st(()=>{window.addEventListener("focus",r),window.addEventListener("blur",h)}),Ht(()=>{window.removeEventListener("focus",r),window.removeEventListener("blur",h)})}function Wh(){const{animations:e}=$t(),t=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>e.setReducedMotion(t.matches);st(()=>{var h;r(),(h=t.addEventListener)==null||h.call(t,"change",r)}),Ht(()=>{var h;(h=t.removeEventListener)==null||h.call(t,"change",r)})}const Uh=["data-notivue-align","aria-label"],jh=["data-notivue-item","aria-setsize","aria-posinset"],zh=["aria-label","tabindex","data-notivue-container"],Kh=Ze({__name:"NotivueImpl",props:ui({class:{},containersTabIndex:{},listAriaLabel:{},styles:{}},zo),setup(e){const t=e,{config:r,items:h,elements:g}=$t(),C=Ph(),b=Ih(),s=Bh();return Wh(),Nh(),$h(),(a,u)=>{var f;return te(),We(Va,{to:le(r).teleportTo.value===!1?void 0:le(r).teleportTo.value,disabled:le(r).teleportTo.value===!1},[le(h).entries.value.length>0?(te(),de("ol",Ss({key:0},he(he(he({},le(b)),le(s)),le(g).rootAttrs.value),{"data-notivue-align":le(r).position.value.split("-")[0],"aria-label":t.listAriaLabel,ref:le(g).root,class:t.class,style:he(he({},le(C).list),(f=t.styles)==null?void 0:f.list)}),[(te(!0),de(Ie,null,ur(le(h).entries.value,(c,d)=>{var S,y,v,i;return te(),de("li",{tabindex:"-1",key:c.id,"data-notivue-item":c.id,"aria-setsize":le(h).length,"aria-posinset":d+1,ref_for:!0,ref:le(g).items,style:Xt(he(he(he({},le(C).listItem),c.positionStyles),(S=t.styles)==null?void 0:S.listItem))},[c.ariaLiveOnly?(te(),We(Mh,{key:0,item:c},null,8,["item"])):(te(),de("div",Ss({key:1,ref_for:!0},c.animationAttrs,{"aria-label":le(Ko)(c),tabindex:(v=(y=a.containersTabIndex)==null?void 0:y[c.id])!=null?v:-1,"data-notivue-container":c.id,ref_for:!0,ref:le(g).containers,style:he(he({},le(C).itemContainer),(i=t.styles)==null?void 0:i.itemContainer)}),[Ke(a.$slots,"default",Ss({ref_for:!0},le(Wo)(c)))],16,zh))],12,jh)}),128))],16,Uh)):Be("",!0)],8,["to","disabled"])}}}),Vh=Ze({__name:"Notivue",props:ui({class:{},containersTabIndex:{},listAriaLabel:{},styles:{}},zo),setup(e){const t=e,{isRunning:r}=Ah();return(h,g)=>(te(),We(le(Th),null,{default:Le(()=>[le(r)?(te(),We(Kh,gt(Ss({key:0},t)),{default:Le(C=>[Ke(h.$slots,"default",gt(mt(C)))]),_:3},16)):Be("",!0)]),_:3}))}}),qh={touchOnly:!1,exclude:"a, button",disabled:!1,threshold:.5},Gh=300,Mi={Mouse:200,Touch:1e3,TouchExternal:1400},Xh=Ze({__name:"NotivueSwipe",props:ui({item:{},touchOnly:{type:Boolean},exclude:{},disabled:{type:Boolean},threshold:{},destroy:{type:Boolean}},qh),setup(e){const{items:t,timeouts:r,elements:h,animations:g}=$t(),C=e,b=Ps(C,"touchOnly"),s=Ps(C,"exclude"),a=Ps(C,"disabled"),u=Ps(C,"threshold"),f=pt(()=>C.item.type===ve.PROMISE),c=pt(()=>!r.isStreamFocused.value&&!a.value&&!f.value&&C.item.duration<1/0),d=Se(null),S={isPressed:!1,isClearing:!1,startX:0,currentX:0},y=$n(S),v=Ds({});function i(T){Object.assign(y,T)}function o(T){v.value=he(he({},v.value),T)}function n(){v.value={}}at(()=>t.length,(T,P)=>{T!==P&&y.isPressed&&(w(),i(S))},{flush:"post"});function l(){d.value&&(o({touchAction:"none",userSelect:"none",cursor:"grab"}),d.value.querySelectorAll("*").forEach(T=>{T instanceof HTMLElement&&(T.style.userSelect="none",T.style.touchAction="none")}))}function p(){d.value&&(n(),d.value.querySelectorAll("*").forEach(T=>{T instanceof HTMLElement&&(T.style.userSelect="auto",T.style.touchAction="auto")}))}function m(T){return!(b.value&&T.pointerType!=="touch")}function w(){o({transition:g.isReducedMotion.value?"none":`${Gh}ms cubic-bezier(0.76, 0, 0.24, 1)`,transform:"translate3d(0px, 0px, 0px)",opacity:"1"})}function x(T){if(!h.root.value||!d.value)return!1;const{clientWidth:P,offsetLeft:V}=d.value,ee=V+h.root.value.offsetLeft,oe=ee+P;return T.clientX>ee&&T.clientX<oe}function _(T){return It(T)?Mi.Mouse:Mi.Touch}function E(){r.clearDebounceTimeout(),r.pause()}function R(T){r.clearDebounceTimeout(),r.resumeWithDebounce(T)}function O(T){m(T)||p()}function k(T){if(m(T)&&(T.stopPropagation(),!!d.value&&T.button===0&&!(y.isPressed||y.isClearing))){if(s.value&&Array.from(d.value.querySelectorAll(s.value)).includes(T.target)){It(T)||(E(),R(Mi.TouchExternal));return}It(T)||E(),i({startX:T.clientX,isPressed:!0})}}function M(T){if(!m(T)||(T.stopPropagation(),!y.isPressed||y.isClearing))return;const{clientWidth:P}=d.value;o({transition:"none",transform:`translate3d(${y.currentX}px, 0px, 0px)`,opacity:`${1-Math.abs(y.currentX)/P*(1/u.value)}`}),i({currentX:T.clientX-y.startX}),Math.abs(y.currentX)>P*u.value&&(y.isClearing=!0,F(T))}function F(T){if(C.item.destroy(),It(T)&&x(T)){const P=h.getSortedItems();P[P.length-1].contains(d.value)||E()}else R(_(T));i({isClearing:!1})}function $(T){m(T)&&(T.stopPropagation(),!(!y.isPressed||y.isClearing)&&(It(T)&&x(T)?E():R(_(T)),w(),i({startX:0,currentX:0,isPressed:!1})))}function W(T){m(T)&&(T.stopPropagation(),!(!y.isPressed||y.isClearing)&&(w(),i({startX:0,currentX:0,isPressed:!1}),R(_(T))))}const U=[["pointerenter",O],["pointerdown",k],["pointermove",M],["pointerup",$],["pointerleave",W]];function L(){d.value&&U.forEach(([T,P])=>{d.value.addEventListener(T,P)})}function I(){d.value&&U.forEach(([T,P])=>{d.value.removeEventListener(T,P)})}return at(c,(T,P,V)=>{Gs(()=>{T&&(l(),Gs(L))}),V(()=>{I(),p()})},{immediate:!0,flush:"post"}),Ht(I),(T,P)=>a.value?Ke(T.$slots,"default",{key:1}):(te(),de("div",{key:0,ref_key:"itemRef",ref:d,style:Xt(v.value)},[Ke(T.$slots,"default")],4))}}),Jh=se("path",{d:"M6,-0c-3.308,-0 -6,2.692 -6,6c-0,3.308 2.692,6 6,6c3.308,-0 6,-2.692 6,-6c-0,-3.308 -2.692,-6 -6,-6Zm3.123,3.989l-3.877,4.616c-0.086,0.102 -0.213,0.162 -0.346,0.164l-0.008,0c-0.131,0 -0.256,-0.055 -0.343,-0.153l-1.662,-1.846c-0.081,-0.085 -0.126,-0.199 -0.126,-0.316c0,-0.254 0.209,-0.462 0.462,-0.462c0.135,0 0.263,0.059 0.35,0.161l1.307,1.451l3.536,-4.209c0.087,-0.101 0.215,-0.159 0.349,-0.159c0.253,-0 0.461,0.208 0.461,0.461c0,0.107 -0.036,0.21 -0.103,0.292Z"},null,-1),Yh=[Jh],hn=Ze({__name:"SuccessIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),Yh,16))}}),Zh=se("path",{d:"M6,-0c-3.308,-0 -6,2.692 -6,6c-0,3.308 2.692,6 6,6c3.308,-0 6,-2.692 6,-6c-0,-3.308 -2.692,-6 -6,-6Zm-0,9.228c-0.316,0 -0.577,-0.26 -0.577,-0.577c0,-0.316 0.261,-0.577 0.577,-0.577c0.316,0 0.577,0.261 0.577,0.577c-0,0.317 -0.261,0.577 -0.577,0.577Zm0.627,-5.802l-0.166,3.519c-0,0.253 -0.208,0.462 -0.462,0.462c-0.253,-0 -0.461,-0.209 -0.461,-0.462l-0.166,-3.518l0,-0.001c-0,-0.009 -0,-0.018 -0,-0.027c-0,-0.344 0.283,-0.627 0.627,-0.627c0.344,0 0.627,0.283 0.627,0.627c-0,0.009 -0,0.018 -0.001,0.027l0.002,-0Z"},null,-1),Qh=[Zh],Ii=Ze({__name:"ErrorIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),Qh,16))}}),eu=se("path",{d:"M6,0c-3.308,0 -6,2.692 -6,6c0,3.308 2.692,6 6,6c3.308,0 6,-2.692 6,-6c0,-3.308 -2.692,-6 -6,-6Zm0,2.46c0.428,0 0.78,0.352 0.78,0.78c-0,0.428 -0.352,0.78 -0.78,0.78c-0.428,0 -0.78,-0.352 -0.78,-0.78c0,-0.428 0.352,-0.78 0.78,-0.78Zm1.44,6.78l-2.64,0c-0.263,0 -0.48,-0.217 -0.48,-0.48c0,-0.263 0.217,-0.48 0.48,-0.48l0.84,0l0,-2.64l-0.48,0c-0.263,0 -0.48,-0.217 -0.48,-0.48c0,-0.263 0.217,-0.48 0.48,-0.48l0.96,0c0.263,0 0.48,0.217 0.48,0.48l0,3.12l0.84,0c0.263,0 0.48,0.217 0.48,0.48c0,0.263 -0.217,0.48 -0.48,0.48Z"},null,-1),tu=[eu],su=Ze({__name:"InfoIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),tu,16))}}),iu=se("path",{d:"M11.963,6.037c-0,3.292 -2.671,5.963 -5.963,5.963c-3.292,0 -5.963,-2.671 -5.963,-5.963c0,-3.292 2.671,-5.962 5.963,-5.962c3.292,-0 5.963,2.67 5.963,5.962Zm-0.918,0c0,-2.785 -2.26,-5.045 -5.045,-5.045c-2.785,0 -5.045,2.26 -5.045,5.045c-0,2.786 2.26,5.046 5.045,5.046c2.785,-0 5.045,-2.26 5.045,-5.046Z"},null,-1),ru=se("path",{d:"M8.401,3.449c0.163,-0.194 0.452,-0.219 0.646,-0.056c0.194,0.163 0.219,0.452 0.056,0.646l-3.853,4.587c-0.085,0.101 -0.21,0.161 -0.343,0.163c-0.133,0.003 -0.26,-0.053 -0.349,-0.151l-1.651,-1.835c-0.169,-0.188 -0.154,-0.479 0.034,-0.648c0.188,-0.169 0.479,-0.154 0.648,0.034l1.298,1.443l3.514,-4.183Z"},null,-1),nu=[iu,ru],un=Ze({__name:"SuccessOutlineIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),nu,16))}}),ou=se("path",{d:"M12, 6c0, 3.313 -2.687, 6 -6, 6c-3.313,-0 -6,-2.688 -6,-6c0,-3.313 2.688,-6 6,-6c3.313,-0 6,2.687 6,6Zm-0.923,-0c-0,-2.803 -2.274,-5.077 -5.077,-5.077c-2.803,0 -5.077,2.274 -5.077,5.077c0,2.803 2.274,5.077 5.077,5.077c2.803,-0 5.077,-2.274 5.077,-5.077Z"},null,-1),au=se("path",{d:"M5.373,3.426c-0,-0.009 -0,-0.019 -0,-0.028c-0,-0.342 0.279,-0.624 0.621,-0.627c0.002,-0 0.004,-0 0.006,-0c0.344,-0 0.627,0.283 0.627,0.627c-0,0.009 -0,0.019 -0.001,0.028l0,0.001l-0.165,3.518c-0.012,0.246 -0.215,0.44 -0.461,0.44c-0.246,-0 -0.449,-0.194 -0.461,-0.44l-0.166,-3.518l0,-0.001Z"},null,-1),lu=se("path",{d:"M6,9.228c-0.316,0 -0.577,-0.26 -0.577,-0.577c0,-0.316 0.261,-0.577 0.577,-0.577c0.316,0 0.577,0.261 0.577,0.577c-0,0.317 -0.261,0.577 -0.577,0.577Z"},null,-1),cu=[ou,au,lu],Bi=Ze({__name:"ErrorOutlineIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),cu,16))}}),hu=se("path",{d:"M6, 0c3.313, 0 6, 2.687 6, 6c-0, 3.313 -2.687, 6 -6, 6c-3.313,-0 -6,-2.687 -6,-6c0,-3.313 2.687,-6 6,-6Zm0, 0.96c-2.783, 0 -5.04, 2.257 -5.04, 5.04c0, 2.783 2.257, 5.04 5.04, 5.04c2.783, 0 5.04,-2.257 5.04,-5.04c-0,-2.783 -2.257,-5.04 -5.04,-5.04Z"},null,-1),uu=se("path",{d:"M6.6, 8.28l0.84, 0c0.265, 0 0.48, 0.215 0.48, 0.48c-0, 0.265 -0.215, 0.48 -0.48, 0.48l-2.64,-0c-0.265, 0 -0.48,-0.215 -0.48,-0.48c-0,-0.265 0.215,-0.48 0.48,-0.48l0.84, 0l-0,-2.64l-0.48, 0c-0.265, 0 -0.48,-0.215 -0.48,-0.48c-0,-0.265 0.215,-0.48 0.48,-0.48l0.96, 0c0.265, 0 0.48, 0.215 0.48, 0.48l-0, 3.12Z"},null,-1),du=se("path",{d:"M6, 2.46c-0.428, 0 -0.78, 0.352 -0.78, 0.78c-0, 0.428 0.352, 0.78 0.78, 0.78c0.428, 0 0.78,-0.352 0.78,-0.78c-0,-0.428 -0.352,-0.78 -0.78,-0.78Z"},null,-1),fu=[hu,uu,du],_u=Ze({__name:"InfoOutlineIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(os))),fu,16))}}),pu=se("path",{d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"},null,-1),gu=se("path",{d:"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z",class:"Notivue__spinner"},null,-1),vu=[pu,gu],Vo=Ze({__name:"PromiseIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(Re(he({},le(vr)),{width:28,height:28,fill:"currentColor"}))),vu,16))}}),mu=se("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),Su=se("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),bu=[mu,Su],qo=Ze({__name:"CloseIcon",setup(e){return(t,r)=>(te(),de("svg",gt(mt(le(Cu))),bu,16))}}),vr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true"},os=Re(he({},vr),{fill:"currentColor",viewBox:"0 0 12 12"}),Cu=Re(he({},vr),{stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}),yu={[ve.SUCCESS]:He(hn),[ve.ERROR]:He(Ii),[ve.INFO]:He(su),[ve.WARNING]:He(Ii),[ve.PROMISE]:He(Vo),[ve.PROMISE_RESOLVE]:He(hn),[ve.PROMISE_REJECT]:He(Ii),close:He(qo)};ve.SUCCESS+"",He(un),ve.ERROR+"",He(Bi),ve.INFO+"",He(_u),ve.WARNING+"",He(Bi),ve.PROMISE+"",He(Vo),ve.PROMISE_RESOLVE+"",He(un),ve.PROMISE_REJECT+"",He(Bi),He(qo);const Ms={"--nv-width":"350px","--nv-spacing":"0.625rem","--nv-radius":"0.625rem","--nv-icon-size":"1.25rem","--nv-title-size":"0.925rem","--nv-message-size":"0.925rem","--nv-y-align":"center"},mr={"--nv-shadow":"rgba(0, 0, 0, 0.06) 0px 4px 6px -1px, rgba(0, 0, 0, 0.03) 0px 2px 4px -1px"},wu=Re(he(he({},Ms),mr),{"--nv-global-bg":"#FFF","--nv-global-fg":"#171717","--nv-success-accent":"#28B780","--nv-error-accent":"#E74C3C","--nv-warning-accent":"#F59E0B","--nv-info-accent":"#3E8EFF","--nv-promise-accent":"#171717"});Re(he(he({},Ms),mr),{"--nv-success-bg":"#E9FAEF","--nv-success-accent":"#059669","--nv-success-fg":"#057452","--nv-error-bg":"#FEEFEF","--nv-error-accent":"#E6523C","--nv-error-fg":"#C5412C","--nv-warning-bg":"#FFF0D8","--nv-warning-accent":"#F48533","--nv-warning-fg":"#81471D","--nv-info-bg":"#DEF0FA","--nv-info-accent":"#1F70AC","--nv-info-fg":"#1F70AC","--nv-promise-bg":"#FFF","--nv-promise-accent":"#334155","--nv-promise-fg":"#334155"});Re(he(he({},Ms),mr),{"--nv-global-accent":"#FFF","--nv-global-fg":"#FFF","--nv-success-bg":"#178570","--nv-error-bg":"#C94430","--nv-info-bg":"#117AAE","--nv-warning-bg":"#FFE556","--nv-warning-fg":"#4F5358","--nv-warning-accent":"#4F5358","--nv-promise-bg":"#FFF","--nv-promise-fg":"#334155","--nv-promise-accent":"#64748B"});Re(he({},Ms),{"--nv-border-width":"1px","--nv-global-bg":"#1F1F1F","--nv-global-border":"#414141","--nv-global-fg":"#D0D0D0","--nv-success-accent":"#8EF997","--nv-error-accent":"#FF7777","--nv-warning-accent":"#FFE554","--nv-info-accent":"#5FD4FF","--nv-promise-accent":"#D0D0D0"});Re(he({},Ms),{"--nv-border-width":"1px","--nv-global-bg":"#20252E","--nv-global-border":"#353b45","--nv-global-fg":"#dfdfdf","--nv-success-accent":"#34D399","--nv-error-accent":"#FF7777","--nv-warning-accent":"#FFE554","--nv-info-accent":"#5FD4FF","--nv-promise-accent":"#D0D0D0"});const ut={NOTIFICATION:et+"notification",ICON:et+"icon",CONTENT:et+"content",TITLE:et+"content-title",MESSAGE:et+"content-message",CLOSE:et+"close",CLOSE_ICON:et+"close-icon",TRANSITION:et+"transition",PROGRESS:et+"progress",DUPLICATE:et+"duplicate"},Eu={icons:()=>yu,theme:()=>wu,hideClose:!1,closeAriaLabel:"Close"},xu=["data-notivue","data-notivue-has-title"],Lu=["aria-live","role"],Ru=["textContent"],ku=["textContent"],Au=["aria-label"],Du=["textContent"],Tu=Ze({__name:"Notification",props:ui({item:{},icons:{},theme:{},closeAriaLabel:{},hideClose:{type:Boolean}},Eu),setup(e){const t=e,r=Ds(t.icons[t.item.type]),h=t.icons.close;return at(()=>t.item.type,g=>r.value=t.icons[g],{flush:"sync"}),(g,C)=>(te(),de("div",{class:Ye([le(ut).NOTIFICATION,{[le(ut).DUPLICATE]:g.item.duplicateCount>0}]),key:g.item.duplicateCount,"data-notivue":g.item.type,"data-notivue-has-title":!!g.item.title,style:Xt(g.theme)},[r.value?(te(),de(Ie,{key:0},[typeof r.value=="object"?(te(),We(sc,{key:0,name:le(ut).TRANSITION,mode:"out-in"},{default:Le(()=>[typeof r.value=="object"?(te(),We(Dr(r.value),{key:0,class:Ye(le(ut).ICON),"aria-hidden":"true"},null,8,["class"])):Be("",!0)]),_:1},8,["name"])):typeof r.value=="string"?(te(),de("div",{key:1,class:Ye(le(ut).ICON),"aria-hidden":"true"},Xe(r.value),3)):Be("",!0)],64)):Be("",!0),se("div",{class:Ye(le(ut).CONTENT),"aria-live":g.item.ariaLive,role:g.item.ariaRole,"aria-atomic":"true"},[g.item.title?(te(),de("h3",{key:0,class:Ye(le(ut).TITLE),textContent:Xe(le(g.item.title))},null,10,Ru)):Be("",!0),se("p",{class:Ye(le(ut).MESSAGE),textContent:Xe(le(g.item.message))},null,10,ku)],10,Lu),!t.hideClose&&le(h)&&g.item.type!=="promise"?(te(),de("button",{key:1,class:Ye(le(ut).CLOSE),"aria-label":g.closeAriaLabel,type:"button",tabindex:"-1",onClick:C[0]||(C[0]=(...b)=>g.item.clear&&g.item.clear(...b))},[typeof le(h)=="object"?(te(),We(Dr(le(h)),{key:0,class:Ye(le(ut).CLOSE_ICON)},null,8,["class"])):typeof le(h)=="string"?(te(),de("div",{key:1,"aria-hidden":"true",textContent:Xe(le(h))},null,8,Du)):Be("",!0)],10,Au)):Be("",!0),Ke(g.$slots,"default")],14,xu))}}),Ou={__name:"AttackButton",props:{botnet:{type:String,default:'{"list":"none"}'},target_link:{type:String,default:"http://127.0.0.1:5000"}},emits:["update"],setup(e,{emit:t}){const r=t,h=Se(),g=Se(!1),C=Se(),b=async s=>{console.log("Tombol diklik"),h.value=JSON.parse(localStorage.getItem("botnetList"))||{};const a=JSON.parse(localStorage.getItem("selectedBotnet"))||{};if(a.length&&localStorage.getItem("attackId")!=0)for(let u=0;u<a.length;u++)if(C.value=Object.entries(h.value)[a[u]-1][1],C.value.target=s,C.value.option=localStorage.getItem("attackId"),console.log(C.value),g.value=!0,s)try{const f=await fetch("http://localhost:5000/attack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.entries(h.value)[a[u]-1][1])}),c=await f.json();console.log(c),f.ok?c.success===0?Te.error({title:`Botnet "${Object.entries(h.value)[a[u]-1][0]}" error`,message:`Can't connect to the botnet. ${c.message}`}):(Te.info({title:`Information for botnet "${Object.entries(h.value)[a[u]-1][0]}"`,message:`${c.message}`}),console.log("sini"),console.log(Object.entries(h.value)[a[u]-1][0]),console.log(h.value[Object.entries(h.value)[a[u]-1][0]]),h.value[Object.entries(h.value)[a[u]-1][0]].status=2,localStorage.setItem("botnetList",JSON.stringify(h.value)),console.log(h.value[Object.entries(h.value)[a[u]-1][0]].status),r("update")):Te.error({title:`Botnet "${h.value[Object.entries(h.value)[a[u]-1][0]]}" error`,message:`${c.message}`}),g.value=!1}catch(f){Te.error({title:"Error While Connect",message:`Something wrong with the page, please refresh this tab then try again. ${f}`}),g.value=!1}else Te.error({title:"Error",message:"Please fill the URL target."}),g.value=!1;else Te.error({title:"Attack Canceled",message:"Please select one or more botnet and make sure you select the attack type!"})};return(s,a)=>(te(),de("button",{onClick:a[0]||(a[0]=vt(u=>b(e.target_link),["prevent"])),type:"button",class:"text-black bg-white border-gray-300 shadow-sm hover:bg-gray-50 font-medium text-sm px-5 py-2.5 me-2 mb-2 focus:outline-none"},[g.value?(te(),We(pi,{key:0})):Be("",!0),g.value?Be("",!0):Ke(s.$slots,"default",{key:1})]))}},Mu={__name:"AddBotnetButton",props:{botform:{type:Object}},emits:["reset","update"],setup(e,{emit:t}){const r=t,h=(g,C,b,s,a)=>{if(g&&C&&b&&s&&a){const u=JSON.parse(localStorage.getItem("botnetList"))||{},f=Object.keys(u).length;u[`${g}`]={ip:`${C=="Nothing"?"Botnet No."+f:C}`,port:`${b}`,username:`${s}`,password:`${a}`,status:0},localStorage.setItem("botnetList",JSON.stringify(u)),r("reset"),r("update")}else Te.error({title:"Error",message:"Please fill all the form."})};return(g,C)=>(te(),de("button",{onClick:C[0]||(C[0]=vt(b=>h(e.botform.botnetName,e.botform.ip,e.botform.port,e.botform.username,e.botform.password),["prevent"])),type:"button",class:"text-black bg-white border-gray-300 shadow-sm hover:bg-gray-50 font-medium text-sm px-5 py-2.5 me-2 mb-2 focus:outline-none"},[Ke(g.$slots,"default")]))}},Iu={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Bu={class:"w-full text-sm text-left rtl:text-right text-gray-500"},Pu={class:"px-6 py-4"},Fu=["onChange"],Hu={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap"},$u={class:"px-6 py-4"},Nu={class:"px-6 py-4"},Wu={class:"px-6 py-4 text-right"},Uu=["onClick"],ju={__name:"BotnetTables",props:{botnetList:{type:Object}},emits:["update"],setup(e,{emit:t}){const r=t;st(()=>{localStorage.setItem("selectedBotnet","[]")});const h=new Set,g=(b,s)=>{b.target.checked?h.add(s):h.delete(s),console.log(JSON.stringify(h)),localStorage.setItem("selectedBotnet",JSON.stringify(Array.from(h).sort()))},C=b=>{const s=Se(JSON.parse(localStorage.getItem("botnetList")));delete s.value[b],localStorage.setItem("botnetList",JSON.stringify(s.value)),r("update")};return(b,s)=>(te(),de("div",Iu,[se("table",Bu,[s[0]||(s[0]=se("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[se("tr",null,[se("th",{scope:"col",class:"px-6 py-3"}," Select "),se("th",{scope:"col",class:"px-6 py-3"}," Botnet Name "),se("th",{scope:"col",class:"px-6 py-3"},[se("div",{class:"flex items-center"}," Hostname/IP ")]),se("th",{scope:"col",class:"px-6 py-3"},[se("div",{class:"flex items-center"}," Status ")]),se("th",{scope:"col",class:"px-6 py-3"},[se("span",{class:"sr-only"},"Edit")])])],-1)),se("tbody",null,[(te(!0),de(Ie,null,ur(e.botnetList,(a,u,f)=>(te(),de("tr",{key:f,class:"bg-white border-b border-gray-200"},[se("td",Pu,[se("input",{onChange:c=>g(c,f+1),id:"default-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Fu)]),se("th",Hu,Xe(u),1),se("td",$u,Xe(a.ip),1),se("td",Nu,Xe(a.status===2?"Running":a.status===1?"Ready":"Disconnected"),1),se("td",Wu,[se("a",{onClick:vt(c=>C(u),["prevent"]),href:"#",class:"font-medium text-blue-600 hover:underline"},"Remove",8,Uu)])]))),128))])])]))}},zu={},Ku={class:"w-full"};function Vu(e,t){return te(),de("div",Ku,[Ke(e.$slots,"default")])}const Go=At(zu,[["render",Vu]]),qu={},Gu={class:"grid grid-cols-1 w-full md:grid-cols-2 pt-4 h-max gap-8 p-8 bg-[#948979] shadow-lg border-white-300"};function Xu(e,t){return te(),de("div",Gu,[Ke(e.$slots,"default")])}const Ju=At(qu,[["render",Xu]]),Yu={__name:"RefreshButton",props:{botnet:{type:String,default:'{"list":"none"}'}},emits:["update"],setup(e,{emit:t}){const r=t,h=Se(),g=Se(!1),C=async()=>{console.log("Tombol diklik"),h.value=JSON.parse(localStorage.getItem("botnetList"))||{};const b=JSON.parse(localStorage.getItem("selectedBotnet"))||{};if(b.length)for(let s=0;s<b.length;s++){g.value=!0;try{const a=await fetch("http://localhost:5000/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.entries(h.value)[b[s]-1][1])}),u=await a.json();console.log(u),a.ok?u.status===0?(Te.info({title:`Information for "${Object.entries(h.value)[b[s]-1][0]}"`,message:"Botnet is offline."}),h.value[Object.entries(h.value)[b[s]-1][0]].status=0,localStorage.setItem("botnetList",JSON.stringify(h.value))):u.status===1?(Te.info({title:`Information for "${Object.entries(h.value)[b[s]-1][0]}"`,message:"Botnet is ready."}),h.value[Object.entries(h.value)[b[s]-1][0]].status=1,localStorage.setItem("botnetList",JSON.stringify(h.value))):u.status===2&&(Te.info({title:`Information for "${Object.entries(h.value)[b[s]-1][0]}"`,message:"Botnet is running."}),h.value[Object.entries(h.value)[b[s]-1][0]].status=2,localStorage.setItem("botnetList",JSON.stringify(h.value))):(Te.error({title:`Botnet "${h.value[Object.entries(h.value)[b[s]-1][0]]}" error`,message:`${u.message}`}),h.value[Object.entries(h.value)[b[s]-1][0]].status=0,localStorage.setItem("botnetList",JSON.stringify(h.value))),r("update"),g.value=!1}catch(a){Te.error({title:"Error While Connect",message:`Something wrong with the page, please refresh this tab then try again. ${a}`}),g.value=!1}}else Te.error({title:"Refresh Cancelled",message:"Please select one or more botnet!"})};return(b,s)=>(te(),de("button",{onClick:vt(C,["prevent"]),type:"button",class:"text-black bg-white border-gray-300 shadow-sm hover:bg-gray-50 font-medium text-sm px-5 py-2.5 me-2 mb-2 focus:outline-none"},[g.value?(te(),We(pi,{key:0})):Be("",!0),g.value?Be("",!0):Ke(b.$slots,"default",{key:1})]))}},Zu={__name:"KillButton",props:{botnet:{type:String,default:'{"list":"none"}'}},emits:["update"],setup(e,{emit:t}){const r=t,h=Se(),g=Se(!1),C=async()=>{console.log("Tombol diklik"),h.value=JSON.parse(localStorage.getItem("botnetList"))||{};const b=JSON.parse(localStorage.getItem("selectedBotnet"))||{};if(b.length)for(let s=0;s<b.length;s++){g.value=!0;try{const a=await fetch("http://localhost:5000/kill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.entries(h.value)[b[s]-1][1])}),u=await a.json();console.log(u),a.ok?u.success===1?(Te.info({title:`Information for "${Object.entries(h.value)[b[s]-1][0]}"`,message:"Successfully killed the processes."}),h.value[Object.entries(h.value)[b[s]-1][0]].status=1,localStorage.setItem("botnetList",JSON.stringify(h.value))):u.success===0&&Te.info({title:`Error for "${Object.entries(h.value)[b[s]-1][0]}"`,message:`Something wrong when try to kill the botnet. Please refresh the botnet to see the botnet status and try again. ${u.message}`}):Te.error({title:`Botnet "${h.value[Object.entries(h.value)[b[s]-1][0]]}" error`,message:`${u.message}`}),r("update"),g.value=!1}catch(a){Te.error({title:"Error While Connect",message:`Something wrong with the page, please refresh this tab then try again. ${a}`}),g.value=!1}}else Te.error({title:"Terminate Cancelled",message:"Please select one or more botnet!"})};return(b,s)=>(te(),de("button",{onClick:vt(C,["prevent"]),type:"button",class:"text-black bg-white border-gray-300 shadow-sm hover:bg-gray-50 font-medium text-sm px-5 py-2.5 me-2 mb-2 focus:outline-none"},[g.value?(te(),We(pi,{key:0})):Be("",!0),g.value?Be("",!0):Ke(b.$slots,"default",{key:1})]))}},Qu={class:"grid grid-cols-1 w-full md:grid-cols-2 pb-4 bg-[#B9B28A] h-max gap-8 p-8 border-white-300"},ed={__name:"AttackMode",setup(e){const t=Se(),r=()=>{t.value=JSON.parse(localStorage.getItem("botnetList")||"{}")},h=As({botnetName:"",ip:"",port:"",username:"",password:"",target:""}),g=()=>{h.botnetName="",h.ip="",h.port="",h.username="",h.password=""};return st(()=>{r()}),(C,b)=>(te(),We(Go,null,{default:Le(()=>[ce(Mo,null,{default:Le(()=>[ce(us,{name:"attack-type",title:"Pilih Botnet"},{default:Le(()=>[b[8]||(b[8]=se("p",null,"Berikut daftar botnet yang dapat anda gunakan dibawah ini. Pilih botnet jika ingin mematikan atau merefresh botnetnya.",-1)),se("div",Qu,[ce(Yu,{onUpdate:r},{default:Le(()=>b[6]||(b[6]=[Et("Refresh Botnet")])),_:1,__:[6]}),ce(Zu,{onUpdate:r},{default:Le(()=>b[7]||(b[7]=[Et("Kill Botnet")])),_:1,__:[7]})]),ce(ju,{onUpdate:r,botnetList:t.value},null,8,["botnetList"])]),_:1,__:[8]})]),_:1}),ce(Ju,null,{default:Le(()=>[ce(an,null,{default:Le(()=>[ce(us,{name:"target-form",title:"Tambahkan Botnet"},{default:Le(()=>[b[10]||(b[10]=se("p",null," Tentukan target yang akan diserang dengan menyertakan IP dan port yang digunakan untuk menyerang server. ",-1)),ce(Yt,{modelValue:h.botnetName,"onUpdate:modelValue":b[0]||(b[0]=s=>h.botnetName=s),named:"botnet-name",value:"Nama Botnet",plch:"ex: ArchLinux x64",divclass:"col-span-2 sm:col-span-1 required"},null,8,["modelValue"]),ce(ln,null,{default:Le(()=>[ce(Yt,{modelValue:h.ip,"onUpdate:modelValue":b[1]||(b[1]=s=>h.ip=s),named:"ip-address",value:"Alamat IP/Hostname",plch:"ex: 192.168.1.1",divclass:"col-span-2 sm:col-span-1 required"},null,8,["modelValue"]),ce(Yt,{modelValue:h.port,"onUpdate:modelValue":b[2]||(b[2]=s=>h.port=s),named:"port",value:"Port",plch:"ex: 80, 443",divclass:"col-span-2 sm:col-span-1 required"},null,8,["modelValue"])]),_:1}),ce(ln,null,{default:Le(()=>[ce(Yt,{modelValue:h.username,"onUpdate:modelValue":b[3]||(b[3]=s=>h.username=s),named:"username",value:"Username",plch:"ex: ubuntu",divclass:"col-span-2 sm:col-span-1 required"},null,8,["modelValue"]),ce(Yt,{modelValue:h.password,"onUpdate:modelValue":b[4]||(b[4]=s=>h.password=s),inputType:"password",named:"password",value:"Password",plch:"Type the password",divclass:"col-span-2 sm:col-span-1 required mb-4"},null,8,["modelValue"])]),_:1}),ce(Mu,{onReset:g,onUpdate:r,botform:h},{default:Le(()=>b[9]||(b[9]=[Et("Tambahkan Botnet ")])),_:1,__:[9]},8,["botform"])]),_:1,__:[10]})]),_:1}),ce(an,null,{default:Le(()=>[ce(us,{name:"attack-type",title:"Konfigurasi Serangan"},{default:Le(()=>[b[11]||(b[11]=se("p",null," Pilih jenis serangan untuk mengkonfigurasi jenis serangan yang akan dilakukan. Pertimbangkan sebelum melakukan serangan agar tidak terjadi kesalahan pada botnet. ",-1)),ce(qc)]),_:1,__:[11]}),ce(us,{name:"button-save",title:"Mulai Serangan"},{default:Le(()=>[b[13]||(b[13]=se("p",null,"Mulai melakukan serangan pada target server.",-1)),ce(Yt,{modelValue:h.target,"onUpdate:modelValue":b[5]||(b[5]=s=>h.target=s),named:"target-server",value:"URL Target",inputType:"text",plch:"Enter the URL target..."},null,8,["modelValue"]),ce(Ou,{onUpdate:r,target_link:h.target},{default:Le(()=>b[12]||(b[12]=[Et("Start Attack")])),_:1,__:[12]},8,["target_link"])]),_:1,__:[13]})]),_:1})]),_:1})]),_:1}))}},td={class:"bg-[#578449] py-4"},sd={class:"flex justify-center gap-6 space-mono"},id={__name:"NavbarDrop",emits:["click"],setup(e,{emit:t}){const r=t;return(h,g)=>(te(),de("div",td,[se("div",sd,[se("div",{onClick:g[0]||(g[0]=vt(C=>r("click",1),["prevent"])),class:"text-white font-semibold px-4 py-2 rounded hover:bg-black cursor-pointer"}," Attack Mode "),se("div",{onClick:g[1]||(g[1]=vt(C=>r("click",2),["prevent"])),class:"text-white font-semibold px-4 py-2 rounded hover:bg-black cursor-pointer"}," SSH Mode ")])]))}},rd={__name:"BotnetOptionsDropDown",props:{value:{type:String,default:"None"},id:{type:Number,default:0}},emits:["pencet","selectValue"],setup(e,{emit:t}){const r=t;return(h,g)=>(te(),de("a",{name:"button",onClick:g[0]||(g[0]=vt(C=>(r("pencet",e.value),r("selectValue",e.id)),["prevent"])),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},Xe(e.value),1))}},nd={class:"botnet relative inline-block text-left"},od={key:0,class:"w-full absolute z-50 right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},ad={class:"py-1"},ld={__name:"BotnetDropDown",props:{listBotnet:{type:Object}},emits:["update"],setup(e,{emit:t}){const r=t,h=s=>{localStorage.setItem("botnetSSHId",s+1)},g=Se(!1),C=Se("Pilih Serangan"),b=Se(0);return st(()=>{localStorage.setItem("botnetSSHId",null),document.addEventListener("click",s=>{const a=document.querySelector(".botnet");a&&!a.contains(s.target)&&(g.value=!1),r("update")})}),(s,a)=>(te(),de("div",nd,[se("button",{id:"dropdownButton",onClick:a[0]||(a[0]=u=>g.value=!g.value),class:"inline-flex justify-center w-full border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[Et(Xe(C.value)+" ",1),ce(Io)]),g.value?(te(),de("div",od,[se("div",ad,[(te(!0),de(Ie,null,ur(e.listBotnet,(u,f,c)=>(te(),We(rd,{id:c,key:u,value:f,onPencet:a[1]||(a[1]=d=>(C.value=d,g.value=!1)),onSelectValue:a[2]||(a[2]=d=>(b.value=d,h(d)))},null,8,["id","value"]))),128))])])):Be("",!0)]))}};var Pi={exports:{}},dn;function cd(){return dn||(dn=1,function(e,t){(function(r,h){e.exports=h()})(self,()=>(()=>{var r={4567:function(b,s,a){var u=this&&this.__decorate||function(l,p,m,w){var x,_=arguments.length,E=_<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(l,p,m,w);else for(var R=l.length-1;R>=0;R--)(x=l[R])&&(E=(_<3?x(E):_>3?x(p,m,E):x(p,m))||E);return _>3&&E&&Object.defineProperty(p,m,E),E},f=this&&this.__param||function(l,p){return function(m,w){p(m,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const c=a(9042),d=a(6114),S=a(9924),y=a(844),v=a(5596),i=a(4725),o=a(3656);let n=s.AccessibilityManager=class extends y.Disposable{constructor(l,p){super(),this._terminal=l,this._renderService=p,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let m=0;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);if(this._topBoundaryFocusListener=m=>this._handleBoundaryFocus(m,0),this._bottomBoundaryFocusListener=m=>this._handleBoundaryFocus(m,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new S.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(m=>this._handleResize(m.rows))),this.register(this._terminal.onRender(m=>this._refreshRows(m.start,m.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(m=>this._handleChar(m))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(m=>this._handleTab(m))),this.register(this._terminal.onKey(m=>this._handleKey(m.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,o.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,y.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(l){for(let p=0;p<l;p++)this._handleChar(" ")}_handleChar(l){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==l&&(this._charsToAnnounce+=l):this._charsToAnnounce+=l,l===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)),d.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,d.isMac&&this._liveRegion.remove()}_handleKey(l){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(l)||this._charsToConsume.push(l)}_refreshRows(l,p){this._liveRegionDebouncer.refresh(l,p,this._terminal.rows)}_renderRows(l,p){const m=this._terminal.buffer,w=m.lines.length.toString();for(let x=l;x<=p;x++){const _=m.translateBufferLineToString(m.ydisp+x,!0),E=(m.ydisp+x+1).toString(),R=this._rowElements[x];R&&(_.length===0?R.innerText=" ":R.textContent=_,R.setAttribute("aria-posinset",E),R.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(l,p){const m=l.target,w=this._rowElements[p===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(p===0?"1":`${this._terminal.buffer.lines.length}`)||l.relatedTarget!==w)return;let x,_;if(p===0?(x=m,_=this._rowElements.pop(),this._rowContainer.removeChild(_)):(x=this._rowElements.shift(),_=m,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),_.removeEventListener("focus",this._bottomBoundaryFocusListener),p===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(p===0?-1:1),this._rowElements[p===0?1:this._rowElements.length-2].focus(),l.preventDefault(),l.stopImmediatePropagation()}_handleResize(l){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let p=this._rowContainer.children.length;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);for(;this._rowElements.length>l;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const l=document.createElement("div");return l.setAttribute("role","listitem"),l.tabIndex=-1,this._refreshRowDimensions(l),l}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let l=0;l<this._terminal.rows;l++)this._refreshRowDimensions(this._rowElements[l])}}_refreshRowDimensions(l){l.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=n=u([f(1,i.IRenderService)],n)},3614:(b,s)=>{function a(d){return d.replace(/\r?\n/g,"\r")}function u(d,S){return S?"\x1B[200~"+d+"\x1B[201~":d}function f(d,S,y,v){d=u(d=a(d),y.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),y.triggerDataEvent(d,!0),S.value=""}function c(d,S,y){const v=y.getBoundingClientRect(),i=d.clientX-v.left-10,o=d.clientY-v.top-10;S.style.width="20px",S.style.height="20px",S.style.left=`${i}px`,S.style.top=`${o}px`,S.style.zIndex="1000",S.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=a,s.bracketTextForPaste=u,s.copyHandler=function(d,S){d.clipboardData&&d.clipboardData.setData("text/plain",S.selectionText),d.preventDefault()},s.handlePasteEvent=function(d,S,y,v){d.stopPropagation(),d.clipboardData&&f(d.clipboardData.getData("text/plain"),S,y,v)},s.paste=f,s.moveTextAreaUnderMouseCursor=c,s.rightClickHandler=function(d,S,y,v,i){c(d,S,y),i&&v.rightClickSelect(d),S.value=v.selectionText,S.select()}},7239:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const u=a(1505);s.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(f,c,d){this._css.set(f,c,d)}getCss(f,c){return this._css.get(f,c)}setColor(f,c,d){this._color.set(f,c,d)}getColor(f,c){return this._color.get(f,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(a,u,f,c){a.addEventListener(u,f,c);let d=!1;return{dispose:()=>{d||(d=!0,a.removeEventListener(u,f,c))}}}},6465:function(b,s,a){var u=this&&this.__decorate||function(i,o,n,l){var p,m=arguments.length,w=m<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(i,o,n,l);else for(var x=i.length-1;x>=0;x--)(p=i[x])&&(w=(m<3?p(w):m>3?p(o,n,w):p(o,n))||w);return m>3&&w&&Object.defineProperty(o,n,w),w},f=this&&this.__param||function(i,o){return function(n,l){o(n,l,i)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier2=void 0;const c=a(3656),d=a(8460),S=a(844),y=a(2585);let v=s.Linkifier2=class extends S.Disposable{get currentLink(){return this._currentLink}constructor(i){super(),this._bufferService=i,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new d.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new d.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,S.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,S.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(i){return this._linkProviders.push(i),{dispose:()=>{const o=this._linkProviders.indexOf(i);o!==-1&&this._linkProviders.splice(o,1)}}}attachToDom(i,o,n){this._element=i,this._mouseService=o,this._renderService=n,this.register((0,c.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,c.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(i){if(this._lastMouseEvent=i,!this._element||!this._mouseService)return;const o=this._positionFromMouseEvent(i,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const n=i.composedPath();for(let l=0;l<n.length;l++){const p=n[l];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(i){if(this._activeLine!==i.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(i,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,i)||(this._clearCurrentLink(),this._askForLink(i,!0))}_askForLink(i,o){var n,l;this._activeProviderReplies&&o||((n=this._activeProviderReplies)===null||n===void 0||n.forEach(m=>{m?.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=i.y);let p=!1;for(const[m,w]of this._linkProviders.entries())o?!((l=this._activeProviderReplies)===null||l===void 0)&&l.get(m)&&(p=this._checkLinkProviderResult(m,i,p)):w.provideLinks(i.y,x=>{var _,E;if(this._isMouseOut)return;const R=x?.map(O=>({link:O}));(_=this._activeProviderReplies)===null||_===void 0||_.set(m,R),p=this._checkLinkProviderResult(m,i,p),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(i.y,this._activeProviderReplies)})}_removeIntersectingLinks(i,o){const n=new Set;for(let l=0;l<o.size;l++){const p=o.get(l);if(p)for(let m=0;m<p.length;m++){const w=p[m],x=w.link.range.start.y<i?0:w.link.range.start.x,_=w.link.range.end.y>i?this._bufferService.cols:w.link.range.end.x;for(let E=x;E<=_;E++){if(n.has(E)){p.splice(m--,1);break}n.add(E)}}}}_checkLinkProviderResult(i,o,n){var l;if(!this._activeProviderReplies)return n;const p=this._activeProviderReplies.get(i);let m=!1;for(let w=0;w<i;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(m=!0);if(!m&&p){const w=p.find(x=>this._linkAtPosition(x.link,o));w&&(n=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!n)for(let w=0;w<this._activeProviderReplies.size;w++){const x=(l=this._activeProviderReplies.get(w))===null||l===void 0?void 0:l.find(_=>this._linkAtPosition(_.link,o));if(x){n=!0,this._handleNewLink(x);break}}return n}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(i){if(!this._element||!this._mouseService||!this._currentLink)return;const o=this._positionFromMouseEvent(i,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(i,this._currentLink.link.text)}_clearCurrentLink(i,o){this._element&&this._currentLink&&this._lastMouseEvent&&(!i||!o||this._currentLink.link.range.start.y>=i&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,S.disposeArray)(this._linkCacheDisposables))}_handleNewLink(i){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(i.link,o)&&(this._currentLink=i,this._currentLink.state={decorations:{underline:i.link.decorations===void 0||i.link.decorations.underline,pointerCursor:i.link.decorations===void 0||i.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,i.link,this._lastMouseEvent),i.link.decorations={},Object.defineProperties(i.link.decorations,{pointerCursor:{get:()=>{var n,l;return(l=(n=this._currentLink)===null||n===void 0?void 0:n.state)===null||l===void 0?void 0:l.decorations.pointerCursor},set:n=>{var l,p;!((l=this._currentLink)===null||l===void 0)&&l.state&&this._currentLink.state.decorations.pointerCursor!==n&&(this._currentLink.state.decorations.pointerCursor=n,this._currentLink.state.isHovered&&((p=this._element)===null||p===void 0||p.classList.toggle("xterm-cursor-pointer",n)))}},underline:{get:()=>{var n,l;return(l=(n=this._currentLink)===null||n===void 0?void 0:n.state)===null||l===void 0?void 0:l.decorations.underline},set:n=>{var l,p,m;!((l=this._currentLink)===null||l===void 0)&&l.state&&((m=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||m===void 0?void 0:m.decorations.underline)!==n&&(this._currentLink.state.decorations.underline=n,this._currentLink.state.isHovered&&this._fireUnderlineEvent(i.link,n))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(n=>{if(!this._currentLink)return;const l=n.start===0?0:n.start+1+this._bufferService.buffer.ydisp,p=this._bufferService.buffer.ydisp+1+n.end;if(this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=p&&(this._clearCurrentLink(l,p),this._lastMouseEvent&&this._element)){const m=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);m&&this._askForLink(m,!1)}})))}_linkHover(i,o,n){var l;!((l=this._currentLink)===null||l===void 0)&&l.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&i.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(n,o.text)}_fireUnderlineEvent(i,o){const n=i.range,l=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-l-1,n.end.x,n.end.y-l-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(i,o,n){var l;!((l=this._currentLink)===null||l===void 0)&&l.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&i.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(n,o.text)}_linkAtPosition(i,o){const n=i.range.start.y*this._bufferService.cols+i.range.start.x,l=i.range.end.y*this._bufferService.cols+i.range.end.x,p=o.y*this._bufferService.cols+o.x;return n<=p&&p<=l}_positionFromMouseEvent(i,o,n){const l=n.getCoords(i,o,this._bufferService.cols,this._bufferService.rows);if(l)return{x:l[0],y:l[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(i,o,n,l,p){return{x1:i,y1:o,x2:n,y2:l,cols:this._bufferService.cols,fg:p}}};s.Linkifier2=v=u([f(0,y.IBufferService)],v)},9042:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(b,s,a){var u=this&&this.__decorate||function(v,i,o,n){var l,p=arguments.length,m=p<3?i:n===null?n=Object.getOwnPropertyDescriptor(i,o):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(v,i,o,n);else for(var w=v.length-1;w>=0;w--)(l=v[w])&&(m=(p<3?l(m):p>3?l(i,o,m):l(i,o))||m);return p>3&&m&&Object.defineProperty(i,o,m),m},f=this&&this.__param||function(v,i){return function(o,n){i(o,n,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const c=a(511),d=a(2585);let S=s.OscLinkProvider=class{constructor(v,i,o){this._bufferService=v,this._optionsService=i,this._oscLinkService=o}provideLinks(v,i){var o;const n=this._bufferService.buffer.lines.get(v-1);if(!n)return void i(void 0);const l=[],p=this._optionsService.rawOptions.linkHandler,m=new c.CellData,w=n.getTrimmedLength();let x=-1,_=-1,E=!1;for(let R=0;R<w;R++)if(_!==-1||n.hasContent(R)){if(n.loadCell(R,m),m.hasExtendedAttrs()&&m.extended.urlId){if(_===-1){_=R,x=m.extended.urlId;continue}E=m.extended.urlId!==x}else _!==-1&&(E=!0);if(E||_!==-1&&R===w-1){const O=(o=this._oscLinkService.getLinkData(x))===null||o===void 0?void 0:o.uri;if(O){const k={start:{x:_+1,y:v},end:{x:R+(E||R!==w-1?0:1),y:v}};let M=!1;if(!p?.allowNonHttpProtocols)try{const F=new URL(O);["http:","https:"].includes(F.protocol)||(M=!0)}catch{M=!0}M||l.push({text:O,range:k,activate:(F,$)=>p?p.activate(F,$,k):y(0,$),hover:(F,$)=>{var W;return(W=p?.hover)===null||W===void 0?void 0:W.call(p,F,$,k)},leave:(F,$)=>{var W;return(W=p?.leave)===null||W===void 0?void 0:W.call(p,F,$,k)}})}E=!1,m.hasExtendedAttrs()&&m.extended.urlId?(_=R,x=m.extended.urlId):(_=-1,x=-1)}}i(l)}};function y(v,i){if(confirm(`Do you want to navigate to ${i}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=i}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=S=u([f(0,d.IBufferService),f(1,d.IOptionsService),f(2,d.IOscLinkService)],S)},6193:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(a,u){this._parentWindow=a,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,u,f){this._rowCount=f,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ScreenDprMonitor=void 0;const u=a(844);class f extends u.Disposable{constructor(d){super(),this._parentWindow=d,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)(()=>{this.clearListener()}))}setListener(d){this._listener&&this.clearListener(),this._listener=d,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var d;this._outerListener&&((d=this._resolutionMediaMatchList)===null||d===void 0||d.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}s.ScreenDprMonitor=f},3236:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const u=a(3614),f=a(3656),c=a(6465),d=a(9042),S=a(3730),y=a(1680),v=a(3107),i=a(5744),o=a(2950),n=a(1296),l=a(428),p=a(4269),m=a(5114),w=a(8934),x=a(3230),_=a(9312),E=a(4725),R=a(6731),O=a(8055),k=a(8969),M=a(8460),F=a(844),$=a(6114),W=a(8437),U=a(2584),L=a(7399),I=a(5941),T=a(9074),P=a(2585),V=a(5435),ee=a(4567),oe=typeof window<"u"?window.document:null;class ie extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(A={}){super(A),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new M.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new M.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new M.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new M.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new M.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new M.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new M.EventEmitter),this._onBlur=this.register(new M.EventEmitter),this._onA11yCharEmitter=this.register(new M.EventEmitter),this._onA11yTabEmitter=this.register(new M.EventEmitter),this._onWillOpen=this.register(new M.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(c.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(S.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((H,K)=>this.refresh(H,K))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(H=>this._reportWindowsOptions(H))),this.register(this._inputHandler.onColor(H=>this._handleColorEvent(H))),this.register((0,M.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,M.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(H=>this._afterResize(H.cols,H.rows))),this.register((0,F.toDisposable)(()=>{var H,K;this._customKeyEventHandler=void 0,(K=(H=this.element)===null||H===void 0?void 0:H.parentNode)===null||K===void 0||K.removeChild(this.element)}))}_handleColorEvent(A){if(this._themeService)for(const H of A){let K,z="";switch(H.index){case 256:K="foreground",z="10";break;case 257:K="background",z="11";break;case 258:K="cursor",z="12";break;default:K="ansi",z="4;"+H.index}switch(H.type){case 0:const _e=O.color.toColorRGB(K==="ansi"?this._themeService.colors.ansi[H.index]:this._themeService.colors[K]);this.coreService.triggerDataEvent(`${U.C0.ESC}]${z};${(0,I.toRgbString)(_e)}${U.C1_ESCAPED.ST}`);break;case 1:if(K==="ansi")this._themeService.modifyColors(D=>D.ansi[H.index]=O.rgba.toColor(...H.color));else{const D=K;this._themeService.modifyColors(B=>B[D]=O.rgba.toColor(...H.color))}break;case 2:this._themeService.restoreColor(H.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(A){A?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(A){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[I"),this.updateCursorStyle(A),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var A;return(A=this.textarea)===null||A===void 0?void 0:A.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const A=this.buffer.ybase+this.buffer.y,H=this.buffer.lines.get(A);if(!H)return;const K=Math.min(this.buffer.x,this.cols-1),z=this._renderService.dimensions.css.cell.height,_e=H.getWidth(K),D=this._renderService.dimensions.css.cell.width*_e,B=this.buffer.y*this._renderService.dimensions.css.cell.height,N=K*this._renderService.dimensions.css.cell.width;this.textarea.style.left=N+"px",this.textarea.style.top=B+"px",this.textarea.style.width=D+"px",this.textarea.style.height=z+"px",this.textarea.style.lineHeight=z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,f.addDisposableDomListener)(this.element,"copy",H=>{this.hasSelection()&&(0,u.copyHandler)(H,this._selectionService)}));const A=H=>(0,u.handlePasteEvent)(H,this.textarea,this.coreService,this.optionsService);this.register((0,f.addDisposableDomListener)(this.textarea,"paste",A)),this.register((0,f.addDisposableDomListener)(this.element,"paste",A)),$.isFirefox?this.register((0,f.addDisposableDomListener)(this.element,"mousedown",H=>{H.button===2&&(0,u.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,f.addDisposableDomListener)(this.element,"contextmenu",H=>{(0,u.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$.isLinux&&this.register((0,f.addDisposableDomListener)(this.element,"auxclick",H=>{H.button===1&&(0,u.moveTextAreaUnderMouseCursor)(H,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,f.addDisposableDomListener)(this.textarea,"keyup",A=>this._keyUp(A),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keydown",A=>this._keyDown(A),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keypress",A=>this._keyPress(A),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionupdate",A=>this._compositionHelper.compositionupdate(A))),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,f.addDisposableDomListener)(this.textarea,"input",A=>this._inputEvent(A),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(A){var H;if(!A)throw new Error("Terminal requires a parent element.");A.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=A.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),A.appendChild(this.element);const K=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),K.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),K.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",d.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(m.CoreBrowserService,this.textarea,(H=this._document.defaultView)!==null&&H!==void 0?H:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,f.addDisposableDomListener)(this.textarea,"focus",z=>this._handleTextAreaFocus(z))),this.register((0,f.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(l.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(x.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(z=>this._onRender.fire(z))),this.onResize(z=>this._renderService.resize(z.cols,z.rows)),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(K);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(w.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(y.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(z=>this.scrollLines(z.amount,z.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(_.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(z=>this.scrollLines(z.amount,z.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(z=>this._renderService.handleSelectionChanged(z.start,z.end,z.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(z=>{this.textarea.value=z,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,f.addDisposableDomListener)(this.element,"mousedown",z=>this._selectionService.handleMouseDown(z))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",z=>this._handleScreenReaderModeOptionChange(z))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(i.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",z=>{!this._overviewRulerRenderer&&z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(i.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(n.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const A=this,H=this.element;function K(D){const B=A._mouseService.getMouseReportCoords(D,A.screenElement);if(!B)return!1;let N,q;switch(D.overrideType||D.type){case"mousemove":q=32,D.buttons===void 0?(N=3,D.button!==void 0&&(N=D.button<3?D.button:3)):N=1&D.buttons?0:4&D.buttons?1:2&D.buttons?2:3;break;case"mouseup":q=0,N=D.button<3?D.button:3;break;case"mousedown":q=1,N=D.button<3?D.button:3;break;case"wheel":if(A.viewport.getLinesScrolled(D)===0)return!1;q=D.deltaY<0?0:1,N=4;break;default:return!1}return!(q===void 0||N===void 0||N>4)&&A.coreMouseService.triggerMouseEvent({col:B.col,row:B.row,x:B.x,y:B.y,button:N,action:q,ctrl:D.ctrlKey,alt:D.altKey,shift:D.shiftKey})}const z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},_e={mouseup:D=>(K(D),D.buttons||(this._document.removeEventListener("mouseup",z.mouseup),z.mousedrag&&this._document.removeEventListener("mousemove",z.mousedrag)),this.cancel(D)),wheel:D=>(K(D),this.cancel(D,!0)),mousedrag:D=>{D.buttons&&K(D)},mousemove:D=>{D.buttons||K(D)}};this.register(this.coreMouseService.onProtocolChange(D=>{D?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(D)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&D?z.mousemove||(H.addEventListener("mousemove",_e.mousemove),z.mousemove=_e.mousemove):(H.removeEventListener("mousemove",z.mousemove),z.mousemove=null),16&D?z.wheel||(H.addEventListener("wheel",_e.wheel,{passive:!1}),z.wheel=_e.wheel):(H.removeEventListener("wheel",z.wheel),z.wheel=null),2&D?z.mouseup||(H.addEventListener("mouseup",_e.mouseup),z.mouseup=_e.mouseup):(this._document.removeEventListener("mouseup",z.mouseup),H.removeEventListener("mouseup",z.mouseup),z.mouseup=null),4&D?z.mousedrag||(z.mousedrag=_e.mousedrag):(this._document.removeEventListener("mousemove",z.mousedrag),z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,f.addDisposableDomListener)(H,"mousedown",D=>{if(D.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(D))return K(D),z.mouseup&&this._document.addEventListener("mouseup",z.mouseup),z.mousedrag&&this._document.addEventListener("mousemove",z.mousedrag),this.cancel(D)})),this.register((0,f.addDisposableDomListener)(H,"wheel",D=>{if(!z.wheel){if(!this.buffer.hasScrollback){const B=this.viewport.getLinesScrolled(D);if(B===0)return;const N=U.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(D.deltaY<0?"A":"B");let q="";for(let G=0;G<Math.abs(B);G++)q+=N;return this.coreService.triggerDataEvent(q,!0),this.cancel(D,!0)}return this.viewport.handleWheel(D)?this.cancel(D):void 0}},{passive:!1})),this.register((0,f.addDisposableDomListener)(H,"touchstart",D=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(D),this.cancel(D)},{passive:!0})),this.register((0,f.addDisposableDomListener)(H,"touchmove",D=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(D)?void 0:this.cancel(D)},{passive:!1}))}refresh(A,H){var K;(K=this._renderService)===null||K===void 0||K.refreshRows(A,H)}updateCursorStyle(A){var H;!((H=this._selectionService)===null||H===void 0)&&H.shouldColumnSelect(A)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(A,H,K=0){var z;K===1?(super.scrollLines(A,H,K),this.refresh(0,this.rows-1)):(z=this.viewport)===null||z===void 0||z.scrollLines(A)}paste(A){(0,u.paste)(A,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(A){this._customKeyEventHandler=A}registerLinkProvider(A){return this.linkifier2.registerLinkProvider(A)}registerCharacterJoiner(A){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const H=this._characterJoinerService.register(A);return this.refresh(0,this.rows-1),H}deregisterCharacterJoiner(A){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(A)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(A){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+A)}registerDecoration(A){return this._decorationService.registerDecoration(A)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(A,H,K){this._selectionService.setSelection(A,H,K)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var A;(A=this._selectionService)===null||A===void 0||A.clearSelection()}selectAll(){var A;(A=this._selectionService)===null||A===void 0||A.selectAll()}selectLines(A,H){var K;(K=this._selectionService)===null||K===void 0||K.selectLines(A,H)}_keyDown(A){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(A)===!1)return!1;const H=this.browser.isMac&&this.options.macOptionIsMeta&&A.altKey;if(!H&&!this._compositionHelper.keydown(A))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;H||A.key!=="Dead"&&A.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const K=(0,L.evaluateKeyboardEvent)(A,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(A),K.type===3||K.type===2){const z=this.rows-1;return this.scrollLines(K.type===2?-z:z),this.cancel(A,!0)}return K.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,A)||(K.cancel&&this.cancel(A,!0),!K.key||!!(A.key&&!A.ctrlKey&&!A.altKey&&!A.metaKey&&A.key.length===1&&A.key.charCodeAt(0)>=65&&A.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(K.key!==U.C0.ETX&&K.key!==U.C0.CR||(this.textarea.value=""),this._onKey.fire({key:K.key,domEvent:A}),this._showCursor(),this.coreService.triggerDataEvent(K.key,!0),!this.optionsService.rawOptions.screenReaderMode||A.altKey||A.ctrlKey?this.cancel(A,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(A,H){const K=A.isMac&&!this.options.macOptionIsMeta&&H.altKey&&!H.ctrlKey&&!H.metaKey||A.isWindows&&H.altKey&&H.ctrlKey&&!H.metaKey||A.isWindows&&H.getModifierState("AltGraph");return H.type==="keypress"?K:K&&(!H.keyCode||H.keyCode>47)}_keyUp(A){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(A)===!1||(function(H){return H.keyCode===16||H.keyCode===17||H.keyCode===18}(A)||this.focus(),this.updateCursorStyle(A),this._keyPressHandled=!1)}_keyPress(A){let H;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(A)===!1)return!1;if(this.cancel(A),A.charCode)H=A.charCode;else if(A.which===null||A.which===void 0)H=A.keyCode;else{if(A.which===0||A.charCode===0)return!1;H=A.which}return!(!H||(A.altKey||A.ctrlKey||A.metaKey)&&!this._isThirdLevelShift(this.browser,A)||(H=String.fromCharCode(H),this._onKey.fire({key:H,domEvent:A}),this._showCursor(),this.coreService.triggerDataEvent(H,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(A){if(A.data&&A.inputType==="insertText"&&(!A.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const H=A.data;return this.coreService.triggerDataEvent(H,!0),this.cancel(A),!0}return!1}resize(A,H){A!==this.cols||H!==this.rows?super.resize(A,H):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(A,H){var K,z;(K=this._charSizeService)===null||K===void 0||K.measure(),(z=this.viewport)===null||z===void 0||z.syncScrollArea(!0)}clear(){var A;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let H=1;H<this.rows;H++)this.buffer.lines.push(this.buffer.getBlankLine(W.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(A=this.viewport)===null||A===void 0||A.reset(),this.refresh(0,this.rows-1)}}reset(){var A,H;this.options.rows=this.rows,this.options.cols=this.cols;const K=this._customKeyEventHandler;this._setup(),super.reset(),(A=this._selectionService)===null||A===void 0||A.reset(),this._decorationService.reset(),(H=this.viewport)===null||H===void 0||H.reset(),this._customKeyEventHandler=K,this.refresh(0,this.rows-1)}clearTextureAtlas(){var A;(A=this._renderService)===null||A===void 0||A.clearTextureAtlas()}_reportFocus(){var A;!((A=this.element)===null||A===void 0)&&A.classList.contains("focus")?this.coreService.triggerDataEvent(U.C0.ESC+"[I"):this.coreService.triggerDataEvent(U.C0.ESC+"[O")}_reportWindowsOptions(A){if(this._renderService)switch(A){case V.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const H=this._renderService.dimensions.css.canvas.width.toFixed(0),K=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[4;${K};${H}t`);break;case V.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const z=this._renderService.dimensions.css.cell.width.toFixed(0),_e=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[6;${_e};${z}t`)}}cancel(A,H){if(this.options.cancelEvents||H)return A.preventDefault(),A.stopPropagation(),!1}}s.Terminal=ie},9924:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,f){this._rowCount=f,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const d=c-this._lastRefreshMs,S=this._debounceThresholdMS-d;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},S)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(b,s,a){var u=this&&this.__decorate||function(o,n,l,p){var m,w=arguments.length,x=w<3?n:p===null?p=Object.getOwnPropertyDescriptor(n,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(o,n,l,p);else for(var _=o.length-1;_>=0;_--)(m=o[_])&&(x=(w<3?m(x):w>3?m(n,l,x):m(n,l))||x);return w>3&&x&&Object.defineProperty(n,l,x),x},f=this&&this.__param||function(o,n){return function(l,p){n(l,p,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const c=a(3656),d=a(4725),S=a(8460),y=a(844),v=a(2585);let i=s.Viewport=class extends y.Disposable{constructor(o,n,l,p,m,w,x,_){super(),this._viewportElement=o,this._scrollArea=n,this._bufferService=l,this._optionsService=p,this._charSizeService=m,this._renderService=w,this._coreBrowserService=x,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(_.colors),this.register(_.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const n=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==n&&(this._lastRecordedBufferHeight=n,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const n=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:n,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,n){const l=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(n<0&&this._viewportElement.scrollTop!==0||n>0&&l<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const n=this._getPixelsScrolled(o);return n!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+n:this._smoothScrollState.target+=n,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=n,this._bubbleScroll(o,n))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const n=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+n,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let n=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?n*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._currentRowHeight*this._bufferService.rows),n}getBufferElements(o,n){var l;let p,m="";const w=[],x=n??this._bufferService.buffer.lines.length,_=this._bufferService.buffer.lines;for(let E=o;E<x;E++){const R=_.get(E);if(!R)continue;const O=(l=_.get(E+1))===null||l===void 0?void 0:l.isWrapped;if(m+=R.translateToString(!O),!O||E===_.length-1){const k=document.createElement("div");k.textContent=m,w.push(k),m.length>0&&(p=k),m=""}}return{bufferElements:w,cursorElement:p}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let n=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(n/=this._currentRowHeight+0,this._wheelPartialScroll+=n,n=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._bufferService.rows),n}_applyScrollModifier(o,n){const l=this._optionsService.rawOptions.fastScrollModifier;return l==="alt"&&n.altKey||l==="ctrl"&&n.ctrlKey||l==="shift"&&n.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const n=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,n!==0&&(this._viewportElement.scrollTop+=n,this._bubbleScroll(o,n))}};s.Viewport=i=u([f(2,v.IBufferService),f(3,v.IOptionsService),f(4,d.ICharSizeService),f(5,d.IRenderService),f(6,d.ICoreBrowserService),f(7,d.IThemeService)],i)},3107:function(b,s,a){var u=this&&this.__decorate||function(i,o,n,l){var p,m=arguments.length,w=m<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(i,o,n,l);else for(var x=i.length-1;x>=0;x--)(p=i[x])&&(w=(m<3?p(w):m>3?p(o,n,w):p(o,n))||w);return m>3&&w&&Object.defineProperty(o,n,w),w},f=this&&this.__param||function(i,o){return function(n,l){o(n,l,i)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const c=a(3656),d=a(4725),S=a(844),y=a(2585);let v=s.BufferDecorationRenderer=class extends S.Disposable{constructor(i,o,n,l){super(),this._screenElement=i,this._bufferService=o,this._decorationService=n,this._renderService=l,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,c.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,S.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const i of this._decorationService.decorations)this._renderDecoration(i);this._dimensionsChanged=!1}_renderDecoration(i){this._refreshStyle(i),this._dimensionsChanged&&this._refreshXPosition(i)}_createElement(i){var o,n;const l=document.createElement("div");l.classList.add("xterm-decoration"),l.classList.toggle("xterm-decoration-top-layer",((o=i?.options)===null||o===void 0?void 0:o.layer)==="top"),l.style.width=`${Math.round((i.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,l.style.height=(i.options.height||1)*this._renderService.dimensions.css.cell.height+"px",l.style.top=(i.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",l.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const p=(n=i.options.x)!==null&&n!==void 0?n:0;return p&&p>this._bufferService.cols&&(l.style.display="none"),this._refreshXPosition(i,l),l}_refreshStyle(i){const o=i.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)i.element&&(i.element.style.display="none",i.onRenderEmitter.fire(i.element));else{let n=this._decorationElements.get(i);n||(n=this._createElement(i),i.element=n,this._decorationElements.set(i,n),this._container.appendChild(n),i.onDispose(()=>{this._decorationElements.delete(i),n.remove()})),n.style.top=o*this._renderService.dimensions.css.cell.height+"px",n.style.display=this._altBufferIsActive?"none":"block",i.onRenderEmitter.fire(n)}}_refreshXPosition(i,o=i.element){var n;if(!o)return;const l=(n=i.options.x)!==null&&n!==void 0?n:0;(i.options.anchor||"left")==="right"?o.style.right=l?l*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=l?l*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(i){var o;(o=this._decorationElements.get(i))===null||o===void 0||o.remove(),this._decorationElements.delete(i),i.dispose()}};s.BufferDecorationRenderer=v=u([f(1,y.IBufferService),f(2,y.IDecorationService),f(3,d.IRenderService)],v)},5871:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,f){return u>=a.startBufferLine-this._linePadding[f||"full"]&&u<=a.endBufferLine+this._linePadding[f||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(b,s,a){var u=this&&this.__decorate||function(p,m,w,x){var _,E=arguments.length,R=E<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(p,m,w,x);else for(var O=p.length-1;O>=0;O--)(_=p[O])&&(R=(E<3?_(R):E>3?_(m,w,R):_(m,w))||R);return E>3&&R&&Object.defineProperty(m,w,R),R},f=this&&this.__param||function(p,m){return function(w,x){m(w,x,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const c=a(5871),d=a(3656),S=a(4725),y=a(844),v=a(2585),i={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},n={full:0,left:0,center:0,right:0};let l=s.OverviewRulerRenderer=class extends y.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(p,m,w,x,_,E,R){var O;super(),this._viewportElement=p,this._screenElement=m,this._bufferService=w,this._decorationService=x,this._renderService=_,this._optionsService=E,this._coreBrowseService=R,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const k=this._canvas.getContext("2d");if(!k)throw new Error("Ctx cannot be null");this._ctx=k,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,y.toDisposable)(()=>{var M;(M=this._canvas)===null||M===void 0||M.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,d.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=p,o.center=m,o.right=p,this._refreshDrawHeightConstants(),n.full=0,n.left=0,n.center=o.left,n.right=o.left+o.center}_refreshDrawHeightConstants(){i.full=Math.round(2*this._coreBrowseService.dpr);const p=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(p,12),6)*this._coreBrowseService.dpr);i.left=m,i.center=m,i.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*i.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*i.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*i.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*i.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const m of p)m.position!=="full"&&this._renderColorZone(m);for(const m of p)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(n[p.position||"full"],Math.round((this._canvas.height-1)*(p.startBufferLine/this._bufferService.buffers.active.lines.length)-i[p.position||"full"]/2),o[p.position||"full"],Math.round((this._canvas.height-1)*((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length)+i[p.position||"full"]))}_queueRefresh(p,m){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=l=u([f(2,v.IBufferService),f(3,v.IDecorationService),f(4,S.IRenderService),f(5,v.IOptionsService),f(6,S.ICoreBrowserService)],l)},2950:function(b,s,a){var u=this&&this.__decorate||function(v,i,o,n){var l,p=arguments.length,m=p<3?i:n===null?n=Object.getOwnPropertyDescriptor(i,o):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(v,i,o,n);else for(var w=v.length-1;w>=0;w--)(l=v[w])&&(m=(p<3?l(m):p>3?l(i,o,m):l(i,o))||m);return p>3&&m&&Object.defineProperty(i,o,m),m},f=this&&this.__param||function(v,i){return function(o,n){i(o,n,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const c=a(4725),d=a(2585),S=a(2584);let y=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,i,o,n,l,p){this._textarea=v,this._compositionView=i,this._bufferService=o,this._optionsService=n,this._coreService=l,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,i.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(i.start,i.end):this._textarea.value.substring(i.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}},0)}else{this._isSendingComposition=!1;const i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const i=this._textarea.value,o=i.replace(v,"");this._dataAlreadySent=o,i.length>v.length?this._coreService.triggerDataEvent(o,!0):i.length<v.length?this._coreService.triggerDataEvent(`${S.C0.DEL}`,!0):i.length===v.length&&i!==v&&this._coreService.triggerDataEvent(i,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,n=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,l=i*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=l+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=l+"px",this._textarea.style.top=n+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=y=u([f(2,d.IBufferService),f(3,d.IOptionsService),f(4,d.ICoreService),f(5,c.IRenderService)],y)},9806:(b,s)=>{function a(u,f,c){const d=c.getBoundingClientRect(),S=u.getComputedStyle(c),y=parseInt(S.getPropertyValue("padding-left")),v=parseInt(S.getPropertyValue("padding-top"));return[f.clientX-d.left-y,f.clientY-d.top-v]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=a,s.getCoords=function(u,f,c,d,S,y,v,i,o){if(!y)return;const n=a(u,f,c);return n?(n[0]=Math.ceil((n[0]+(o?v/2:0))/v),n[1]=Math.ceil(n[1]/i),n[0]=Math.min(Math.max(n[0],1),d+(o?1:0)),n[1]=Math.min(Math.max(n[1],1),S),n):void 0}},9504:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const u=a(2584);function f(i,o,n,l){const p=i-c(i,n),m=o-c(o,n),w=Math.abs(p-m)-function(x,_,E){let R=0;const O=x-c(x,E),k=_-c(_,E);for(let M=0;M<Math.abs(O-k);M++){const F=d(x,_)==="A"?-1:1,$=E.buffer.lines.get(O+F*M);$?.isWrapped&&R++}return R}(i,o,n);return v(w,y(d(i,o),l))}function c(i,o){let n=0,l=o.buffer.lines.get(i),p=l?.isWrapped;for(;p&&i>=0&&i<o.rows;)n++,l=o.buffer.lines.get(--i),p=l?.isWrapped;return n}function d(i,o){return i>o?"A":"B"}function S(i,o,n,l,p,m){let w=i,x=o,_="";for(;w!==n||x!==l;)w+=p?1:-1,p&&w>m.cols-1?(_+=m.buffer.translateBufferLineToString(x,!1,i,w),w=0,i=0,x++):!p&&w<0&&(_+=m.buffer.translateBufferLineToString(x,!1,0,i+1),w=m.cols-1,i=w,x--);return _+m.buffer.translateBufferLineToString(x,!1,i,w)}function y(i,o){const n=o?"O":"[";return u.C0.ESC+n+i}function v(i,o){i=Math.floor(i);let n="";for(let l=0;l<i;l++)n+=o;return n}s.moveToCellSequence=function(i,o,n,l){const p=n.buffer.x,m=n.buffer.y;if(!n.buffer.hasScrollback)return function(_,E,R,O,k,M){return f(E,O,k,M).length===0?"":v(S(_,E,_,E-c(E,k),!1,k).length,y("D",M))}(p,m,0,o,n,l)+f(m,o,n,l)+function(_,E,R,O,k,M){let F;F=f(E,O,k,M).length>0?O-c(O,k):E;const $=O,W=function(U,L,I,T,P,V){let ee;return ee=f(I,T,P,V).length>0?T-c(T,P):L,U<I&&ee<=T||U>=I&&ee<T?"C":"D"}(_,E,R,O,k,M);return v(S(_,F,R,$,W==="C",k).length,y(W,M))}(p,m,i,o,n,l);let w;if(m===o)return w=p>i?"D":"C",v(Math.abs(p-i),y(w,l));w=m>o?"D":"C";const x=Math.abs(m-o);return v(function(_,E){return E.cols-_}(m>o?i:p,n)+(x-1)*n.cols+1+((m>o?p:i)-1),y(w,l))}},1296:function(b,s,a){var u=this&&this.__decorate||function(k,M,F,$){var W,U=arguments.length,L=U<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,F):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(k,M,F,$);else for(var I=k.length-1;I>=0;I--)(W=k[I])&&(L=(U<3?W(L):U>3?W(M,F,L):W(M,F))||L);return U>3&&L&&Object.defineProperty(M,F,L),L},f=this&&this.__param||function(k,M){return function(F,$){M(F,$,k)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const c=a(3787),d=a(2550),S=a(2223),y=a(6171),v=a(4725),i=a(8055),o=a(8460),n=a(844),l=a(2585),p="xterm-dom-renderer-owner-",m="xterm-rows",w="xterm-fg-",x="xterm-bg-",_="xterm-focus",E="xterm-selection";let R=1,O=s.DomRenderer=class extends n.Disposable{constructor(k,M,F,$,W,U,L,I,T,P){super(),this._element=k,this._screenElement=M,this._viewportElement=F,this._linkifier2=$,this._charSizeService=U,this._optionsService=L,this._bufferService=I,this._coreBrowserService=T,this._themeService=P,this._terminalClass=R++,this._rowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(m),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,y.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(V=>this._injectCss(V))),this._injectCss(this._themeService.colors),this._rowFactory=W.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(V=>this._handleLinkHover(V))),this.register(this._linkifier2.onHideLinkUnderline(V=>this._handleLinkLeave(V))),this.register((0,n.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new d.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const M=`${this._terminalSelector} .${m} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=M,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let M=`${this._terminalSelector} .${m} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;M+=`${this._terminalSelector} .${m} .xterm-dim { color: ${i.color.multiplyOpacity(k.foreground,.5).css};}`,M+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,M+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",M+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,M+=`${this._terminalSelector} .${m}.${_} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${m}.${_} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,M+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(const[F,$]of k.ansi.entries())M+=`${this._terminalSelector} .${w}${F} { color: ${$.css}; }${this._terminalSelector} .${w}${F}.xterm-dim { color: ${i.color.multiplyOpacity($,.5).css}; }${this._terminalSelector} .${x}${F} { background-color: ${$.css}; }`;M+=`${this._terminalSelector} .${w}${S.INVERTED_DEFAULT_COLOR} { color: ${i.color.opaque(k.background).css}; }${this._terminalSelector} .${w}${S.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${i.color.multiplyOpacity(i.color.opaque(k.background),.5).css}; }${this._terminalSelector} .${x}${S.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=M}_setDefaultSpacing(){const k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,M){for(let F=this._rowElements.length;F<=M;F++){const $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>M;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,M){this._refreshRowElements(k,M),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(_)}handleFocus(){this._rowContainer.classList.add(_),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,M,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,M,F),this.renderRows(0,this._bufferService.rows-1),!k||!M)return;const $=k[1]-this._bufferService.buffer.ydisp,W=M[1]-this._bufferService.buffer.ydisp,U=Math.max($,0),L=Math.min(W,this._bufferService.rows-1);if(U>=this._bufferService.rows||L<0)return;const I=document.createDocumentFragment();if(F){const T=k[0]>M[0];I.appendChild(this._createSelectionElement(U,T?M[0]:k[0],T?k[0]:M[0],L-U+1))}else{const T=$===U?k[0]:0,P=U===W?M[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(U,T,P));const V=L-U-1;if(I.appendChild(this._createSelectionElement(U+1,0,this._bufferService.cols,V)),U!==L){const ee=W===L?M[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(L,0,ee))}}this._selectionContainer.appendChild(I)}_createSelectionElement(k,M,F,$=1){const W=document.createElement("div");return W.style.height=$*this.dimensions.css.cell.height+"px",W.style.top=k*this.dimensions.css.cell.height+"px",W.style.left=M*this.dimensions.css.cell.width+"px",W.style.width=this.dimensions.css.cell.width*(F-M)+"px",W}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const k of this._rowElements)k.replaceChildren()}renderRows(k,M){const F=this._bufferService.buffer,$=F.ybase+F.y,W=Math.min(F.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=k;T<=M;T++){const P=T+F.ydisp,V=this._rowElements[T],ee=F.lines.get(P);if(!V||!ee)break;V.replaceChildren(...this._rowFactory.createRow(ee,P,P===$,L,I,W,U,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,M,F,$,W,U){F<0&&(k=0),$<0&&(M=0);const L=this._bufferService.rows-1;F=Math.max(Math.min(F,L),0),$=Math.max(Math.min($,L),0),W=Math.min(W,this._bufferService.cols);const I=this._bufferService.buffer,T=I.ybase+I.y,P=Math.min(I.x,W-1),V=this._optionsService.rawOptions.cursorBlink,ee=this._optionsService.rawOptions.cursorStyle,oe=this._optionsService.rawOptions.cursorInactiveStyle;for(let ie=F;ie<=$;++ie){const we=ie+I.ydisp,A=this._rowElements[ie],H=I.lines.get(we);if(!A||!H)break;A.replaceChildren(...this._rowFactory.createRow(H,we,we===T,ee,oe,P,V,this.dimensions.css.cell.width,this._widthCache,U?ie===F?k:0:-1,U?(ie===$?M:W)-1:-1))}}};s.DomRenderer=O=u([f(4,l.IInstantiationService),f(5,v.ICharSizeService),f(6,l.IOptionsService),f(7,l.IBufferService),f(8,v.ICoreBrowserService),f(9,v.IThemeService)],O)},3787:function(b,s,a){var u=this&&this.__decorate||function(w,x,_,E){var R,O=arguments.length,k=O<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,_):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(w,x,_,E);else for(var M=w.length-1;M>=0;M--)(R=w[M])&&(k=(O<3?R(k):O>3?R(x,_,k):R(x,_))||k);return O>3&&k&&Object.defineProperty(x,_,k),k},f=this&&this.__param||function(w,x){return function(_,E){x(_,E,w)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const c=a(2223),d=a(643),S=a(511),y=a(2585),v=a(8055),i=a(4725),o=a(4269),n=a(6171),l=a(3734);let p=s.DomRendererRowFactory=class{constructor(w,x,_,E,R,O,k){this._document=w,this._characterJoinerService=x,this._optionsService=_,this._coreBrowserService=E,this._coreService=R,this._decorationService=O,this._themeService=k,this._workCell=new S.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(w,x,_){this._selectionStart=w,this._selectionEnd=x,this._columnSelectMode=_}createRow(w,x,_,E,R,O,k,M,F,$,W){const U=[],L=this._characterJoinerService.getJoinedCharacters(x),I=this._themeService.colors;let T,P=w.getNoBgTrimmedLength();_&&P<O+1&&(P=O+1);let V=0,ee="",oe=0,ie=0,we=0,A=!1,H=0,K=!1,z=0;const _e=[],D=$!==-1&&W!==-1;for(let B=0;B<P;B++){w.loadCell(B,this._workCell);let N=this._workCell.getWidth();if(N===0)continue;let q=!1,G=B,j=this._workCell;if(L.length>0&&B===L[0][0]){q=!0;const me=L.shift();j=new o.JoinedCellData(this._workCell,w.translateToString(!0,me[0],me[1]),me[1]-me[0]),G=me[1]-1,N=j.getWidth()}const Q=this._isCellInSelection(B,x),Z=_&&B===O,Y=D&&B>=$&&B<=W;let X=!1;this._decorationService.forEachDecorationAtCell(B,x,void 0,me=>{X=!0});let ne=j.getChars()||d.WHITESPACE_CELL_CHAR;if(ne===" "&&(j.isUnderline()||j.isOverline())&&(ne=" "),z=N*M-F.get(ne,j.isBold(),j.isItalic()),T){if(V&&(Q&&K||!Q&&!K&&j.bg===oe)&&(Q&&K&&I.selectionForeground||j.fg===ie)&&j.extended.ext===we&&Y===A&&z===H&&!Z&&!q&&!X){ee+=ne,V++;continue}V&&(T.textContent=ee),T=this._document.createElement("span"),V=0,ee=""}else T=this._document.createElement("span");if(oe=j.bg,ie=j.fg,we=j.extended.ext,A=Y,H=z,K=Q,q&&O>=B&&O<=G&&(O=B),!this._coreService.isCursorHidden&&Z){if(_e.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&_e.push("xterm-cursor-blink"),_e.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":_e.push("xterm-cursor-outline");break;case"block":_e.push("xterm-cursor-block");break;case"bar":_e.push("xterm-cursor-bar");break;case"underline":_e.push("xterm-cursor-underline")}}if(j.isBold()&&_e.push("xterm-bold"),j.isItalic()&&_e.push("xterm-italic"),j.isDim()&&_e.push("xterm-dim"),ee=j.isInvisible()?d.WHITESPACE_CELL_CHAR:j.getChars()||d.WHITESPACE_CELL_CHAR,j.isUnderline()&&(_e.push(`xterm-underline-${j.extended.underlineStyle}`),ee===" "&&(ee=" "),!j.isUnderlineColorDefault()))if(j.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${l.AttributeData.toColorRGB(j.getUnderlineColor()).join(",")})`;else{let me=j.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&j.isBold()&&me<8&&(me+=8),T.style.textDecorationColor=I.ansi[me].css}j.isOverline()&&(_e.push("xterm-overline"),ee===" "&&(ee=" ")),j.isStrikethrough()&&_e.push("xterm-strikethrough"),Y&&(T.style.textDecoration="underline");let J=j.getFgColor(),re=j.getFgColorMode(),ae=j.getBgColor(),pe=j.getBgColorMode();const Ce=!!j.isInverse();if(Ce){const me=J;J=ae,ae=me;const Nt=re;re=pe,pe=Nt}let ge,Me,De,Ue=!1;switch(this._decorationService.forEachDecorationAtCell(B,x,void 0,me=>{me.options.layer!=="top"&&Ue||(me.backgroundColorRGB&&(pe=50331648,ae=me.backgroundColorRGB.rgba>>8&16777215,ge=me.backgroundColorRGB),me.foregroundColorRGB&&(re=50331648,J=me.foregroundColorRGB.rgba>>8&16777215,Me=me.foregroundColorRGB),Ue=me.options.layer==="top")}),!Ue&&Q&&(ge=this._coreBrowserService.isFocused?I.selectionBackgroundOpaque:I.selectionInactiveBackgroundOpaque,ae=ge.rgba>>8&16777215,pe=50331648,Ue=!0,I.selectionForeground&&(re=50331648,J=I.selectionForeground.rgba>>8&16777215,Me=I.selectionForeground)),Ue&&_e.push("xterm-decoration-top"),pe){case 16777216:case 33554432:De=I.ansi[ae],_e.push(`xterm-bg-${ae}`);break;case 50331648:De=v.rgba.toColor(ae>>16,ae>>8&255,255&ae),this._addStyle(T,`background-color:#${m((ae>>>0).toString(16),"0",6)}`);break;default:Ce?(De=I.foreground,_e.push(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):De=I.background}switch(ge||j.isDim()&&(ge=v.color.multiplyOpacity(De,.5)),re){case 16777216:case 33554432:j.isBold()&&J<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(J+=8),this._applyMinimumContrast(T,De,I.ansi[J],j,ge,void 0)||_e.push(`xterm-fg-${J}`);break;case 50331648:const me=v.rgba.toColor(J>>16&255,J>>8&255,255&J);this._applyMinimumContrast(T,De,me,j,ge,Me)||this._addStyle(T,`color:#${m(J.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,De,I.foreground,j,ge,void 0)||Ce&&_e.push(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}_e.length&&(T.className=_e.join(" "),_e.length=0),Z||q||X?T.textContent=ee:V++,z!==this.defaultSpacing&&(T.style.letterSpacing=`${z}px`),U.push(T),B=G}return T&&V&&(T.textContent=ee),U}_applyMinimumContrast(w,x,_,E,R,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,n.excludeFromContrastRatioDemands)(E.getCode()))return!1;const k=this._getContrastCache(E);let M;if(R||O||(M=k.getColor(x.rgba,_.rgba)),M===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);M=v.color.ensureContrastRatio(R||x,O||_,F),k.setColor((R||x).rgba,(O||_).rgba,M??null)}return!!M&&(this._addStyle(w,`color:${M.css}`),!0)}_getContrastCache(w){return w.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(w,x){w.setAttribute("style",`${w.getAttribute("style")||""}${x};`)}_isCellInSelection(w,x){const _=this._selectionStart,E=this._selectionEnd;return!(!_||!E)&&(this._columnSelectMode?_[0]<=E[0]?w>=_[0]&&x>=_[1]&&w<E[0]&&x<=E[1]:w<_[0]&&x>=_[1]&&w>=E[0]&&x<=E[1]:x>_[1]&&x<E[1]||_[1]===E[1]&&x===_[1]&&w>=_[0]&&w<E[0]||_[1]<E[1]&&x===E[1]&&w<E[0]||_[1]<E[1]&&x===_[1]&&w>=_[0])}};function m(w,x,_){for(;w.length<_;)w=x+w;return w}s.DomRendererRowFactory=p=u([f(1,i.ICharacterJoinerService),f(2,y.IOptionsService),f(3,i.ICoreBrowserService),f(4,y.ICoreService),f(5,y.IDecorationService),f(6,i.IThemeService)],p)},2550:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=a.createElement("span"),f=a.createElement("span");f.style.fontWeight="bold";const c=a.createElement("span");c.style.fontStyle="italic";const d=a.createElement("span");d.style.fontWeight="bold",d.style.fontStyle="italic",this._measureElements=[u,f,c,d],this._container.appendChild(u),this._container.appendChild(f),this._container.appendChild(c),this._container.appendChild(d),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,u,f,c){a===this._font&&u===this._fontSize&&f===this._weight&&c===this._weightBold||(this._font=a,this._fontSize=u,this._weight=f,this._weightBold=c,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${f}`,this._measureElements[1].style.fontWeight=`${c}`,this._measureElements[2].style.fontWeight=`${f}`,this._measureElements[3].style.fontWeight=`${c}`,this.clear())}get(a,u,f){let c=0;if(!u&&!f&&a.length===1&&(c=a.charCodeAt(0))<256)return this._flat[c]!==-9999?this._flat[c]:this._flat[c]=this._measure(a,0);let d=a;u&&(d+="B"),f&&(d+="I");let S=this._holey.get(d);if(S===void 0){let y=0;u&&(y|=1),f&&(y|=2),S=this._measure(a,y),this._holey.set(d,S)}return S}_measure(a,u){const f=this._measureElements[u];return f.textContent=a.repeat(32),f.offsetWidth/32}}},2223:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(b,s)=>{function a(u){return 57508<=u&&u<=57558}Object.defineProperty(s,"__esModule",{value:!0}),s.createRenderDimensions=s.excludeFromContrastRatioDemands=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},s.isPowerlineGlyph=a,s.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},s.excludeFromContrastRatioDemands=function(u){return a(u)||function(f){return 9472<=f&&f<=9631}(u)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(b,s,a){var u=this&&this.__decorate||function(i,o,n,l){var p,m=arguments.length,w=m<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(i,o,n,l);else for(var x=i.length-1;x>=0;x--)(p=i[x])&&(w=(m<3?p(w):m>3?p(o,n,w):p(o,n))||w);return m>3&&w&&Object.defineProperty(o,n,w),w},f=this&&this.__param||function(i,o){return function(n,l){o(n,l,i)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const c=a(2585),d=a(8460),S=a(844);let y=s.CharSizeService=class extends S.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(i,o,n){super(),this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=this.register(new d.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(i,o,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const i=this._measureStrategy.measure();i.width===this.width&&i.height===this.height||(this.width=i.width,this.height=i.height,this._onCharSizeChange.fire())}};s.CharSizeService=y=u([f(2,c.IOptionsService)],y);class v{constructor(o,n,l){this._document=o,this._parentElement=n,this._optionsService=l,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const o={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return o.width!==0&&o.height!==0&&(this._result.width=o.width/32,this._result.height=Math.ceil(o.height)),this._result}}},4269:function(b,s,a){var u=this&&this.__decorate||function(o,n,l,p){var m,w=arguments.length,x=w<3?n:p===null?p=Object.getOwnPropertyDescriptor(n,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(o,n,l,p);else for(var _=o.length-1;_>=0;_--)(m=o[_])&&(x=(w<3?m(x):w>3?m(n,l,x):m(n,l))||x);return w>3&&x&&Object.defineProperty(n,l,x),x},f=this&&this.__param||function(o,n){return function(l,p){n(l,p,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const c=a(3734),d=a(643),S=a(511),y=a(2585);class v extends c.AttributeData{constructor(n,l,p){super(),this.content=0,this.combinedData="",this.fg=n.fg,this.bg=n.bg,this.combinedData=l,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(n){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=v;let i=s.CharacterJoinerService=class Xo{constructor(n){this._bufferService=n,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new S.CellData}register(n){const l={id:this._nextCharacterJoinerId++,handler:n};return this._characterJoiners.push(l),l.id}deregister(n){for(let l=0;l<this._characterJoiners.length;l++)if(this._characterJoiners[l].id===n)return this._characterJoiners.splice(l,1),!0;return!1}getJoinedCharacters(n){if(this._characterJoiners.length===0)return[];const l=this._bufferService.buffer.lines.get(n);if(!l||l.length===0)return[];const p=[],m=l.translateToString(!0);let w=0,x=0,_=0,E=l.getFg(0),R=l.getBg(0);for(let O=0;O<l.getTrimmedLength();O++)if(l.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==R){if(O-w>1){const k=this._getJoinedRanges(m,_,x,l,w);for(let M=0;M<k.length;M++)p.push(k[M])}w=O,_=x,E=this._workCell.fg,R=this._workCell.bg}x+=this._workCell.getChars().length||d.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const O=this._getJoinedRanges(m,_,x,l,w);for(let k=0;k<O.length;k++)p.push(O[k])}return p}_getJoinedRanges(n,l,p,m,w){const x=n.substring(l,p);let _=[];try{_=this._characterJoiners[0].handler(x)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const R=this._characterJoiners[E].handler(x);for(let O=0;O<R.length;O++)Xo._mergeRanges(_,R[O])}catch(R){console.error(R)}return this._stringRangesToCellRanges(_,m,w),_}_stringRangesToCellRanges(n,l,p){let m=0,w=!1,x=0,_=n[m];if(_){for(let E=p;E<this._bufferService.cols;E++){const R=l.getWidth(E),O=l.getString(E).length||d.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!w&&_[0]<=x&&(_[0]=E,w=!0),_[1]<=x){if(_[1]=E,_=n[++m],!_)break;_[0]<=x?(_[0]=E,w=!0):w=!1}x+=O}}_&&(_[1]=this._bufferService.cols)}}static _mergeRanges(n,l){let p=!1;for(let m=0;m<n.length;m++){const w=n[m];if(p){if(l[1]<=w[0])return n[m-1][1]=l[1],n;if(l[1]<=w[1])return n[m-1][1]=Math.max(l[1],w[1]),n.splice(m,1),n;n.splice(m,1),m--}else{if(l[1]<=w[0])return n.splice(m,0,l),n;if(l[1]<=w[1])return w[0]=Math.min(l[0],w[0]),n;l[0]<w[1]&&(w[0]=Math.min(l[0],w[0]),p=!0)}}return p?n[n.length-1][1]=l[1]:n.push(l),n}};s.CharacterJoinerService=i=u([f(0,y.IBufferService)],i)},5114:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0,s.CoreBrowserService=class{constructor(a,u){this._textarea=a,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(b,s,a){var u=this&&this.__decorate||function(y,v,i,o){var n,l=arguments.length,p=l<3?v:o===null?o=Object.getOwnPropertyDescriptor(v,i):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(y,v,i,o);else for(var m=y.length-1;m>=0;m--)(n=y[m])&&(p=(l<3?n(p):l>3?n(v,i,p):n(v,i))||p);return l>3&&p&&Object.defineProperty(v,i,p),p},f=this&&this.__param||function(y,v){return function(i,o){v(i,o,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const c=a(4725),d=a(9806);let S=s.MouseService=class{constructor(y,v){this._renderService=y,this._charSizeService=v}getCoords(y,v,i,o,n){return(0,d.getCoords)(window,y,v,i,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(y,v){const i=(0,d.getCoordsRelativeToElement)(window,y,v);if(this._charSizeService.hasValidSize)return i[0]=Math.min(Math.max(i[0],0),this._renderService.dimensions.css.canvas.width-1),i[1]=Math.min(Math.max(i[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(i[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(i[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(i[0]),y:Math.floor(i[1])}}};s.MouseService=S=u([f(0,c.IRenderService),f(1,c.ICharSizeService)],S)},3230:function(b,s,a){var u=this&&this.__decorate||function(p,m,w,x){var _,E=arguments.length,R=E<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(p,m,w,x);else for(var O=p.length-1;O>=0;O--)(_=p[O])&&(R=(E<3?_(R):E>3?_(m,w,R):_(m,w))||R);return E>3&&R&&Object.defineProperty(m,w,R),R},f=this&&this.__param||function(p,m){return function(w,x){m(w,x,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const c=a(3656),d=a(6193),S=a(5596),y=a(4725),v=a(8460),i=a(844),o=a(7226),n=a(2585);let l=s.RenderService=class extends i.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(p,m,w,x,_,E,R,O){if(super(),this._rowCount=p,this._charSizeService=x,this._renderer=this.register(new i.MutableDisposable),this._pausedResizeTask=new o.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new d.RenderDebouncer(R.window,(k,M)=>this._renderRows(k,M)),this.register(this._renderDebouncer),this._screenDprMonitor=new S.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var k;return(k=this._renderer.value)===null||k===void 0?void 0:k.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(_.onDecorationRegistered(()=>this._fullRefresh())),this.register(_.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,c.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const k=new R.window.IntersectionObserver(M=>this._handleIntersectionChange(M[M.length-1]),{threshold:0});k.observe(m),this.register({dispose:()=>k.disconnect()})}}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,m,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,m,this._rowCount))}_renderRows(p,m){this._renderer.value&&(p=Math.min(p,this._rowCount-1),m=Math.min(m,this._rowCount-1),this._renderer.value.renderRows(p,m),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:m}),this._onRender.fire({start:p,end:m}),this._isNextRenderRedrawOnly=!0)}resize(p,m){this._rowCount=m,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(p){this._renderer.value=p,this._renderer.value.onRequestRedraw(m=>this.refreshRows(m.start,m.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,m;this._renderer.value&&((m=(p=this._renderer.value).clearTextureAtlas)===null||m===void 0||m.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,m){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(p,m)):this._renderer.value.handleResize(p,m),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer.value)===null||p===void 0||p.handleBlur()}handleFocus(){var p;(p=this._renderer.value)===null||p===void 0||p.handleFocus()}handleSelectionChanged(p,m,w){var x;this._selectionState.start=p,this._selectionState.end=m,this._selectionState.columnSelectMode=w,(x=this._renderer.value)===null||x===void 0||x.handleSelectionChanged(p,m,w)}handleCursorMove(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCursorMove()}clear(){var p;(p=this._renderer.value)===null||p===void 0||p.clear()}};s.RenderService=l=u([f(2,n.IOptionsService),f(3,y.ICharSizeService),f(4,n.IDecorationService),f(5,n.IBufferService),f(6,y.ICoreBrowserService),f(7,y.IThemeService)],l)},9312:function(b,s,a){var u=this&&this.__decorate||function(_,E,R,O){var k,M=arguments.length,F=M<3?E:O===null?O=Object.getOwnPropertyDescriptor(E,R):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(_,E,R,O);else for(var $=_.length-1;$>=0;$--)(k=_[$])&&(F=(M<3?k(F):M>3?k(E,R,F):k(E,R))||F);return M>3&&F&&Object.defineProperty(E,R,F),F},f=this&&this.__param||function(_,E){return function(R,O){E(R,O,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const c=a(9806),d=a(9504),S=a(456),y=a(4725),v=a(8460),i=a(844),o=a(6114),n=a(4841),l=a(511),p=a(2585),m=" ",w=new RegExp(m,"g");let x=s.SelectionService=class extends i.Disposable{constructor(_,E,R,O,k,M,F,$,W){super(),this._element=_,this._screenElement=E,this._linkifier=R,this._bufferService=O,this._coreService=k,this._mouseService=M,this._optionsService=F,this._renderService=$,this._coreBrowserService=W,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new l.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=U=>this._handleMouseMove(U),this._mouseUpListener=U=>this._handleMouseUp(U),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(U=>this._handleTrim(U)),this.register(this._bufferService.buffers.onBufferActivate(U=>this._handleBufferActivate(U))),this.enable(),this._model=new S.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,i.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const _=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!_||!E||_[0]===E[0]&&_[1]===E[1])}get selectionText(){const _=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!_||!E)return"";const R=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(_[0]===E[0])return"";const k=_[0]<E[0]?_[0]:E[0],M=_[0]<E[0]?E[0]:_[0];for(let F=_[1];F<=E[1];F++){const $=R.translateBufferLineToString(F,!0,k,M);O.push($)}}else{const k=_[1]===E[1]?E[0]:void 0;O.push(R.translateBufferLineToString(_[1],!0,_[0],k));for(let M=_[1]+1;M<=E[1]-1;M++){const F=R.lines.get(M),$=R.translateBufferLineToString(M,!0);F?.isWrapped?O[O.length-1]+=$:O.push($)}if(_[1]!==E[1]){const M=R.lines.get(E[1]),F=R.translateBufferLineToString(E[1],!0,0,E[0]);M&&M.isWrapped?O[O.length-1]+=F:O.push(F)}}return O.map(k=>k.replace(w," ")).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(_){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),o.isLinux&&_&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(_){const E=this._getMouseBufferCoords(_),R=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(R&&O&&E)&&this._areCoordsInSelection(E,R,O)}isCellInSelection(_,E){const R=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!R||!O)&&this._areCoordsInSelection([_,E],R,O)}_areCoordsInSelection(_,E,R){return _[1]>E[1]&&_[1]<R[1]||E[1]===R[1]&&_[1]===E[1]&&_[0]>=E[0]&&_[0]<R[0]||E[1]<R[1]&&_[1]===R[1]&&_[0]<R[0]||E[1]<R[1]&&_[1]===E[1]&&_[0]>=E[0]}_selectWordAtCursor(_,E){var R,O;const k=(O=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||O===void 0?void 0:O.range;if(k)return this._model.selectionStart=[k.start.x-1,k.start.y-1],this._model.selectionStartLength=(0,n.getRangeLength)(k,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(_);return!!M&&(this._selectWordAt(M,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(_,E){this._model.clearSelection(),_=Math.max(_,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,_],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(_){this._model.handleTrim(_)&&this.refresh()}_getMouseBufferCoords(_){const E=this._mouseService.getCoords(_,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(_){let E=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,_,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=R?0:(E>R&&(E-=R),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(_){return o.isMac?_.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:_.shiftKey}handleMouseDown(_){if(this._mouseDownTimeStamp=_.timeStamp,(_.button!==2||!this.hasSelection)&&_.button===0){if(!this._enabled){if(!this.shouldForceSelection(_))return;_.stopPropagation()}_.preventDefault(),this._dragScrollAmount=0,this._enabled&&_.shiftKey?this._handleIncrementalClick(_):_.detail===1?this._handleSingleClick(_):_.detail===2?this._handleDoubleClick(_):_.detail===3&&this._handleTripleClick(_),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(_){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(_))}_handleSingleClick(_){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(_)?3:0,this._model.selectionStart=this._getMouseBufferCoords(_),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(_){this._selectWordAtCursor(_,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(_){const E=this._getMouseBufferCoords(_);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(_){return _.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(_){if(_.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(_),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(_),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const O=R.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const _=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(_.ydisp+this._bufferService.rows,_.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=_.ydisp),this.refresh()}}_handleMouseUp(_){const E=_.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&_.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(_,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const O=(0,d.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const _=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,R=!(!_||!E||_[0]===E[0]&&_[1]===E[1]);R?_&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&_[0]===this._oldSelectionStart[0]&&_[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(_,E,R)):this._oldHasSelection&&this._fireOnSelectionChange(_,E,R)}_fireOnSelectionChange(_,E,R){this._oldSelectionStart=_,this._oldSelectionEnd=E,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(_){this.clearSelection(),this._trimListener.dispose(),this._trimListener=_.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(_,E){let R=E;for(let O=0;E>=O;O++){const k=_.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:k>1&&E!==O&&(R+=k-1)}return R}setSelection(_,E,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[_,E],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(_){this._isClickInSelection(_)||(this._selectWordAtCursor(_,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(_,E,R=!0,O=!0){if(_[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,M=k.lines.get(_[1]);if(!M)return;const F=k.translateBufferLineToString(_[1],!1);let $=this._convertViewportColToCharacterIndex(M,_[0]),W=$;const U=_[0]-$;let L=0,I=0,T=0,P=0;if(F.charAt($)===" "){for(;$>0&&F.charAt($-1)===" ";)$--;for(;W<F.length&&F.charAt(W+1)===" ";)W++}else{let oe=_[0],ie=_[0];M.getWidth(oe)===0&&(L++,oe--),M.getWidth(ie)===2&&(I++,ie++);const we=M.getString(ie).length;for(we>1&&(P+=we-1,W+=we-1);oe>0&&$>0&&!this._isCharWordSeparator(M.loadCell(oe-1,this._workCell));){M.loadCell(oe-1,this._workCell);const A=this._workCell.getChars().length;this._workCell.getWidth()===0?(L++,oe--):A>1&&(T+=A-1,$-=A-1),$--,oe--}for(;ie<M.length&&W+1<F.length&&!this._isCharWordSeparator(M.loadCell(ie+1,this._workCell));){M.loadCell(ie+1,this._workCell);const A=this._workCell.getChars().length;this._workCell.getWidth()===2?(I++,ie++):A>1&&(P+=A-1,W+=A-1),W++,ie++}}W++;let V=$+U-L+T,ee=Math.min(this._bufferService.cols,W-$+L+I-T-P);if(E||F.slice($,W).trim()!==""){if(R&&V===0&&M.getCodePoint(0)!==32){const oe=k.lines.get(_[1]-1);if(oe&&M.isWrapped&&oe.getCodePoint(this._bufferService.cols-1)!==32){const ie=this._getWordAt([this._bufferService.cols-1,_[1]-1],!1,!0,!1);if(ie){const we=this._bufferService.cols-ie.start;V-=we,ee+=we}}}if(O&&V+ee===this._bufferService.cols&&M.getCodePoint(this._bufferService.cols-1)!==32){const oe=k.lines.get(_[1]+1);if(oe?.isWrapped&&oe.getCodePoint(0)!==32){const ie=this._getWordAt([0,_[1]+1],!1,!1,!0);ie&&(ee+=ie.length)}}return{start:V,length:ee}}}_selectWordAt(_,E){const R=this._getWordAt(_,E);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,_[1]--;this._model.selectionStart=[R.start,_[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(_){const E=this._getWordAt(_,!0);if(E){let R=_[1];for(;E.start<0;)E.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,R]}}_isCharWordSeparator(_){return _.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(_.getChars())>=0}_selectLineAt(_){const E=this._bufferService.buffer.getWrappedRangeForLine(_),R={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,n.getRangeLength)(R,this._bufferService.cols)}};s.SelectionService=x=u([f(3,p.IBufferService),f(4,p.ICoreService),f(5,y.IMouseService),f(6,p.IOptionsService),f(7,y.IRenderService),f(8,y.ICoreBrowserService)],x)},4725:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const u=a(8343);s.ICharSizeService=(0,u.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),s.IMouseService=(0,u.createDecorator)("MouseService"),s.IRenderService=(0,u.createDecorator)("RenderService"),s.ISelectionService=(0,u.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(b,s,a){var u=this&&this.__decorate||function(x,_,E,R){var O,k=arguments.length,M=k<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(x,_,E,R);else for(var F=x.length-1;F>=0;F--)(O=x[F])&&(M=(k<3?O(M):k>3?O(_,E,M):O(_,E))||M);return k>3&&M&&Object.defineProperty(_,E,M),M},f=this&&this.__param||function(x,_){return function(E,R){_(E,R,x)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const c=a(7239),d=a(8055),S=a(8460),y=a(844),v=a(2585),i=d.css.toColor("#ffffff"),o=d.css.toColor("#000000"),n=d.css.toColor("#ffffff"),l=d.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[d.css.toColor("#2e3436"),d.css.toColor("#cc0000"),d.css.toColor("#4e9a06"),d.css.toColor("#c4a000"),d.css.toColor("#3465a4"),d.css.toColor("#75507b"),d.css.toColor("#06989a"),d.css.toColor("#d3d7cf"),d.css.toColor("#555753"),d.css.toColor("#ef2929"),d.css.toColor("#8ae234"),d.css.toColor("#fce94f"),d.css.toColor("#729fcf"),d.css.toColor("#ad7fa8"),d.css.toColor("#34e2e2"),d.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let E=0;E<216;E++){const R=_[E/36%6|0],O=_[E/6%6|0],k=_[E%6];x.push({css:d.channels.toCss(R,O,k),rgba:d.channels.toRgba(R,O,k)})}for(let E=0;E<24;E++){const R=8+10*E;x.push({css:d.channels.toCss(R,R,R),rgba:d.channels.toRgba(R,R,R)})}return x})());let m=s.ThemeService=class extends y.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new c.ColorContrastCache,this._halfContrastCache=new c.ColorContrastCache,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:i,background:o,cursor:n,cursorAccent:l,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:d.color.blend(o,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:d.color.blend(o,p),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(x={}){const _=this._colors;if(_.foreground=w(x.foreground,i),_.background=w(x.background,o),_.cursor=w(x.cursor,n),_.cursorAccent=w(x.cursorAccent,l),_.selectionBackgroundTransparent=w(x.selectionBackground,p),_.selectionBackgroundOpaque=d.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=w(x.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=d.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=x.selectionForeground?w(x.selectionForeground,d.NULL_COLOR):void 0,_.selectionForeground===d.NULL_COLOR&&(_.selectionForeground=void 0),d.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=d.color.opacity(_.selectionBackgroundTransparent,.3)),d.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=d.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=s.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=w(x.black,s.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=w(x.red,s.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=w(x.green,s.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=w(x.yellow,s.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=w(x.blue,s.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=w(x.magenta,s.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=w(x.cyan,s.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=w(x.white,s.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=w(x.brightBlack,s.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=w(x.brightRed,s.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=w(x.brightGreen,s.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=w(x.brightYellow,s.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=w(x.brightBlue,s.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=w(x.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=w(x.brightCyan,s.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=w(x.brightWhite,s.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const E=Math.min(_.ansi.length-16,x.extendedAnsi.length);for(let R=0;R<E;R++)_.ansi[R+16]=w(x.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(x,_){if(x!==void 0)try{return d.css.toColor(x)}catch{}return _}s.ThemeService=m=u([f(0,v.IOptionsService)],m)},6349:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const u=a(8460),f=a(844);class c extends f.Disposable{constructor(S){super(),this._maxLength=S,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(S){if(this._maxLength===S)return;const y=new Array(S);for(let v=0;v<Math.min(S,this.length);v++)y[v]=this._array[this._getCyclicIndex(v)];this._array=y,this._maxLength=S,this._startIndex=0}get length(){return this._length}set length(S){if(S>this._length)for(let y=this._length;y<S;y++)this._array[y]=void 0;this._length=S}get(S){return this._array[this._getCyclicIndex(S)]}set(S,y){this._array[this._getCyclicIndex(S)]=y}push(S){this._array[this._getCyclicIndex(this._length)]=S,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(S,y,...v){if(y){for(let i=S;i<this._length-y;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+y)];this._length-=y,this.onDeleteEmitter.fire({index:S,amount:y})}for(let i=this._length-1;i>=S;i--)this._array[this._getCyclicIndex(i+v.length)]=this._array[this._getCyclicIndex(i)];for(let i=0;i<v.length;i++)this._array[this._getCyclicIndex(S+i)]=v[i];if(v.length&&this.onInsertEmitter.fire({index:S,amount:v.length}),this._length+v.length>this._maxLength){const i=this._length+v.length-this._maxLength;this._startIndex+=i,this._length=this._maxLength,this.onTrimEmitter.fire(i)}else this._length+=v.length}trimStart(S){S>this._length&&(S=this._length),this._startIndex+=S,this._length-=S,this.onTrimEmitter.fire(S)}shiftElements(S,y,v){if(!(y<=0)){if(S<0||S>=this._length)throw new Error("start argument out of range");if(S+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let o=y-1;o>=0;o--)this.set(S+o+v,this.get(S+o));const i=S+y+v-this._length;if(i>0)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let i=0;i<y;i++)this.set(S+i+v,this.get(S+i))}}_getCyclicIndex(S){return(this._startIndex+S)%this._maxLength}}s.CircularList=c},1439:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function a(u,f=5){if(typeof u!="object")return u;const c=Array.isArray(u)?[]:{};for(const d in u)c[d]=f<=1?u[d]:u[d]&&a(u[d],f-1);return c}},8055:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const u=a(6114);let f=0,c=0,d=0,S=0;var y,v,i,o,n;function l(m){const w=m.toString(16);return w.length<2?"0"+w:w}function p(m,w){return m<w?(w+.05)/(m+.05):(m+.05)/(w+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(m){m.toCss=function(w,x,_,E){return E!==void 0?`#${l(w)}${l(x)}${l(_)}${l(E)}`:`#${l(w)}${l(x)}${l(_)}`},m.toRgba=function(w,x,_,E=255){return(w<<24|x<<16|_<<8|E)>>>0}}(y||(s.channels=y={})),function(m){function w(x,_){return S=Math.round(255*_),[f,c,d]=n.toChannels(x.rgba),{css:y.toCss(f,c,d,S),rgba:y.toRgba(f,c,d,S)}}m.blend=function(x,_){if(S=(255&_.rgba)/255,S===1)return{css:_.css,rgba:_.rgba};const E=_.rgba>>24&255,R=_.rgba>>16&255,O=_.rgba>>8&255,k=x.rgba>>24&255,M=x.rgba>>16&255,F=x.rgba>>8&255;return f=k+Math.round((E-k)*S),c=M+Math.round((R-M)*S),d=F+Math.round((O-F)*S),{css:y.toCss(f,c,d),rgba:y.toRgba(f,c,d)}},m.isOpaque=function(x){return(255&x.rgba)==255},m.ensureContrastRatio=function(x,_,E){const R=n.ensureContrastRatio(x.rgba,_.rgba,E);if(R)return n.toColor(R>>24&255,R>>16&255,R>>8&255)},m.opaque=function(x){const _=(255|x.rgba)>>>0;return[f,c,d]=n.toChannels(_),{css:y.toCss(f,c,d),rgba:_}},m.opacity=w,m.multiplyOpacity=function(x,_){return S=255&x.rgba,w(x,S*_/255)},m.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(v||(s.color=v={})),function(m){let w,x;if(!u.isNode){const _=document.createElement("canvas");_.width=1,_.height=1;const E=_.getContext("2d",{willReadFrequently:!0});E&&(w=E,w.globalCompositeOperation="copy",x=w.createLinearGradient(0,0,1,1))}m.toColor=function(_){if(_.match(/#[\da-f]{3,8}/i))switch(_.length){case 4:return f=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),n.toColor(f,c,d);case 5:return f=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),S=parseInt(_.slice(4,5).repeat(2),16),n.toColor(f,c,d,S);case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}const E=_.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return f=parseInt(E[1]),c=parseInt(E[2]),d=parseInt(E[3]),S=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),n.toColor(f,c,d,S);if(!w||!x)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=x,w.fillStyle=_,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[f,c,d,S]=w.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:y.toRgba(f,c,d,S),css:_}}}(i||(s.css=i={})),function(m){function w(x,_,E){const R=x/255,O=_/255,k=E/255;return .2126*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}m.relativeLuminance=function(x){return w(x>>16&255,x>>8&255,255&x)},m.relativeLuminance2=w}(o||(s.rgb=o={})),function(m){function w(_,E,R){const O=_>>24&255,k=_>>16&255,M=_>>8&255;let F=E>>24&255,$=E>>16&255,W=E>>8&255,U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));for(;U<R&&(F>0||$>0||W>0);)F-=Math.max(0,Math.ceil(.1*F)),$-=Math.max(0,Math.ceil(.1*$)),W-=Math.max(0,Math.ceil(.1*W)),U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));return(F<<24|$<<16|W<<8|255)>>>0}function x(_,E,R){const O=_>>24&255,k=_>>16&255,M=_>>8&255;let F=E>>24&255,$=E>>16&255,W=E>>8&255,U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));for(;U<R&&(F<255||$<255||W<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),$=Math.min(255,$+Math.ceil(.1*(255-$))),W=Math.min(255,W+Math.ceil(.1*(255-W))),U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));return(F<<24|$<<16|W<<8|255)>>>0}m.ensureContrastRatio=function(_,E,R){const O=o.relativeLuminance(_>>8),k=o.relativeLuminance(E>>8);if(p(O,k)<R){if(k<O){const $=w(_,E,R),W=p(O,o.relativeLuminance($>>8));if(W<R){const U=x(_,E,R);return W>p(O,o.relativeLuminance(U>>8))?$:U}return $}const M=x(_,E,R),F=p(O,o.relativeLuminance(M>>8));if(F<R){const $=w(_,E,R);return F>p(O,o.relativeLuminance($>>8))?M:$}return M}},m.reduceLuminance=w,m.increaseLuminance=x,m.toChannels=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},m.toColor=function(_,E,R,O){return{css:y.toCss(_,E,R,O),rgba:y.toRgba(_,E,R,O)}}}(n||(s.rgba=n={})),s.toPaddedHex=l,s.contrastRatio=p},8969:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const u=a(844),f=a(2585),c=a(4348),d=a(7866),S=a(744),y=a(7302),v=a(6975),i=a(8460),o=a(1753),n=a(1480),l=a(7994),p=a(9282),m=a(5435),w=a(5981),x=a(2660);let _=!1;class E extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new i.EventEmitter),this._onScroll.event(O=>{var k;(k=this._onScrollApi)===null||k===void 0||k.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const k in O)this.optionsService.options[k]=O[k]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new i.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new i.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new i.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new i.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new i.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new i.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new y.OptionsService(O)),this._instantiationService.setService(f.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(S.BufferService)),this._instantiationService.setService(f.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(d.LogService)),this._instantiationService.setService(f.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(f.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(f.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(n.UnicodeService)),this._instantiationService.setService(f.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(l.CharsetService),this._instantiationService.setService(f.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(x.OscLinkService),this._instantiationService.setService(f.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new m.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,i.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,i.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,i.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,i.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((k,M)=>this._inputHandler.parse(k,M))),this.register((0,i.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,k){this._writeBuffer.write(O,k)}writeSync(O,k){this._logService.logLevel<=f.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(O,k)}resize(O,k){isNaN(O)||isNaN(k)||(O=Math.max(O,S.MINIMUM_COLS),k=Math.max(k,S.MINIMUM_ROWS),this._bufferService.resize(O,k))}scroll(O,k=!1){this._bufferService.scroll(O,k)}scrollLines(O,k,M){this._bufferService.scrollLines(O,k,M)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const k=O-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(O,k){return this._inputHandler.registerEscHandler(O,k)}registerDcsHandler(O,k){return this._inputHandler.registerDcsHandler(O,k)}registerCsiHandler(O,k){return this._inputHandler.registerCsiHandler(O,k)}registerOscHandler(O,k){return this._inputHandler.registerOscHandler(O,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?O=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)(()=>{for(const k of O)k.dispose()})}}}s.CoreTerminal=E},8460:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const f=[];for(let c=0;c<this._listeners.length;c++)f.push(this._listeners[c]);for(let c=0;c<f.length;c++)f[c].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,u){return a(f=>u.fire(f))}},5435:function(b,s,a){var u=this&&this.__decorate||function(U,L,I,T){var P,V=arguments.length,ee=V<3?L:T===null?T=Object.getOwnPropertyDescriptor(L,I):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(U,L,I,T);else for(var oe=U.length-1;oe>=0;oe--)(P=U[oe])&&(ee=(V<3?P(ee):V>3?P(L,I,ee):P(L,I))||ee);return V>3&&ee&&Object.defineProperty(L,I,ee),ee},f=this&&this.__param||function(U,L){return function(I,T){L(I,T,U)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const c=a(2584),d=a(7116),S=a(2015),y=a(844),v=a(482),i=a(8437),o=a(8460),n=a(643),l=a(511),p=a(3734),m=a(2585),w=a(6242),x=a(6351),_=a(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function O(U,L){if(U>24)return L.setWinLines||!1;switch(U){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var k;(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(s.WindowsOptionsReportType=k={}));let M=0;class F extends y.Disposable{getAttrData(){return this._curAttrData}constructor(L,I,T,P,V,ee,oe,ie,we=new S.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=I,this._coreService=T,this._logService=P,this._optionsService=V,this._oscLinkService=ee,this._coreMouseService=oe,this._unicodeService=ie,this._parser=we,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new l.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=i.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=i.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(A=>this._activeBuffer=A.activeBuffer)),this._parser.setCsiHandlerFallback((A,H)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(A),params:H.toArray()})}),this._parser.setEscHandlerFallback(A=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(A)})}),this._parser.setExecuteHandlerFallback(A=>{this._logService.debug("Unknown EXECUTE code: ",{code:A})}),this._parser.setOscHandlerFallback((A,H,K)=>{this._logService.debug("Unknown OSC code: ",{identifier:A,action:H,data:K})}),this._parser.setDcsHandlerFallback((A,H,K)=>{H==="HOOK"&&(K=K.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(A),action:H,payload:K})}),this._parser.setPrintHandler((A,H,K)=>this.print(A,H,K)),this._parser.registerCsiHandler({final:"@"},A=>this.insertChars(A)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},A=>this.scrollLeft(A)),this._parser.registerCsiHandler({final:"A"},A=>this.cursorUp(A)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},A=>this.scrollRight(A)),this._parser.registerCsiHandler({final:"B"},A=>this.cursorDown(A)),this._parser.registerCsiHandler({final:"C"},A=>this.cursorForward(A)),this._parser.registerCsiHandler({final:"D"},A=>this.cursorBackward(A)),this._parser.registerCsiHandler({final:"E"},A=>this.cursorNextLine(A)),this._parser.registerCsiHandler({final:"F"},A=>this.cursorPrecedingLine(A)),this._parser.registerCsiHandler({final:"G"},A=>this.cursorCharAbsolute(A)),this._parser.registerCsiHandler({final:"H"},A=>this.cursorPosition(A)),this._parser.registerCsiHandler({final:"I"},A=>this.cursorForwardTab(A)),this._parser.registerCsiHandler({final:"J"},A=>this.eraseInDisplay(A,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},A=>this.eraseInDisplay(A,!0)),this._parser.registerCsiHandler({final:"K"},A=>this.eraseInLine(A,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},A=>this.eraseInLine(A,!0)),this._parser.registerCsiHandler({final:"L"},A=>this.insertLines(A)),this._parser.registerCsiHandler({final:"M"},A=>this.deleteLines(A)),this._parser.registerCsiHandler({final:"P"},A=>this.deleteChars(A)),this._parser.registerCsiHandler({final:"S"},A=>this.scrollUp(A)),this._parser.registerCsiHandler({final:"T"},A=>this.scrollDown(A)),this._parser.registerCsiHandler({final:"X"},A=>this.eraseChars(A)),this._parser.registerCsiHandler({final:"Z"},A=>this.cursorBackwardTab(A)),this._parser.registerCsiHandler({final:"`"},A=>this.charPosAbsolute(A)),this._parser.registerCsiHandler({final:"a"},A=>this.hPositionRelative(A)),this._parser.registerCsiHandler({final:"b"},A=>this.repeatPrecedingCharacter(A)),this._parser.registerCsiHandler({final:"c"},A=>this.sendDeviceAttributesPrimary(A)),this._parser.registerCsiHandler({prefix:">",final:"c"},A=>this.sendDeviceAttributesSecondary(A)),this._parser.registerCsiHandler({final:"d"},A=>this.linePosAbsolute(A)),this._parser.registerCsiHandler({final:"e"},A=>this.vPositionRelative(A)),this._parser.registerCsiHandler({final:"f"},A=>this.hVPosition(A)),this._parser.registerCsiHandler({final:"g"},A=>this.tabClear(A)),this._parser.registerCsiHandler({final:"h"},A=>this.setMode(A)),this._parser.registerCsiHandler({prefix:"?",final:"h"},A=>this.setModePrivate(A)),this._parser.registerCsiHandler({final:"l"},A=>this.resetMode(A)),this._parser.registerCsiHandler({prefix:"?",final:"l"},A=>this.resetModePrivate(A)),this._parser.registerCsiHandler({final:"m"},A=>this.charAttributes(A)),this._parser.registerCsiHandler({final:"n"},A=>this.deviceStatus(A)),this._parser.registerCsiHandler({prefix:"?",final:"n"},A=>this.deviceStatusPrivate(A)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},A=>this.softReset(A)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},A=>this.setCursorStyle(A)),this._parser.registerCsiHandler({final:"r"},A=>this.setScrollRegion(A)),this._parser.registerCsiHandler({final:"s"},A=>this.saveCursor(A)),this._parser.registerCsiHandler({final:"t"},A=>this.windowOptions(A)),this._parser.registerCsiHandler({final:"u"},A=>this.restoreCursor(A)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},A=>this.insertColumns(A)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},A=>this.deleteColumns(A)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},A=>this.selectProtected(A)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},A=>this.requestMode(A,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},A=>this.requestMode(A,!1)),this._parser.setExecuteHandler(c.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(c.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(c.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(c.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(c.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(c.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(c.C1.IND,()=>this.index()),this._parser.setExecuteHandler(c.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(c.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(A=>(this.setTitle(A),this.setIconName(A),!0))),this._parser.registerOscHandler(1,new w.OscHandler(A=>this.setIconName(A))),this._parser.registerOscHandler(2,new w.OscHandler(A=>this.setTitle(A))),this._parser.registerOscHandler(4,new w.OscHandler(A=>this.setOrReportIndexedColor(A))),this._parser.registerOscHandler(8,new w.OscHandler(A=>this.setHyperlink(A))),this._parser.registerOscHandler(10,new w.OscHandler(A=>this.setOrReportFgColor(A))),this._parser.registerOscHandler(11,new w.OscHandler(A=>this.setOrReportBgColor(A))),this._parser.registerOscHandler(12,new w.OscHandler(A=>this.setOrReportCursorColor(A))),this._parser.registerOscHandler(104,new w.OscHandler(A=>this.restoreIndexedColor(A))),this._parser.registerOscHandler(110,new w.OscHandler(A=>this.restoreFgColor(A))),this._parser.registerOscHandler(111,new w.OscHandler(A=>this.restoreBgColor(A))),this._parser.registerOscHandler(112,new w.OscHandler(A=>this.restoreCursorColor(A))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const A in d.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:A},()=>this.selectCharset("("+A)),this._parser.registerEscHandler({intermediates:")",final:A},()=>this.selectCharset(")"+A)),this._parser.registerEscHandler({intermediates:"*",final:A},()=>this.selectCharset("*"+A)),this._parser.registerEscHandler({intermediates:"+",final:A},()=>this.selectCharset("+"+A)),this._parser.registerEscHandler({intermediates:"-",final:A},()=>this.selectCharset("-"+A)),this._parser.registerEscHandler({intermediates:".",final:A},()=>this.selectCharset("."+A)),this._parser.registerEscHandler({intermediates:"/",final:A},()=>this.selectCharset("/"+A));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(A=>(this._logService.error("Parsing error: ",A),A)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new x.DcsHandler((A,H)=>this.requestStatusString(A,H)))}_preserveStack(L,I,T,P){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=T,this._parseStack.position=P}_logSlowResolvingAsync(L){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([L,new Promise((I,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,I){let T,P=this._activeBuffer.x,V=this._activeBuffer.y,ee=0;const oe=this._parseStack.paused;if(oe){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(T),T;P=this._parseStack.cursorStartX,V=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>R&&(ee=this._parseStack.position+R)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,ie=>String.fromCharCode(ie)).join("")}"`),typeof L=="string"?L.split("").map(ie=>ie.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(L.length,R))),oe||this._dirtyRowTracker.clearRange(),L.length>R)for(let ie=ee;ie<L.length;ie+=R){const we=ie+R<L.length?ie+R:L.length,A=typeof L=="string"?this._stringDecoder.decode(L.substring(ie,we),this._parseBuffer):this._utf8Decoder.decode(L.subarray(ie,we),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,A))return this._preserveStack(P,V,A,ie),this._logSlowResolvingAsync(T),T}else if(!oe){const ie=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(P,V,ie,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===P&&this._activeBuffer.y===V||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,I,T){let P,V;const ee=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,ie=this._bufferService.cols,we=this._coreService.decPrivateModes.wraparound,A=this._coreService.modes.insertMode,H=this._curAttrData;let K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-I>0&&K.getWidth(this._activeBuffer.x-1)===2&&K.setCellFromCodePoint(this._activeBuffer.x-1,0,1,H.fg,H.bg,H.extended);for(let z=I;z<T;++z){if(P=L[z],V=this._unicodeService.wcwidth(P),P<127&&ee){const _e=ee[String.fromCharCode(P)];_e&&(P=_e.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,v.stringFromCodePoint)(P)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),V||!this._activeBuffer.x){if(this._activeBuffer.x+V-1>=ie){if(we){for(;this._activeBuffer.x<ie;)K.setCellFromCodePoint(this._activeBuffer.x++,0,1,H.fg,H.bg,H.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ie-1,V===2)continue}if(A&&(K.insertCells(this._activeBuffer.x,V,this._activeBuffer.getNullCell(H),H),K.getWidth(ie-1)===2&&K.setCellFromCodePoint(ie-1,n.NULL_CELL_CODE,n.NULL_CELL_WIDTH,H.fg,H.bg,H.extended)),K.setCellFromCodePoint(this._activeBuffer.x++,P,V,H.fg,H.bg,H.extended),V>0)for(;--V;)K.setCellFromCodePoint(this._activeBuffer.x++,0,0,H.fg,H.bg,H.extended)}else K.getWidth(this._activeBuffer.x-1)?K.addCodepointToCell(this._activeBuffer.x-1,P):K.addCodepointToCell(this._activeBuffer.x-2,P)}T-I>0&&(K.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ie&&T-I>0&&K.getWidth(this._activeBuffer.x)===0&&!K.hasContent(this._activeBuffer.x)&&K.setCellFromCodePoint(this._activeBuffer.x,0,1,H.fg,H.bg,H.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,I){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,I):this._parser.registerCsiHandler(L,T=>!O(T.params[0],this._optionsService.rawOptions.windowOptions)||I(T))}registerDcsHandler(L,I){return this._parser.registerDcsHandler(L,new x.DcsHandler(I))}registerEscHandler(L,I){return this._parser.registerEscHandler(L,I)}registerOscHandler(L,I){return this._parser.registerOscHandler(L,new w.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=L,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+I)}cursorUp(L){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const I=L.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=L.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=L.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const I=L.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,I,T,P=!1,V=!1){const ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);ee.replaceCells(I,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),V),P&&(ee.isWrapped=!1)}_resetBufferLine(L,I=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),T.isWrapped=!1)}eraseInDisplay(L,I=!1){let T;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);T<this._bufferService.rows;T++)this._resetBufferLine(T,I);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,I);this._dirtyRowTracker.markDirty(0);break;case 3:const P=this._activeBuffer.lines.length-this._bufferService.rows;P>0&&(this._activeBuffer.lines.trimStart(P),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-P,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-P,0),this._onScroll.fire(0))}return!0}eraseInLine(L,I=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-P+1;for(;I--;)this._activeBuffer.lines.splice(V-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let P;for(P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,P=this._bufferService.rows-1+this._activeBuffer.ybase-P;I--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let I=L.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let I=L.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(i.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const I=L.params[0]||1,T=new Uint32Array(I);for(let P=0;P<I;++P)T[P]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,d.DEFAULT_CHARSET),this._charsetService.setgCharset(1,d.DEFAULT_CHARSET),this._charsetService.setgCharset(2,d.DEFAULT_CHARSET),this._charsetService.setgCharset(3,d.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,I){const T=this._coreService.decPrivateModes,{activeProtocol:P,activeEncoding:V}=this._coreMouseService,ee=this._coreService,{buffers:oe,cols:ie}=this._bufferService,{active:we,alt:A}=oe,H=this._optionsService.rawOptions,K=B=>B?1:2,z=L.params[0];return _e=z,D=I?z===2?4:z===4?K(ee.modes.insertMode):z===12?3:z===20?K(H.convertEol):0:z===1?K(T.applicationCursorKeys):z===3?H.windowOptions.setWinLines?ie===80?2:ie===132?1:0:0:z===6?K(T.origin):z===7?K(T.wraparound):z===8?3:z===9?K(P==="X10"):z===12?K(H.cursorBlink):z===25?K(!ee.isCursorHidden):z===45?K(T.reverseWraparound):z===66?K(T.applicationKeypad):z===67?4:z===1e3?K(P==="VT200"):z===1002?K(P==="DRAG"):z===1003?K(P==="ANY"):z===1004?K(T.sendFocus):z===1005?4:z===1006?K(V==="SGR"):z===1015?4:z===1016?K(V==="SGR_PIXELS"):z===1048?1:z===47||z===1047||z===1049?K(we===A):z===2004?K(T.bracketedPasteMode):0,ee.triggerDataEvent(`${c.C0.ESC}[${I?"":"?"}${_e};${D}$y`),!0;var _e,D}_updateAttrColor(L,I,T,P,V){return I===2?(L|=50331648,L&=-16777216,L|=p.AttributeData.fromColorRGB([T,P,V])):I===5&&(L&=-50331904,L|=33554432|255&T),L}_extractColor(L,I,T){const P=[0,0,-1,0,0,0];let V=0,ee=0;do{if(P[ee+V]=L.params[I+ee],L.hasSubParams(I+ee)){const oe=L.getSubParams(I+ee);let ie=0;do P[1]===5&&(V=1),P[ee+ie+1+V]=oe[ie];while(++ie<oe.length&&ie+ee+1+V<P.length);break}if(P[1]===5&&ee+V>=2||P[1]===2&&ee+V>=5)break;P[1]&&(V=1)}while(++ee+I<L.length&&ee+V<P.length);for(let oe=2;oe<P.length;++oe)P[oe]===-1&&(P[oe]=0);switch(P[0]){case 38:T.fg=this._updateAttrColor(T.fg,P[1],P[3],P[4],P[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,P[1],P[3],P[4],P[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,P[1],P[3],P[4],P[5])}return ee}_processUnderline(L,I){I.extended=I.extended.clone(),(!~L||L>5)&&(L=1),I.extended.underlineStyle=L,I.fg|=268435456,L===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(L){L.fg=i.DEFAULT_ATTR_DATA.fg,L.bg=i.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=L.length;let T;const P=this._curAttrData;for(let V=0;V<I;V++)T=L.params[V],T>=30&&T<=37?(P.fg&=-50331904,P.fg|=16777216|T-30):T>=40&&T<=47?(P.bg&=-50331904,P.bg|=16777216|T-40):T>=90&&T<=97?(P.fg&=-50331904,P.fg|=16777224|T-90):T>=100&&T<=107?(P.bg&=-50331904,P.bg|=16777224|T-100):T===0?this._processSGR0(P):T===1?P.fg|=134217728:T===3?P.bg|=67108864:T===4?(P.fg|=268435456,this._processUnderline(L.hasSubParams(V)?L.getSubParams(V)[0]:1,P)):T===5?P.fg|=536870912:T===7?P.fg|=67108864:T===8?P.fg|=1073741824:T===9?P.fg|=2147483648:T===2?P.bg|=134217728:T===21?this._processUnderline(2,P):T===22?(P.fg&=-134217729,P.bg&=-134217729):T===23?P.bg&=-67108865:T===24?(P.fg&=-268435457,this._processUnderline(0,P)):T===25?P.fg&=-536870913:T===27?P.fg&=-67108865:T===28?P.fg&=-1073741825:T===29?P.fg&=2147483647:T===39?(P.fg&=-67108864,P.fg|=16777215&i.DEFAULT_ATTR_DATA.fg):T===49?(P.bg&=-67108864,P.bg|=16777215&i.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?V+=this._extractColor(L,V,P):T===53?P.bg|=1073741824:T===55?P.bg&=-1073741825:T===59?(P.extended=P.extended.clone(),P.extended.underlineColor=-1,P.updateExtended()):T===100?(P.fg&=-67108864,P.fg|=16777215&i.DEFAULT_ATTR_DATA.fg,P.bg&=-67108864,P.bg|=16777215&i.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${I};${T}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const I=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${I};${T}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=i.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const I=L.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=I%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(L){const I=L.params[0]||1;let T;return(L.length<2||(T=L.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(L){if(!O(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const I=[],T=L.split(";");for(;T.length>1;){const P=T.shift(),V=T.shift();if(/^\d+$/.exec(P)){const ee=parseInt(P);if(W(ee))if(V==="?")I.push({type:0,index:ee});else{const oe=(0,_.parseColor)(V);oe&&I.push({type:1,index:ee,color:oe})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(L){const I=L.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(L,I){this._getCurrentLinkId()&&this._finishHyperlink();const T=L.split(":");let P;const V=T.findIndex(ee=>ee.startsWith("id="));return V!==-1&&(P=T[V].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:P,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,I){const T=L.split(";");for(let P=0;P<T.length&&!(I>=this._specialColors.length);++P,++I)if(T[P]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const V=(0,_.parseColor)(T[P]);V&&this._onColor.fire([{type:1,index:this._specialColors[I],color:V}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const I=[],T=L.split(";");for(let P=0;P<T.length;++P)if(/^\d+$/.exec(T[P])){const V=parseInt(T[P]);W(V)&&I.push({type:2,index:V})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,d.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(E[L[0]],d.CHARSETS[L[1]]||d.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=i.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=i.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new l.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const T=this._activeBuffer.ybase+this._activeBuffer.y+I,P=this._activeBuffer.lines.get(T);P&&(P.fill(L),P.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,I){const T=this._bufferService.buffer,P=this._optionsService.rawOptions;return(V=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${V}${c.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[P.cursorStyle]-(P.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,I){this._dirtyRowTracker.markRangeDirty(L,I)}}s.InputHandler=F;let $=class{constructor(U){this._bufferService=U,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(U){U<this.start?this.start=U:U>this.end&&(this.end=U)}markRangeDirty(U,L){U>L&&(M=U,U=L,L=M),U<this.start&&(this.start=U),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function W(U){return 0<=U&&U<256}$=u([f(0,m.IBufferService)],$)},844:(b,s)=>{function a(u){for(const f of u)f.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const f=this._disposables.indexOf(u);f!==-1&&this._disposables.splice(f,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var f;this._isDisposed||u===this._value||((f=this._value)===null||f===void 0||f.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(f,c,d){this._data[f]||(this._data[f]={}),this._data[f][c]=d}get(f,c){return this._data[f]?this._data[f][c]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(u,f,c,d,S){this._data.get(u,f)||this._data.set(u,f,new a),this._data.get(u,f).set(c,d,S)}get(u,f,c,d){var S;return(S=this._data.get(u,f))===null||S===void 0?void 0:S.get(c,d)}clear(){this._data.clear()}}},6114:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const a=s.isNode?"node":navigator.userAgent,u=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const f=a.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),s.isIpad=u==="iPad",s.isIphone=u==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),s.isLinux=u.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},6106:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let a=0;s.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u)),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const f=this._getKey(u);if(f===void 0||(a=this._search(f),a===-1)||this._getKey(this._array[a])!==f)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===f);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,f){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do f(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return[...this._array].values()}_search(u){let f=0,c=this._array.length-1;for(;c>=f;){let d=f+c>>1;const S=this._getKey(this._array[d]);if(S>u)c=d-1;else{if(!(S<u)){for(;d>0&&this._getKey(this._array[d-1])===u;)d--;return d}f=d+1}}return f}}},7226:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const u=a(6114);class f{constructor(){this._tasks=[],this._i=0}enqueue(S){this._tasks.push(S),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(S){this._idleCallback=void 0;let y=0,v=0,i=S.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(y=Date.now(),this._tasks[this._i]()||this._i++,y=Math.max(1,Date.now()-y),v=Math.max(y,v),o=S.timeRemaining(),1.5*v>o)return i-y<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(i-y))}ms`),void this._start();i=o}this.clear()}}class c extends f{_requestCallback(S){return setTimeout(()=>S(this._createDeadline(16)))}_cancelCallback(S){clearTimeout(S)}_createDeadline(S){const y=Date.now()+S;return{timeRemaining:()=>Math.max(0,y-Date.now())}}}s.PriorityTaskQueue=c,s.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends f{_requestCallback(d){return requestIdleCallback(d)}_cancelCallback(d){cancelIdleCallback(d)}}:c,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(d){this._queue.clear(),this._queue.enqueue(d)}flush(){this._queue.flush()}}},9282:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const u=a(643);s.updateWindowsModeWrappedState=function(f){const c=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),d=c?.get(f.cols-1),S=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);S&&d&&(S.isWrapped=d[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&d[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new a;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}s.AttributeData=a;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}constructor(c=0,d=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=d}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=u},9092:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const u=a(6349),f=a(7226),c=a(3734),d=a(8437),S=a(4634),y=a(511),v=a(643),i=a(4863),o=a(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(n,l,p){this._hasScrollback=n,this._optionsService=l,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=d.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=y.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=y.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(n){return n?(this._nullCell.fg=n.fg,this._nullCell.bg=n.bg,this._nullCell.extended=n.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(n){return n?(this._whitespaceCell.fg=n.fg,this._whitespaceCell.bg=n.bg,this._whitespaceCell.extended=n.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(n,l){return new d.BufferLine(this._bufferService.cols,this.getNullCell(n),l)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const n=this.ybase+this.y-this.ydisp;return n>=0&&n<this._rows}_getCorrectBufferLength(n){if(!this._hasScrollback)return n;const l=n+this._optionsService.rawOptions.scrollback;return l>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:l}fillViewportRows(n){if(this.lines.length===0){n===void 0&&(n=d.DEFAULT_ATTR_DATA);let l=this._rows;for(;l--;)this.lines.push(this.getBlankLine(n))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(n,l){const p=this.getNullCell(d.DEFAULT_ATTR_DATA);let m=0;const w=this._getCorrectBufferLength(l);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<n)for(let _=0;_<this.lines.length;_++)m+=+this.lines.get(_).resize(n,p);let x=0;if(this._rows<l)for(let _=this._rows;_<l;_++)this.lines.length<l+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new d.BufferLine(n,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new d.BufferLine(n,p)));else for(let _=this._rows;_>l;_--)this.lines.length>l+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const _=this.lines.length-w;_>0&&(this.lines.trimStart(_),this.ybase=Math.max(this.ybase-_,0),this.ydisp=Math.max(this.ydisp-_,0),this.savedY=Math.max(this.savedY-_,0)),this.lines.maxLength=w}this.x=Math.min(this.x,n-1),this.y=Math.min(this.y,l-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,n-1),this.scrollTop=0}if(this.scrollBottom=l-1,this._isReflowEnabled&&(this._reflow(n,l),this._cols>n))for(let x=0;x<this.lines.length;x++)m+=+this.lines.get(x).resize(n,p);this._cols=n,this._rows=l,this._memoryCleanupQueue.clear(),m>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let n=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,n=!1);let l=0;for(;this._memoryCleanupPosition<this.lines.length;)if(l+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),l>100)return!0;return n}get _isReflowEnabled(){const n=this._optionsService.rawOptions.windowsPty;return n&&n.buildNumber?this._hasScrollback&&n.backend==="conpty"&&n.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(n,l){this._cols!==n&&(n>this._cols?this._reflowLarger(n,l):this._reflowSmaller(n,l))}_reflowLarger(n,l){const p=(0,S.reflowLargerGetLinesToRemove)(this.lines,this._cols,n,this.ybase+this.y,this.getNullCell(d.DEFAULT_ATTR_DATA));if(p.length>0){const m=(0,S.reflowLargerCreateNewLayout)(this.lines,p);(0,S.reflowLargerApplyNewLayout)(this.lines,m.layout),this._reflowLargerAdjustViewport(n,l,m.countRemoved)}}_reflowLargerAdjustViewport(n,l,p){const m=this.getNullCell(d.DEFAULT_ATTR_DATA);let w=p;for(;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<l&&this.lines.push(new d.BufferLine(n,m))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(n,l){const p=this.getNullCell(d.DEFAULT_ATTR_DATA),m=[];let w=0;for(let x=this.lines.length-1;x>=0;x--){let _=this.lines.get(x);if(!_||!_.isWrapped&&_.getTrimmedLength()<=n)continue;const E=[_];for(;_.isWrapped&&x>0;)_=this.lines.get(--x),E.unshift(_);const R=this.ybase+this.y;if(R>=x&&R<x+E.length)continue;const O=E[E.length-1].getTrimmedLength(),k=(0,S.reflowSmallerGetNewLineLengths)(E,this._cols,n),M=k.length-E.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+M):Math.max(0,this.lines.length-this.lines.maxLength+M);const $=[];for(let P=0;P<M;P++){const V=this.getBlankLine(d.DEFAULT_ATTR_DATA,!0);$.push(V)}$.length>0&&(m.push({start:x+E.length+w,newLines:$}),w+=$.length),E.push(...$);let W=k.length-1,U=k[W];U===0&&(W--,U=k[W]);let L=E.length-M-1,I=O;for(;L>=0;){const P=Math.min(I,U);if(E[W]===void 0)break;if(E[W].copyCellsFrom(E[L],I-P,U-P,P,!0),U-=P,U===0&&(W--,U=k[W]),I-=P,I===0){L--;const V=Math.max(L,0);I=(0,S.getWrappedLineTrimmedLength)(E,V,this._cols)}}for(let P=0;P<E.length;P++)k[P]<n&&E[P].setCell(k[P],p);let T=M-F;for(;T-- >0;)this.ybase===0?this.y<l-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-l&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+M,this.ybase+l-1)}if(m.length>0){const x=[],_=[];for(let W=0;W<this.lines.length;W++)_.push(this.lines.get(W));const E=this.lines.length;let R=E-1,O=0,k=m[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);let M=0;for(let W=Math.min(this.lines.maxLength-1,E+w-1);W>=0;W--)if(k&&k.start>R+M){for(let U=k.newLines.length-1;U>=0;U--)this.lines.set(W--,k.newLines[U]);W++,x.push({index:R+1,amount:k.newLines.length}),M+=k.newLines.length,k=m[++O]}else this.lines.set(W,_[R--]);let F=0;for(let W=x.length-1;W>=0;W--)x[W].index+=F,this.lines.onInsertEmitter.fire(x[W]),F+=x[W].amount;const $=Math.max(0,E+w-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(n,l,p=0,m){const w=this.lines.get(n);return w?w.translateToString(l,p,m):""}getWrappedRangeForLine(n){let l=n,p=n;for(;l>0&&this.lines.get(l).isWrapped;)l--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:l,last:p}}setupTabStops(n){for(n!=null?this.tabs[n]||(n=this.prevStop(n)):(this.tabs={},n=0);n<this._cols;n+=this._optionsService.rawOptions.tabStopWidth)this.tabs[n]=!0}prevStop(n){for(n==null&&(n=this.x);!this.tabs[--n]&&n>0;);return n>=this._cols?this._cols-1:n<0?0:n}nextStop(n){for(n==null&&(n=this.x);!this.tabs[++n]&&n<this._cols;);return n>=this._cols?this._cols-1:n<0?0:n}clearMarkers(n){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].line===n&&(this.markers[l].dispose(),this.markers.splice(l--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let n=0;n<this.markers.length;n++)this.markers[n].dispose(),this.markers.splice(n--,1);this._isClearing=!1}addMarker(n){const l=new i.Marker(n);return this.markers.push(l),l.register(this.lines.onTrim(p=>{l.line-=p,l.line<0&&l.dispose()})),l.register(this.lines.onInsert(p=>{l.line>=p.index&&(l.line+=p.amount)})),l.register(this.lines.onDelete(p=>{l.line>=p.index&&l.line<p.index+p.amount&&l.dispose(),l.line>p.index&&(l.line-=p.amount)})),l.register(l.onDispose(()=>this._removeMarker(l))),l}_removeMarker(n){this._isClearing||this.markers.splice(this.markers.indexOf(n),1)}}},8437:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const u=a(3734),f=a(511),c=a(643),d=a(482);s.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let S=0;class y{constructor(i,o,n=!1){this.isWrapped=n,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*i);const l=o||f.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]);for(let p=0;p<i;++p)this.setCell(p,l);this.length=i}get(i){const o=this._data[3*i+0],n=2097151&o;return[this._data[3*i+1],2097152&o?this._combined[i]:n?(0,d.stringFromCodePoint)(n):"",o>>22,2097152&o?this._combined[i].charCodeAt(this._combined[i].length-1):n]}set(i,o){this._data[3*i+1]=o[c.CHAR_DATA_ATTR_INDEX],o[c.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[i]=o[1],this._data[3*i+0]=2097152|i|o[c.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*i+0]=o[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[c.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(i){return this._data[3*i+0]>>22}hasWidth(i){return 12582912&this._data[3*i+0]}getFg(i){return this._data[3*i+1]}getBg(i){return this._data[3*i+2]}hasContent(i){return 4194303&this._data[3*i+0]}getCodePoint(i){const o=this._data[3*i+0];return 2097152&o?this._combined[i].charCodeAt(this._combined[i].length-1):2097151&o}isCombined(i){return 2097152&this._data[3*i+0]}getString(i){const o=this._data[3*i+0];return 2097152&o?this._combined[i]:2097151&o?(0,d.stringFromCodePoint)(2097151&o):""}isProtected(i){return 536870912&this._data[3*i+2]}loadCell(i,o){return S=3*i,o.content=this._data[S+0],o.fg=this._data[S+1],o.bg=this._data[S+2],2097152&o.content&&(o.combinedData=this._combined[i]),268435456&o.bg&&(o.extended=this._extendedAttrs[i]),o}setCell(i,o){2097152&o.content&&(this._combined[i]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[i]=o.extended),this._data[3*i+0]=o.content,this._data[3*i+1]=o.fg,this._data[3*i+2]=o.bg}setCellFromCodePoint(i,o,n,l,p,m){268435456&p&&(this._extendedAttrs[i]=m),this._data[3*i+0]=o|n<<22,this._data[3*i+1]=l,this._data[3*i+2]=p}addCodepointToCell(i,o){let n=this._data[3*i+0];2097152&n?this._combined[i]+=(0,d.stringFromCodePoint)(o):(2097151&n?(this._combined[i]=(0,d.stringFromCodePoint)(2097151&n)+(0,d.stringFromCodePoint)(o),n&=-2097152,n|=2097152):n=o|4194304,this._data[3*i+0]=n)}insertCells(i,o,n,l){if((i%=this.length)&&this.getWidth(i-1)===2&&this.setCellFromCodePoint(i-1,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs),o<this.length-i){const p=new f.CellData;for(let m=this.length-i-o-1;m>=0;--m)this.setCell(i+o+m,this.loadCell(i+m,p));for(let m=0;m<o;++m)this.setCell(i+m,n)}else for(let p=i;p<this.length;++p)this.setCell(p,n);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs)}deleteCells(i,o,n,l){if(i%=this.length,o<this.length-i){const p=new f.CellData;for(let m=0;m<this.length-i-o;++m)this.setCell(i+m,this.loadCell(i+o+m,p));for(let m=this.length-o;m<this.length;++m)this.setCell(m,n)}else for(let p=i;p<this.length;++p)this.setCell(p,n);i&&this.getWidth(i-1)===2&&this.setCellFromCodePoint(i-1,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs),this.getWidth(i)!==0||this.hasContent(i)||this.setCellFromCodePoint(i,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs)}replaceCells(i,o,n,l,p=!1){if(p)for(i&&this.getWidth(i-1)===2&&!this.isProtected(i-1)&&this.setCellFromCodePoint(i-1,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodePoint(o,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs);i<o&&i<this.length;)this.isProtected(i)||this.setCell(i,n),i++;else for(i&&this.getWidth(i-1)===2&&this.setCellFromCodePoint(i-1,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o,0,1,l?.fg||0,l?.bg||0,l?.extended||new u.ExtendedAttrs);i<o&&i<this.length;)this.setCell(i++,n)}resize(i,o){if(i===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const n=3*i;if(i>this.length){if(this._data.buffer.byteLength>=4*n)this._data=new Uint32Array(this._data.buffer,0,n);else{const l=new Uint32Array(n);l.set(this._data),this._data=l}for(let l=this.length;l<i;++l)this.setCell(l,o)}else{this._data=this._data.subarray(0,n);const l=Object.keys(this._combined);for(let m=0;m<l.length;m++){const w=parseInt(l[m],10);w>=i&&delete this._combined[w]}const p=Object.keys(this._extendedAttrs);for(let m=0;m<p.length;m++){const w=parseInt(p[m],10);w>=i&&delete this._extendedAttrs[w]}}return this.length=i,4*n*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const i=new Uint32Array(this._data.length);return i.set(this._data),this._data=i,1}return 0}fill(i,o=!1){if(o)for(let n=0;n<this.length;++n)this.isProtected(n)||this.setCell(n,i);else{this._combined={},this._extendedAttrs={};for(let n=0;n<this.length;++n)this.setCell(n,i)}}copyFrom(i){this.length!==i.length?this._data=new Uint32Array(i._data):this._data.set(i._data),this.length=i.length,this._combined={};for(const o in i._combined)this._combined[o]=i._combined[o];this._extendedAttrs={};for(const o in i._extendedAttrs)this._extendedAttrs[o]=i._extendedAttrs[o];this.isWrapped=i.isWrapped}clone(){const i=new y(0);i._data=new Uint32Array(this._data),i.length=this.length;for(const o in this._combined)i._combined[o]=this._combined[o];for(const o in this._extendedAttrs)i._extendedAttrs[o]=this._extendedAttrs[o];return i.isWrapped=this.isWrapped,i}getTrimmedLength(){for(let i=this.length-1;i>=0;--i)if(4194303&this._data[3*i+0])return i+(this._data[3*i+0]>>22);return 0}getNoBgTrimmedLength(){for(let i=this.length-1;i>=0;--i)if(4194303&this._data[3*i+0]||50331648&this._data[3*i+2])return i+(this._data[3*i+0]>>22);return 0}copyCellsFrom(i,o,n,l,p){const m=i._data;if(p)for(let x=l-1;x>=0;x--){for(let _=0;_<3;_++)this._data[3*(n+x)+_]=m[3*(o+x)+_];268435456&m[3*(o+x)+2]&&(this._extendedAttrs[n+x]=i._extendedAttrs[o+x])}else for(let x=0;x<l;x++){for(let _=0;_<3;_++)this._data[3*(n+x)+_]=m[3*(o+x)+_];268435456&m[3*(o+x)+2]&&(this._extendedAttrs[n+x]=i._extendedAttrs[o+x])}const w=Object.keys(i._combined);for(let x=0;x<w.length;x++){const _=parseInt(w[x],10);_>=o&&(this._combined[_-o+n]=i._combined[_])}}translateToString(i=!1,o=0,n=this.length){i&&(n=Math.min(n,this.getTrimmedLength()));let l="";for(;o<n;){const p=this._data[3*o+0],m=2097151&p;l+=2097152&p?this._combined[o]:m?(0,d.stringFromCodePoint)(m):c.WHITESPACE_CELL_CHAR,o+=p>>22||1}return l}}s.BufferLine=y},4841:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(b,s)=>{function a(u,f,c){if(f===u.length-1)return u[f].getTrimmedLength();const d=!u[f].hasContent(c-1)&&u[f].getWidth(c-1)===1,S=u[f+1].getWidth(0)===2;return d&&S?c-1:c}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(u,f,c,d,S){const y=[];for(let v=0;v<u.length-1;v++){let i=v,o=u.get(++i);if(!o.isWrapped)continue;const n=[u.get(v)];for(;i<u.length&&o.isWrapped;)n.push(o),o=u.get(++i);if(d>=v&&d<i){v+=n.length-1;continue}let l=0,p=a(n,l,f),m=1,w=0;for(;m<n.length;){const _=a(n,m,f),E=_-w,R=c-p,O=Math.min(E,R);n[l].copyCellsFrom(n[m],w,p,O,!1),p+=O,p===c&&(l++,p=0),w+=O,w===_&&(m++,w=0),p===0&&l!==0&&n[l-1].getWidth(c-1)===2&&(n[l].copyCellsFrom(n[l-1],c-1,p++,1,!1),n[l-1].setCell(c-1,S))}n[l].replaceCells(p,c,S);let x=0;for(let _=n.length-1;_>0&&(_>l||n[_].getTrimmedLength()===0);_--)x++;x>0&&(y.push(v+n.length-x),y.push(x)),v+=n.length-1}return y},s.reflowLargerCreateNewLayout=function(u,f){const c=[];let d=0,S=f[d],y=0;for(let v=0;v<u.length;v++)if(S===v){const i=f[++d];u.onDeleteEmitter.fire({index:v-y,amount:i}),v+=i-1,y+=i,S=f[++d]}else c.push(v);return{layout:c,countRemoved:y}},s.reflowLargerApplyNewLayout=function(u,f){const c=[];for(let d=0;d<f.length;d++)c.push(u.get(f[d]));for(let d=0;d<c.length;d++)u.set(d,c[d]);u.length=f.length},s.reflowSmallerGetNewLineLengths=function(u,f,c){const d=[],S=u.map((o,n)=>a(u,n,f)).reduce((o,n)=>o+n);let y=0,v=0,i=0;for(;i<S;){if(S-i<c){d.push(S-i);break}y+=c;const o=a(u,v,f);y>o&&(y-=o,v++);const n=u[v].getWidth(y-1)===2;n&&y--;const l=n?c-1:c;d.push(l),i+=l}return d},s.getWrappedLineTrimmedLength=a},5295:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const u=a(8460),f=a(844),c=a(9092);class d extends f.Disposable{constructor(y,v){super(),this._optionsService=y,this._bufferService=v,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new c.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new c.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(y){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(y),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(y,v){this._normal.resize(y,v),this._alt.resize(y,v),this.setupTabStops(y)}setupTabStops(y){this._normal.setupTabStops(y),this._alt.setupTabStops(y)}}s.BufferSet=d},511:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const u=a(482),f=a(643),c=a(3734);class d extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(y){const v=new d;return v.setFromCharData(y),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(y){this.fg=y[f.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(y[f.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(y[f.CHAR_DATA_CHAR_INDEX].length===2){const i=y[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){const o=y[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(i-55296)+o-56320+65536|y[f.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=y[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[f.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=y[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|y[f.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=d},643:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const u=a(8460),f=a(844);class c{get id(){return this._id}constructor(S){this.line=S,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,f.disposeArray)(this._disposables),this._disposables.length=0)}register(S){return this._disposables.push(S),S}}s.Marker=c,c._nextId=1},7116:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},s.CHARSETS.A={"#":"£"},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},s.CHARSETS.C=s.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},s.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},s.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},s.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},s.CHARSETS.E=s.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},s.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},s.CHARSETS.H=s.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},s.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(b,s)=>{var a,u,f;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(c){c.NUL="\0",c.SOH="",c.STX="",c.ETX="",c.EOT="",c.ENQ="",c.ACK="",c.BEL="\x07",c.BS="\b",c.HT="	",c.LF=`
`,c.VT="\v",c.FF="\f",c.CR="\r",c.SO="",c.SI="",c.DLE="",c.DC1="",c.DC2="",c.DC3="",c.DC4="",c.NAK="",c.SYN="",c.ETB="",c.CAN="",c.EM="",c.SUB="",c.ESC="\x1B",c.FS="",c.GS="",c.RS="",c.US="",c.SP=" ",c.DEL=""}(a||(s.C0=a={})),function(c){c.PAD="",c.HOP="",c.BPH="",c.NBH="",c.IND="",c.NEL="",c.SSA="",c.ESA="",c.HTS="",c.HTJ="",c.VTS="",c.PLD="",c.PLU="",c.RI="",c.SS2="",c.SS3="",c.DCS="",c.PU1="",c.PU2="",c.STS="",c.CCH="",c.MW="",c.SPA="",c.EPA="",c.SOS="",c.SGCI="",c.SCI="",c.CSI="",c.ST="",c.OSC="",c.PM="",c.APC=""}(u||(s.C1=u={})),function(c){c.ST=`${a.ESC}\\`}(f||(s.C1_ESCAPED=f={}))},7399:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const u=a(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(c,d,S,y){const v={type:0,cancel:!1,key:void 0},i=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?v.key=d?u.C0.ESC+"OA":u.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?v.key=d?u.C0.ESC+"OD":u.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?v.key=d?u.C0.ESC+"OC":u.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(v.key=d?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(c.altKey){v.key=u.C0.ESC+u.C0.DEL;break}v.key=u.C0.DEL;break;case 9:if(c.shiftKey){v.key=u.C0.ESC+"[Z";break}v.key=u.C0.HT,v.cancel=!0;break;case 13:v.key=c.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,v.cancel=!0;break;case 27:v.key=u.C0.ESC,c.altKey&&(v.key=u.C0.ESC+u.C0.ESC),v.cancel=!0;break;case 37:if(c.metaKey)break;i?(v.key=u.C0.ESC+"[1;"+(i+1)+"D",v.key===u.C0.ESC+"[1;3D"&&(v.key=u.C0.ESC+(S?"b":"[1;5D"))):v.key=d?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(c.metaKey)break;i?(v.key=u.C0.ESC+"[1;"+(i+1)+"C",v.key===u.C0.ESC+"[1;3C"&&(v.key=u.C0.ESC+(S?"f":"[1;5C"))):v.key=d?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(c.metaKey)break;i?(v.key=u.C0.ESC+"[1;"+(i+1)+"A",S||v.key!==u.C0.ESC+"[1;3A"||(v.key=u.C0.ESC+"[1;5A")):v.key=d?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(c.metaKey)break;i?(v.key=u.C0.ESC+"[1;"+(i+1)+"B",S||v.key!==u.C0.ESC+"[1;3B"||(v.key=u.C0.ESC+"[1;5B")):v.key=d?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(v.key=u.C0.ESC+"[2~");break;case 46:v.key=i?u.C0.ESC+"[3;"+(i+1)+"~":u.C0.ESC+"[3~";break;case 36:v.key=i?u.C0.ESC+"[1;"+(i+1)+"H":d?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:v.key=i?u.C0.ESC+"[1;"+(i+1)+"F":d?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:c.shiftKey?v.type=2:c.ctrlKey?v.key=u.C0.ESC+"[5;"+(i+1)+"~":v.key=u.C0.ESC+"[5~";break;case 34:c.shiftKey?v.type=3:c.ctrlKey?v.key=u.C0.ESC+"[6;"+(i+1)+"~":v.key=u.C0.ESC+"[6~";break;case 112:v.key=i?u.C0.ESC+"[1;"+(i+1)+"P":u.C0.ESC+"OP";break;case 113:v.key=i?u.C0.ESC+"[1;"+(i+1)+"Q":u.C0.ESC+"OQ";break;case 114:v.key=i?u.C0.ESC+"[1;"+(i+1)+"R":u.C0.ESC+"OR";break;case 115:v.key=i?u.C0.ESC+"[1;"+(i+1)+"S":u.C0.ESC+"OS";break;case 116:v.key=i?u.C0.ESC+"[15;"+(i+1)+"~":u.C0.ESC+"[15~";break;case 117:v.key=i?u.C0.ESC+"[17;"+(i+1)+"~":u.C0.ESC+"[17~";break;case 118:v.key=i?u.C0.ESC+"[18;"+(i+1)+"~":u.C0.ESC+"[18~";break;case 119:v.key=i?u.C0.ESC+"[19;"+(i+1)+"~":u.C0.ESC+"[19~";break;case 120:v.key=i?u.C0.ESC+"[20;"+(i+1)+"~":u.C0.ESC+"[20~";break;case 121:v.key=i?u.C0.ESC+"[21;"+(i+1)+"~":u.C0.ESC+"[21~";break;case 122:v.key=i?u.C0.ESC+"[23;"+(i+1)+"~":u.C0.ESC+"[23~";break;case 123:v.key=i?u.C0.ESC+"[24;"+(i+1)+"~":u.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(S&&!y||!c.altKey||c.metaKey)!S||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?v.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(v.key=u.C0.US),c.key==="@"&&(v.key=u.C0.NUL)):c.keyCode===65&&(v.type=1);else{const o=f[c.keyCode],n=o?.[c.shiftKey?1:0];if(n)v.key=u.C0.ESC+n;else if(c.keyCode>=65&&c.keyCode<=90){const l=c.ctrlKey?c.keyCode-64:c.keyCode+32;let p=String.fromCharCode(l);c.shiftKey&&(p=p.toUpperCase()),v.key=u.C0.ESC+p}else if(c.keyCode===32)v.key=u.C0.ESC+(c.ctrlKey?u.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let l=c.code.slice(3,4);c.shiftKey||(l=l.toLowerCase()),v.key=u.C0.ESC+l,v.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?v.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?v.key=u.C0.NUL:c.keyCode>=51&&c.keyCode<=55?v.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?v.key=u.C0.DEL:c.keyCode===219?v.key=u.C0.ESC:c.keyCode===220?v.key=u.C0.FS:c.keyCode===221&&(v.key=u.C0.GS)}return v}},482:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},s.utf32ToString=function(a,u=0,f=a.length){let c="";for(let d=u;d<f;++d){let S=a[d];S>65535?(S-=65536,c+=String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):c+=String.fromCharCode(S)}return c},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const f=a.length;if(!f)return 0;let c=0,d=0;if(this._interim){const S=a.charCodeAt(d++);56320<=S&&S<=57343?u[c++]=1024*(this._interim-55296)+S-56320+65536:(u[c++]=this._interim,u[c++]=S),this._interim=0}for(let S=d;S<f;++S){const y=a.charCodeAt(S);if(55296<=y&&y<=56319){if(++S>=f)return this._interim=y,c;const v=a.charCodeAt(S);56320<=v&&v<=57343?u[c++]=1024*(y-55296)+v-56320+65536:(u[c++]=y,u[c++]=v)}else y!==65279&&(u[c++]=y)}return c}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const f=a.length;if(!f)return 0;let c,d,S,y,v=0,i=0,o=0;if(this.interim[0]){let p=!1,m=this.interim[0];m&=(224&m)==192?31:(240&m)==224?15:7;let w,x=0;for(;(w=63&this.interim[++x])&&x<4;)m<<=6,m|=w;const _=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=_-x;for(;o<E;){if(o>=f)return 0;if(w=a[o++],(192&w)!=128){o--,p=!0;break}this.interim[x++]=w,m<<=6,m|=63&w}p||(_===2?m<128?o--:u[v++]=m:_===3?m<2048||m>=55296&&m<=57343||m===65279||(u[v++]=m):m<65536||m>1114111||(u[v++]=m)),this.interim.fill(0)}const n=f-4;let l=o;for(;l<f;){for(;!(!(l<n)||128&(c=a[l])||128&(d=a[l+1])||128&(S=a[l+2])||128&(y=a[l+3]));)u[v++]=c,u[v++]=d,u[v++]=S,u[v++]=y,l+=4;if(c=a[l++],c<128)u[v++]=c;else if((224&c)==192){if(l>=f)return this.interim[0]=c,v;if(d=a[l++],(192&d)!=128){l--;continue}if(i=(31&c)<<6|63&d,i<128){l--;continue}u[v++]=i}else if((240&c)==224){if(l>=f)return this.interim[0]=c,v;if(d=a[l++],(192&d)!=128){l--;continue}if(l>=f)return this.interim[0]=c,this.interim[1]=d,v;if(S=a[l++],(192&S)!=128){l--;continue}if(i=(15&c)<<12|(63&d)<<6|63&S,i<2048||i>=55296&&i<=57343||i===65279)continue;u[v++]=i}else if((248&c)==240){if(l>=f)return this.interim[0]=c,v;if(d=a[l++],(192&d)!=128){l--;continue}if(l>=f)return this.interim[0]=c,this.interim[1]=d,v;if(S=a[l++],(192&S)!=128){l--;continue}if(l>=f)return this.interim[0]=c,this.interim[1]=d,this.interim[2]=S,v;if(y=a[l++],(192&y)!=128){l--;continue}if(i=(7&c)<<18|(63&d)<<12|(63&S)<<6|63&y,i<65536||i>1114111)continue;u[v++]=i}}return v}}},225:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let f;s.UnicodeV6=class{constructor(){if(this.version="6",!f){f=new Uint8Array(65536),f.fill(1),f[0]=0,f.fill(0,1,32),f.fill(0,127,160),f.fill(2,4352,4448),f[9001]=2,f[9002]=2,f.fill(2,11904,42192),f[12351]=1,f.fill(2,44032,55204),f.fill(2,63744,64256),f.fill(2,65040,65050),f.fill(2,65072,65136),f.fill(2,65280,65377),f.fill(2,65504,65511);for(let c=0;c<a.length;++c)f.fill(0,a[c][0],a[c][1]+1)}}wcwidth(c){return c<32?0:c<127?1:c<65536?f[c]:function(d,S){let y,v=0,i=S.length-1;if(d<S[0][0]||d>S[i][1])return!1;for(;i>=v;)if(y=v+i>>1,d>S[y][1])v=y+1;else{if(!(d<S[y][0]))return!0;i=y-1}return!1}(c,u)?0:c>=131072&&c<=196605||c>=196608&&c<=262141?2:1}}},5981:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const u=a(8460),f=a(844);class c extends f.Disposable{constructor(S){super(),this._action=S,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(S,y){if(y!==void 0&&this._syncCalls>y)return void(this._syncCalls=0);if(this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(S,y){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(y),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(y)}_innerWrite(S=0,y=!0){const v=S||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const i=this._writeBuffer[this._bufferOffset],o=this._action(i,y);if(o){const l=p=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(v,p);return void o.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(l)}const n=this._callbacks[this._bufferOffset];if(n&&n(),this._bufferOffset++,this._pendingData-=i.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=c},5941:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function f(c,d){const S=c.toString(16),y=S.length<2?"0"+S:S;switch(d){case 4:return S[0];case 8:return y;case 12:return(y+y).slice(0,3);default:return y+y}}s.parseColor=function(c){if(!c)return;let d=c.toLowerCase();if(d.indexOf("rgb:")===0){d=d.slice(4);const S=a.exec(d);if(S){const y=S[1]?15:S[4]?255:S[7]?4095:65535;return[Math.round(parseInt(S[1]||S[4]||S[7]||S[10],16)/y*255),Math.round(parseInt(S[2]||S[5]||S[8]||S[11],16)/y*255),Math.round(parseInt(S[3]||S[6]||S[9]||S[12],16)/y*255)]}}else if(d.indexOf("#")===0&&(d=d.slice(1),u.exec(d)&&[3,6,9,12].includes(d.length))){const S=d.length/3,y=[0,0,0];for(let v=0;v<3;++v){const i=parseInt(d.slice(S*v,S*v+S),16);y[v]=S===1?i<<4:S===2?i:S===3?i>>4:i>>8}return y}},s.toRgbString=function(c,d=16){const[S,y,v]=c;return`rgb:${f(S,d)}/${f(y,d)}/${f(v,d)}`}},5770:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const u=a(482),f=a(8742),c=a(5770),d=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=d,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}registerHandler(y,v){this._handlers[y]===void 0&&(this._handlers[y]=[]);const i=this._handlers[y];return i.push(v),{dispose:()=>{const o=i.indexOf(v);o!==-1&&i.splice(o,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}reset(){if(this._active.length)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].unhook(!1);this._stack.paused=!1,this._active=d,this._ident=0}hook(y,v){if(this.reset(),this._ident=y,this._active=this._handlers[y]||d,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(y,v,i){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(y,v,i);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(y,v,i))}unhook(y,v=!0){if(this._active.length){let i=!1,o=this._active.length-1,n=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,i=v,n=this._stack.fallThrough,this._stack.paused=!1),!n&&i===!1){for(;o>=0&&(i=this._active[o].unhook(y),i!==!0);o--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,i;o--}for(;o>=0;o--)if(i=this._active[o].unhook(!1),i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,i}else this._handlerFb(this._ident,"UNHOOK",y);this._active=d,this._ident=0}};const S=new f.Params;S.addParam(0),s.DcsHandler=class{constructor(y){this._handler=y,this._data="",this._params=S,this._hitLimit=!1}hook(y){this._params=y.length>1||y.params[0]?y.clone():S,this._data="",this._hitLimit=!1}put(y,v,i){this._hitLimit||(this._data+=(0,u.utf32ToString)(y,v,i),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(y){let v=!1;if(this._hitLimit)v=!1;else if(y&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(i=>(this._params=S,this._data="",this._hitLimit=!1,i));return this._params=S,this._data="",this._hitLimit=!1,v}}},2015:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const u=a(844),f=a(8742),c=a(6242),d=a(6351);class S{constructor(o){this.table=new Uint8Array(o)}setDefault(o,n){this.table.fill(o<<4|n)}add(o,n,l,p){this.table[n<<8|o]=l<<4|p}addMany(o,n,l,p){for(let m=0;m<o.length;m++)this.table[n<<8|o[m]]=l<<4|p}}s.TransitionTable=S;const y=160;s.VT500_TRANSITION_TABLE=function(){const i=new S(4095),o=Array.apply(null,Array(256)).map((x,_)=>_),n=(x,_)=>o.slice(x,_),l=n(32,127),p=n(0,24);p.push(25),p.push.apply(p,n(28,32));const m=n(0,14);let w;for(w in i.setDefault(1,0),i.addMany(l,0,2,0),m)i.addMany([24,26,153,154],w,3,0),i.addMany(n(128,144),w,3,0),i.addMany(n(144,152),w,3,0),i.add(156,w,0,0),i.add(27,w,11,1),i.add(157,w,4,8),i.addMany([152,158,159],w,0,7),i.add(155,w,11,3),i.add(144,w,11,9);return i.addMany(p,0,3,0),i.addMany(p,1,3,1),i.add(127,1,0,1),i.addMany(p,8,0,8),i.addMany(p,3,3,3),i.add(127,3,0,3),i.addMany(p,4,3,4),i.add(127,4,0,4),i.addMany(p,6,3,6),i.addMany(p,5,3,5),i.add(127,5,0,5),i.addMany(p,2,3,2),i.add(127,2,0,2),i.add(93,1,4,8),i.addMany(l,8,5,8),i.add(127,8,5,8),i.addMany([156,27,24,26,7],8,6,0),i.addMany(n(28,32),8,0,8),i.addMany([88,94,95],1,0,7),i.addMany(l,7,0,7),i.addMany(p,7,0,7),i.add(156,7,0,0),i.add(127,7,0,7),i.add(91,1,11,3),i.addMany(n(64,127),3,7,0),i.addMany(n(48,60),3,8,4),i.addMany([60,61,62,63],3,9,4),i.addMany(n(48,60),4,8,4),i.addMany(n(64,127),4,7,0),i.addMany([60,61,62,63],4,0,6),i.addMany(n(32,64),6,0,6),i.add(127,6,0,6),i.addMany(n(64,127),6,0,0),i.addMany(n(32,48),3,9,5),i.addMany(n(32,48),5,9,5),i.addMany(n(48,64),5,0,6),i.addMany(n(64,127),5,7,0),i.addMany(n(32,48),4,9,5),i.addMany(n(32,48),1,9,2),i.addMany(n(32,48),2,9,2),i.addMany(n(48,127),2,10,0),i.addMany(n(48,80),1,10,0),i.addMany(n(81,88),1,10,0),i.addMany([89,90,92],1,10,0),i.addMany(n(96,127),1,10,0),i.add(80,1,11,9),i.addMany(p,9,0,9),i.add(127,9,0,9),i.addMany(n(28,32),9,0,9),i.addMany(n(32,48),9,9,12),i.addMany(n(48,60),9,8,10),i.addMany([60,61,62,63],9,9,10),i.addMany(p,11,0,11),i.addMany(n(32,128),11,0,11),i.addMany(n(28,32),11,0,11),i.addMany(p,10,0,10),i.add(127,10,0,10),i.addMany(n(28,32),10,0,10),i.addMany(n(48,60),10,8,10),i.addMany([60,61,62,63],10,0,11),i.addMany(n(32,48),10,9,12),i.addMany(p,12,0,12),i.add(127,12,0,12),i.addMany(n(28,32),12,0,12),i.addMany(n(32,48),12,9,12),i.addMany(n(48,64),12,0,11),i.addMany(n(64,127),12,12,13),i.addMany(n(64,127),10,12,13),i.addMany(n(64,127),9,12,13),i.addMany(p,13,13,13),i.addMany(l,13,13,13),i.add(127,13,0,13),i.addMany([27,156,24,26],13,14,0),i.add(y,0,2,0),i.add(y,8,5,8),i.add(y,6,0,6),i.add(y,11,0,11),i.add(y,13,13,13),i}();class v extends u.Disposable{constructor(o=s.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(n,l,p)=>{},this._executeHandlerFb=n=>{},this._csiHandlerFb=(n,l)=>{},this._escHandlerFb=n=>{},this._errorHandlerFb=n=>n,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new d.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(o,n=[64,126]){let l=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(l=o.prefix.charCodeAt(0),l&&60>l||l>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let m=0;m<o.intermediates.length;++m){const w=o.intermediates.charCodeAt(m);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");l<<=8,l|=w}}if(o.final.length!==1)throw new Error("final must be a single byte");const p=o.final.charCodeAt(0);if(n[0]>p||p>n[1])throw new Error(`final must be in range ${n[0]} .. ${n[1]}`);return l<<=8,l|=p,l}identToString(o){const n=[];for(;o;)n.push(String.fromCharCode(255&o)),o>>=8;return n.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,n){const l=this._identifier(o,[48,126]);this._escHandlers[l]===void 0&&(this._escHandlers[l]=[]);const p=this._escHandlers[l];return p.push(n),{dispose:()=>{const m=p.indexOf(n);m!==-1&&p.splice(m,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,n){this._executeHandlers[o.charCodeAt(0)]=n}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,n){const l=this._identifier(o);this._csiHandlers[l]===void 0&&(this._csiHandlers[l]=[]);const p=this._csiHandlers[l];return p.push(n),{dispose:()=>{const m=p.indexOf(n);m!==-1&&p.splice(m,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,n){return this._dcsParser.registerHandler(this._identifier(o),n)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,n){return this._oscParser.registerHandler(o,n)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,n,l,p,m){this._parseStack.state=o,this._parseStack.handlers=n,this._parseStack.handlerPos=l,this._parseStack.transition=p,this._parseStack.chunkPos=m}parse(o,n,l){let p,m=0,w=0,x=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,x=this._parseStack.chunkPos+1;else{if(l===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const _=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(l===!1&&E>-1){for(;E>=0&&(p=_[E](this._params),p!==!0);E--)if(p instanceof Promise)return this._parseStack.handlerPos=E,p}this._parseStack.handlers=[];break;case 4:if(l===!1&&E>-1){for(;E>=0&&(p=_[E](),p!==!0);E--)if(p instanceof Promise)return this._parseStack.handlerPos=E,p}this._parseStack.handlers=[];break;case 6:if(m=o[this._parseStack.chunkPos],p=this._dcsParser.unhook(m!==24&&m!==26,l),p)return p;m===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(m=o[this._parseStack.chunkPos],p=this._oscParser.end(m!==24&&m!==26,l),p)return p;m===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,x=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let _=x;_<n;++_){switch(m=o[_],w=this._transitions.table[this.currentState<<8|(m<160?m:y)],w>>4){case 2:for(let M=_+1;;++M){if(M>=n||(m=o[M])<32||m>126&&m<y){this._printHandler(o,_,M),_=M-1;break}if(++M>=n||(m=o[M])<32||m>126&&m<y){this._printHandler(o,_,M),_=M-1;break}if(++M>=n||(m=o[M])<32||m>126&&m<y){this._printHandler(o,_,M),_=M-1;break}if(++M>=n||(m=o[M])<32||m>126&&m<y){this._printHandler(o,_,M),_=M-1;break}}break;case 3:this._executeHandlers[m]?this._executeHandlers[m]():this._executeHandlerFb(m),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:m,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|m];let R=E?E.length-1:-1;for(;R>=0&&(p=E[R](this._params),p!==!0);R--)if(p instanceof Promise)return this._preserveStack(3,E,R,w,_),p;R<0&&this._csiHandlerFb(this._collect<<8|m,this._params),this.precedingCodepoint=0;break;case 8:do switch(m){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(m-48)}while(++_<n&&(m=o[_])>47&&m<60);_--;break;case 9:this._collect<<=8,this._collect|=m;break;case 10:const O=this._escHandlers[this._collect<<8|m];let k=O?O.length-1:-1;for(;k>=0&&(p=O[k](),p!==!0);k--)if(p instanceof Promise)return this._preserveStack(4,O,k,w,_),p;k<0&&this._escHandlerFb(this._collect<<8|m),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|m,this._params);break;case 13:for(let M=_+1;;++M)if(M>=n||(m=o[M])===24||m===26||m===27||m>127&&m<y){this._dcsParser.put(o,_,M),_=M-1;break}break;case 14:if(p=this._dcsParser.unhook(m!==24&&m!==26),p)return this._preserveStack(6,[],0,w,_),p;m===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let M=_+1;;M++)if(M>=n||(m=o[M])<32||m>127&&m<y){this._oscParser.put(o,_,M),_=M-1;break}break;case 6:if(p=this._oscParser.end(m!==24&&m!==26),p)return this._preserveStack(5,[],0,w,_),p;m===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}s.EscapeSequenceParser=v},6242:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const u=a(5770),f=a(482),c=[];s.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(d,S){this._handlers[d]===void 0&&(this._handlers[d]=[]);const y=this._handlers[d];return y.push(S),{dispose:()=>{const v=y.indexOf(S);v!==-1&&y.splice(v,1)}}}clearHandler(d){this._handlers[d]&&delete this._handlers[d]}setHandlerFallback(d){this._handlerFb=d}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].start();else this._handlerFb(this._id,"START")}_put(d,S,y){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(d,S,y);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(d,S,y))}start(){this.reset(),this._state=1}put(d,S,y){if(this._state!==3){if(this._state===1)for(;S<y;){const v=d[S++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&y-S>0&&this._put(d,S,y)}}end(d,S=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let y=!1,v=this._active.length-1,i=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,y=S,i=this._stack.fallThrough,this._stack.paused=!1),!i&&y===!1){for(;v>=0&&(y=this._active[v].end(d),y!==!0);v--)if(y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,y;v--}for(;v>=0;v--)if(y=this._active[v].end(!1),y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,y}else this._handlerFb(this._id,"END",d);this._active=c,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(d){this._handler=d,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(d,S,y){this._hitLimit||(this._data+=(0,f.utf32ToString)(d,S,y),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(d){let S=!1;if(this._hitLimit)S=!1;else if(d&&(S=this._handler(this._data),S instanceof Promise))return S.then(y=>(this._data="",this._hitLimit=!1,y));return this._data="",this._hitLimit=!1,S}}},8742:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const a=2147483647;class u{static fromArray(c){const d=new u;if(!c.length)return d;for(let S=Array.isArray(c[0])?1:0;S<c.length;++S){const y=c[S];if(Array.isArray(y))for(let v=0;v<y.length;++v)d.addSubParam(y[v]);else d.addParam(y)}return d}constructor(c=32,d=32){if(this.maxLength=c,this.maxSubParamsLength=d,d>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(d),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const c=new u(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let d=0;d<this.length;++d){c.push(this.params[d]);const S=this._subParamsIdx[d]>>8,y=255&this._subParamsIdx[d];y-S>0&&c.push(Array.prototype.slice.call(this._subParams,S,y))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>a?a:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>a?a:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const d=this._subParamsIdx[c]>>8,S=255&this._subParamsIdx[c];return S-d>0?this._subParams.subarray(d,S):null}getSubParamsAll(){const c={};for(let d=0;d<this.length;++d){const S=this._subParamsIdx[d]>>8,y=255&this._subParamsIdx[d];y-S>0&&(c[d]=this._subParams.slice(S,y))}return c}addDigit(c){let d;if(this._rejectDigits||!(d=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const S=this._digitIsSub?this._subParams:this.params,y=S[d-1];S[d-1]=~y?Math.min(10*y+c,a):c}}s.Params=u},5741:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const f={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(f),u.dispose=()=>this._wrappedAddonDispose(f),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let f=0;f<this._addons.length;f++)if(this._addons[f]===a){u=f;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const u=a(3785),f=a(511);s.BufferApiView=class{constructor(c,d){this._buffer=c,this.type=d}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const d=this._buffer.lines.get(c);if(d)return new u.BufferLineApiView(d)}getNullCell(){return new f.CellData}}},3785:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const u=a(511);s.BufferLineApiView=class{constructor(f){this._line=f}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(f,c){if(!(f<0||f>=this._line.length))return c?(this._line.loadCell(f,c),c):this._line.loadCell(f,new u.CellData)}translateToString(f,c,d){return this._line.translateToString(f,c,d)}}},8285:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const u=a(8771),f=a(8460),c=a(844);class d extends c.Disposable{constructor(y){super(),this._core=y,this._onBufferChange=this.register(new f.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=d},7975:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,f=>u(f.toArray()))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,(f,c)=>u(f,c.toArray()))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(b,s,a){var u=this&&this.__decorate||function(i,o,n,l){var p,m=arguments.length,w=m<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(i,o,n,l);else for(var x=i.length-1;x>=0;x--)(p=i[x])&&(w=(m<3?p(w):m>3?p(o,n,w):p(o,n))||w);return m>3&&w&&Object.defineProperty(o,n,w),w},f=this&&this.__param||function(i,o){return function(n,l){o(n,l,i)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const c=a(8460),d=a(844),S=a(5295),y=a(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let v=s.BufferService=class extends d.Disposable{get buffer(){return this.buffers.active}constructor(i){super(),this.isUserScrolling=!1,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(i.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(i.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new S.BufferSet(i,this))}resize(i,o){this.cols=i,this.rows=o,this.buffers.resize(i,o),this._onResize.fire({cols:i,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(i,o=!1){const n=this.buffer;let l;l=this._cachedBlankLine,l&&l.length===this.cols&&l.getFg(0)===i.fg&&l.getBg(0)===i.bg||(l=n.getBlankLine(i,o),this._cachedBlankLine=l),l.isWrapped=o;const p=n.ybase+n.scrollTop,m=n.ybase+n.scrollBottom;if(n.scrollTop===0){const w=n.lines.isFull;m===n.lines.length-1?w?n.lines.recycle().copyFrom(l):n.lines.push(l.clone()):n.lines.splice(m+1,0,l.clone()),w?this.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this.isUserScrolling||n.ydisp++)}else{const w=m-p+1;n.lines.shiftElements(p+1,w-1,-1),n.lines.set(m,l.clone())}this.isUserScrolling||(n.ydisp=n.ybase),this._onScroll.fire(n.ydisp)}scrollLines(i,o,n){const l=this.buffer;if(i<0){if(l.ydisp===0)return;this.isUserScrolling=!0}else i+l.ydisp>=l.ybase&&(this.isUserScrolling=!1);const p=l.ydisp;l.ydisp=Math.max(Math.min(l.ydisp+i,l.ybase),0),p!==l.ydisp&&(o||this._onScroll.fire(l.ydisp))}};s.BufferService=v=u([f(0,y.IOptionsService)],v)},7994:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(b,s,a){var u=this&&this.__decorate||function(l,p,m,w){var x,_=arguments.length,E=_<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(l,p,m,w);else for(var R=l.length-1;R>=0;R--)(x=l[R])&&(E=(_<3?x(E):_>3?x(p,m,E):x(p,m))||E);return _>3&&E&&Object.defineProperty(p,m,E),E},f=this&&this.__param||function(l,p){return function(m,w){p(m,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const c=a(2585),d=a(8460),S=a(844),y={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:l=>l.button!==4&&l.action===1&&(l.ctrl=!1,l.alt=!1,l.shift=!1,!0)},VT200:{events:19,restrict:l=>l.action!==32},DRAG:{events:23,restrict:l=>l.action!==32||l.button!==3},ANY:{events:31,restrict:l=>!0}};function v(l,p){let m=(l.ctrl?16:0)|(l.shift?4:0)|(l.alt?8:0);return l.button===4?(m|=64,m|=l.action):(m|=3&l.button,4&l.button&&(m|=64),8&l.button&&(m|=128),l.action===32?m|=32:l.action!==0||p||(m|=3)),m}const i=String.fromCharCode,o={DEFAULT:l=>{const p=[v(l,!1)+32,l.col+32,l.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${i(p[0])}${i(p[1])}${i(p[2])}`},SGR:l=>{const p=l.action===0&&l.button!==4?"m":"M";return`\x1B[<${v(l,!0)};${l.col};${l.row}${p}`},SGR_PIXELS:l=>{const p=l.action===0&&l.button!==4?"m":"M";return`\x1B[<${v(l,!0)};${l.x};${l.y}${p}`}};let n=s.CoreMouseService=class extends S.Disposable{constructor(l,p){super(),this._bufferService=l,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new d.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const m of Object.keys(y))this.addProtocol(m,y[m]);for(const m of Object.keys(o))this.addEncoding(m,o[m]);this.reset()}addProtocol(l,p){this._protocols[l]=p}addEncoding(l,p){this._encodings[l]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(l){if(!this._protocols[l])throw new Error(`unknown protocol "${l}"`);this._activeProtocol=l,this._onProtocolChange.fire(this._protocols[l].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(l){if(!this._encodings[l])throw new Error(`unknown encoding "${l}"`);this._activeEncoding=l}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(l){if(l.col<0||l.col>=this._bufferService.cols||l.row<0||l.row>=this._bufferService.rows||l.button===4&&l.action===32||l.button===3&&l.action!==32||l.button!==4&&(l.action===2||l.action===3)||(l.col++,l.row++,l.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,l,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(l))return!1;const p=this._encodings[this._activeEncoding](l);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=l,!0}explainEvents(l){return{down:!!(1&l),up:!!(2&l),drag:!!(4&l),move:!!(8&l),wheel:!!(16&l)}}_equalEvents(l,p,m){if(m){if(l.x!==p.x||l.y!==p.y)return!1}else if(l.col!==p.col||l.row!==p.row)return!1;return l.button===p.button&&l.action===p.action&&l.ctrl===p.ctrl&&l.alt===p.alt&&l.shift===p.shift}};s.CoreMouseService=n=u([f(0,c.IBufferService),f(1,c.ICoreService)],n)},6975:function(b,s,a){var u=this&&this.__decorate||function(n,l,p,m){var w,x=arguments.length,_=x<3?l:m===null?m=Object.getOwnPropertyDescriptor(l,p):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(n,l,p,m);else for(var E=n.length-1;E>=0;E--)(w=n[E])&&(_=(x<3?w(_):x>3?w(l,p,_):w(l,p))||_);return x>3&&_&&Object.defineProperty(l,p,_),_},f=this&&this.__param||function(n,l){return function(p,m){l(p,m,n)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const c=a(1439),d=a(8460),S=a(844),y=a(2585),v=Object.freeze({insertMode:!1}),i=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=s.CoreService=class extends S.Disposable{constructor(n,l,p){super(),this._bufferService=n,this._logService=l,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new d.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new d.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,c.clone)(v),this.decPrivateModes=(0,c.clone)(i)}reset(){this.modes=(0,c.clone)(v),this.decPrivateModes=(0,c.clone)(i)}triggerDataEvent(n,l=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;l&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),l&&this._onUserInput.fire(),this._logService.debug(`sending data "${n}"`,()=>n.split("").map(m=>m.charCodeAt(0))),this._onData.fire(n)}triggerBinaryEvent(n){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${n}"`,()=>n.split("").map(l=>l.charCodeAt(0))),this._onBinary.fire(n))}};s.CoreService=o=u([f(0,y.IBufferService),f(1,y.ILogService),f(2,y.IOptionsService)],o)},9074:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const u=a(8055),f=a(8460),c=a(844),d=a(6106);let S=0,y=0;class v extends c.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new d.SortedList(n=>n?.marker.line),this._onDecorationRegistered=this.register(new f.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new f.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)(()=>this.reset()))}registerDecoration(n){if(n.marker.isDisposed)return;const l=new i(n);if(l){const p=l.marker.onDispose(()=>l.dispose());l.onDispose(()=>{l&&(this._decorations.delete(l)&&this._onDecorationRemoved.fire(l),p.dispose())}),this._decorations.insert(l),this._onDecorationRegistered.fire(l)}return l}reset(){for(const n of this._decorations.values())n.dispose();this._decorations.clear()}*getDecorationsAtCell(n,l,p){var m,w,x;let _=0,E=0;for(const R of this._decorations.getKeyIterator(l))_=(m=R.options.x)!==null&&m!==void 0?m:0,E=_+((w=R.options.width)!==null&&w!==void 0?w:1),n>=_&&n<E&&(!p||((x=R.options.layer)!==null&&x!==void 0?x:"bottom")===p)&&(yield R)}forEachDecorationAtCell(n,l,p,m){this._decorations.forEachByKey(l,w=>{var x,_,E;S=(x=w.options.x)!==null&&x!==void 0?x:0,y=S+((_=w.options.width)!==null&&_!==void 0?_:1),n>=S&&n<y&&(!p||((E=w.options.layer)!==null&&E!==void 0?E:"bottom")===p)&&m(w)})}}s.DecorationService=v;class i extends c.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(n){super(),this.options=n,this.onRenderEmitter=this.register(new f.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=n.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const u=a(2585),f=a(8343);class c{constructor(...S){this._entries=new Map;for(const[y,v]of S)this.set(y,v)}set(S,y){const v=this._entries.get(S);return this._entries.set(S,y),v}forEach(S){for(const[y,v]of this._entries.entries())S(y,v)}has(S){return this._entries.has(S)}get(S){return this._entries.get(S)}}s.ServiceCollection=c,s.InstantiationService=class{constructor(){this._services=new c,this._services.set(u.IInstantiationService,this)}setService(d,S){this._services.set(d,S)}getService(d){return this._services.get(d)}createInstance(d,...S){const y=(0,f.getServiceDependencies)(d).sort((o,n)=>o.index-n.index),v=[];for(const o of y){const n=this._services.get(o.id);if(!n)throw new Error(`[createInstance] ${d.name} depends on UNKNOWN service ${o.id}.`);v.push(n)}const i=y.length>0?y[0].index:S.length;if(S.length!==i)throw new Error(`[createInstance] First service dependency of ${d.name} at position ${i+1} conflicts with ${S.length} static arguments`);return new d(...S,...v)}}},7866:function(b,s,a){var u=this&&this.__decorate||function(i,o,n,l){var p,m=arguments.length,w=m<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(i,o,n,l);else for(var x=i.length-1;x>=0;x--)(p=i[x])&&(w=(m<3?p(w):m>3?p(o,n,w):p(o,n))||w);return m>3&&w&&Object.defineProperty(o,n,w),w},f=this&&this.__param||function(i,o){return function(n,l){o(n,l,i)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const c=a(844),d=a(2585),S={trace:d.LogLevelEnum.TRACE,debug:d.LogLevelEnum.DEBUG,info:d.LogLevelEnum.INFO,warn:d.LogLevelEnum.WARN,error:d.LogLevelEnum.ERROR,off:d.LogLevelEnum.OFF};let y,v=s.LogService=class extends c.Disposable{get logLevel(){return this._logLevel}constructor(i){super(),this._optionsService=i,this._logLevel=d.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),y=this}_updateLogLevel(){this._logLevel=S[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(i){for(let o=0;o<i.length;o++)typeof i[o]=="function"&&(i[o]=i[o]())}_log(i,o,n){this._evalLazyOptionalParams(n),i.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...n)}trace(i,...o){var n,l;this._logLevel<=d.LogLevelEnum.TRACE&&this._log((l=(n=this._optionsService.options.logger)===null||n===void 0?void 0:n.trace.bind(this._optionsService.options.logger))!==null&&l!==void 0?l:console.log,i,o)}debug(i,...o){var n,l;this._logLevel<=d.LogLevelEnum.DEBUG&&this._log((l=(n=this._optionsService.options.logger)===null||n===void 0?void 0:n.debug.bind(this._optionsService.options.logger))!==null&&l!==void 0?l:console.log,i,o)}info(i,...o){var n,l;this._logLevel<=d.LogLevelEnum.INFO&&this._log((l=(n=this._optionsService.options.logger)===null||n===void 0?void 0:n.info.bind(this._optionsService.options.logger))!==null&&l!==void 0?l:console.info,i,o)}warn(i,...o){var n,l;this._logLevel<=d.LogLevelEnum.WARN&&this._log((l=(n=this._optionsService.options.logger)===null||n===void 0?void 0:n.warn.bind(this._optionsService.options.logger))!==null&&l!==void 0?l:console.warn,i,o)}error(i,...o){var n,l;this._logLevel<=d.LogLevelEnum.ERROR&&this._log((l=(n=this._optionsService.options.logger)===null||n===void 0?void 0:n.error.bind(this._optionsService.options.logger))!==null&&l!==void 0?l:console.error,i,o)}};s.LogService=v=u([f(0,d.IOptionsService)],v),s.setTraceLogger=function(i){y=i},s.traceCall=function(i,o,n){if(typeof n.value!="function")throw new Error("not supported");const l=n.value;n.value=function(...p){if(y.logLevel!==d.LogLevelEnum.TRACE)return l.apply(this,p);y.trace(`GlyphRenderer#${l.name}(${p.map(w=>JSON.stringify(w)).join(", ")})`);const m=l.apply(this,p);return y.trace(`GlyphRenderer#${l.name} return`,m),m}}},7302:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const u=a(8460),f=a(844),c=a(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:c.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const d=["normal","bold","100","200","300","400","500","600","700","800","900"];class S extends f.Disposable{constructor(v){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const i=Object.assign({},s.DEFAULT_OPTIONS);for(const o in v)if(o in i)try{const n=v[o];i[o]=this._sanitizeAndValidateOption(o,n)}catch(n){console.error(n)}this.rawOptions=i,this.options=Object.assign({},i),this._setupOptions()}onSpecificOptionChange(v,i){return this.onOptionChange(o=>{o===v&&i(this.rawOptions[v])})}onMultipleOptionChange(v,i){return this.onOptionChange(o=>{v.indexOf(o)!==-1&&i()})}_setupOptions(){const v=o=>{if(!(o in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},i=(o,n)=>{if(!(o in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);n=this._sanitizeAndValidateOption(o,n),this.rawOptions[o]!==n&&(this.rawOptions[o]=n,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const n={get:v.bind(this,o),set:i.bind(this,o)};Object.defineProperty(this.options,o,n)}}_sanitizeAndValidateOption(v,i){switch(v){case"cursorStyle":if(i||(i=s.DEFAULT_OPTIONS[v]),!function(o){return o==="block"||o==="underline"||o==="bar"}(i))throw new Error(`"${i}" is not a valid value for ${v}`);break;case"wordSeparator":i||(i=s.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof i=="number"&&1<=i&&i<=1e3)break;i=d.includes(i)?i:s.DEFAULT_OPTIONS[v];break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error(`${v} cannot be less than 1, value: ${i}`);break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${i}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${i}`);break;case"rows":case"cols":if(!i&&i!==0)throw new Error(`${v} must be numeric, value: ${i}`);break;case"windowsPty":i=i??{}}return i}}s.OptionsService=S},2660:function(b,s,a){var u=this&&this.__decorate||function(S,y,v,i){var o,n=arguments.length,l=n<3?y:i===null?i=Object.getOwnPropertyDescriptor(y,v):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(S,y,v,i);else for(var p=S.length-1;p>=0;p--)(o=S[p])&&(l=(n<3?o(l):n>3?o(y,v,l):o(y,v))||l);return n>3&&l&&Object.defineProperty(y,v,l),l},f=this&&this.__param||function(S,y){return function(v,i){y(v,i,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const c=a(2585);let d=s.OscLinkService=class{constructor(S){this._bufferService=S,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(S){const y=this._bufferService.buffer;if(S.id===void 0){const p=y.addMarker(y.ybase+y.y),m={data:S,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(m,p)),this._dataByLinkId.set(m.id,m),m.id}const v=S,i=this._getEntryIdKey(v),o=this._entriesWithId.get(i);if(o)return this.addLineToLink(o.id,y.ybase+y.y),o.id;const n=y.addMarker(y.ybase+y.y),l={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[n]};return n.onDispose(()=>this._removeMarkerFromLink(l,n)),this._entriesWithId.set(l.key,l),this._dataByLinkId.set(l.id,l),l.id}addLineToLink(S,y){const v=this._dataByLinkId.get(S);if(v&&v.lines.every(i=>i.line!==y)){const i=this._bufferService.buffer.addMarker(y);v.lines.push(i),i.onDispose(()=>this._removeMarkerFromLink(v,i))}}getLinkData(S){var y;return(y=this._dataByLinkId.get(S))===null||y===void 0?void 0:y.data}_getEntryIdKey(S){return`${S.id};;${S.uri}`}_removeMarkerFromLink(S,y){const v=S.lines.indexOf(y);v!==-1&&(S.lines.splice(v,1),S.lines.length===0&&(S.data.id!==void 0&&this._entriesWithId.delete(S.key),this._dataByLinkId.delete(S.id)))}};s.OscLinkService=d=u([f(0,c.IBufferService)],d)},8343:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const a="di$target",u="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(f){return f[u]||[]},s.createDecorator=function(f){if(s.serviceRegistry.has(f))return s.serviceRegistry.get(f);const c=function(d,S,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,i,o){i[a]===i?i[u].push({id:v,index:o}):(i[u]=[{id:v,index:o}],i[a]=i)})(c,d,y)};return c.toString=()=>f,s.serviceRegistry.set(f,c),c}},2585:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const u=a(8343);var f;s.IBufferService=(0,u.createDecorator)("BufferService"),s.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),s.ICoreService=(0,u.createDecorator)("CoreService"),s.ICharsetService=(0,u.createDecorator)("CharsetService"),s.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(c){c[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.OFF=5]="OFF"}(f||(s.LogLevelEnum=f={})),s.ILogService=(0,u.createDecorator)("LogService"),s.IOptionsService=(0,u.createDecorator)("OptionsService"),s.IOscLinkService=(0,u.createDecorator)("OscLinkService"),s.IUnicodeService=(0,u.createDecorator)("UnicodeService"),s.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const u=a(8460),f=a(225);s.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const c=new f.UnicodeV6;this.register(c),this._active=c.version,this._activeProvider=c}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(c){if(!this._providers[c])throw new Error(`unknown Unicode version "${c}"`);this._active=c,this._activeProvider=this._providers[c],this._onChange.fire(c)}register(c){this._providers[c.version]=c}wcwidth(c){return this._activeProvider.wcwidth(c)}getStringCellWidth(c){let d=0;const S=c.length;for(let y=0;y<S;++y){let v=c.charCodeAt(y);if(55296<=v&&v<=56319){if(++y>=S)return d+this.wcwidth(v);const i=c.charCodeAt(y);56320<=i&&i<=57343?v=1024*(v-55296)+i-56320+65536:d+=this.wcwidth(i)}d+=this.wcwidth(v)}return d}}}},h={};function g(b){var s=h[b];if(s!==void 0)return s.exports;var a=h[b]={exports:{}};return r[b].call(a.exports,a,a.exports,g),a.exports}var C={};return(()=>{var b=C;Object.defineProperty(b,"__esModule",{value:!0}),b.Terminal=void 0;const s=g(9042),a=g(3236),u=g(844),f=g(5741),c=g(8285),d=g(7975),S=g(7090),y=["cols","rows"];class v extends u.Disposable{constructor(o){super(),this._core=this.register(new a.Terminal(o)),this._addonManager=this.register(new f.AddonManager),this._publicOptions=Object.assign({},this._core.options);const n=p=>this._core.options[p],l=(p,m)=>{this._checkReadonlyOptions(p),this._core.options[p]=m};for(const p in this._core.options){const m={get:n.bind(this,p),set:l.bind(this,p)};Object.defineProperty(this._publicOptions,p,m)}}_checkReadonlyOptions(o){if(y.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new d.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new S.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new c.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let n="none";switch(this._core.coreMouseService.activeProtocol){case"X10":n="x10";break;case"VT200":n="vt200";break;case"DRAG":n="drag";break;case"ANY":n="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:n,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const n in o)this._publicOptions[n]=o[n]}blur(){this._core.blur()}focus(){this._core.focus()}resize(o,n){this._verifyIntegers(o,n),this._core.resize(o,n)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){var n,l,p;return this._checkProposedApi(),this._verifyPositiveIntegers((n=o.x)!==null&&n!==void 0?n:0,(l=o.width)!==null&&l!==void 0?l:0,(p=o.height)!==null&&p!==void 0?p:0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,n,l){this._verifyIntegers(o,n,l),this._core.select(o,n,l)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,n){this._verifyIntegers(o,n),this._core.selectLines(o,n)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,n){this._core.write(o,n)}writeln(o,n){this._core.write(o),this._core.write(`\r
`,n)}paste(o){this._core.paste(o)}refresh(o,n){this._verifyIntegers(o,n),this._core.refresh(o,n)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return s}_verifyIntegers(...o){for(const n of o)if(n===1/0||isNaN(n)||n%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const n of o)if(n&&(n===1/0||isNaN(n)||n%1!=0||n<0))throw new Error("This API only accepts positive integers")}}b.Terminal=v})(),C})())}(Pi)),Pi.exports}var hd=cd(),Fi={exports:{}},fn;function ud(){return fn||(fn=1,function(e,t){(function(r,h){e.exports=h()})(self,()=>(()=>{var r={};return(()=>{var h=r;Object.defineProperty(h,"__esModule",{value:!0}),h.FitAddon=void 0,h.FitAddon=class{activate(g){this._terminal=g}dispose(){}fit(){const g=this.proposeDimensions();if(!g||!this._terminal||isNaN(g.cols)||isNaN(g.rows))return;const C=this._terminal._core;this._terminal.rows===g.rows&&this._terminal.cols===g.cols||(C._renderService.clear(),this._terminal.resize(g.cols,g.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const g=this._terminal._core,C=g._renderService.dimensions;if(C.css.cell.width===0||C.css.cell.height===0)return;const b=this._terminal.options.scrollback===0?0:g.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(s.getPropertyValue("height")),u=Math.max(0,parseInt(s.getPropertyValue("width"))),f=window.getComputedStyle(this._terminal.element),c=a-(parseInt(f.getPropertyValue("padding-top"))+parseInt(f.getPropertyValue("padding-bottom"))),d=u-(parseInt(f.getPropertyValue("padding-right"))+parseInt(f.getPropertyValue("padding-left")))-b;return{cols:Math.max(2,Math.floor(d/C.css.cell.width)),rows:Math.max(1,Math.floor(c/C.css.cell.height))}}}})(),r})())}(Fi)),Fi.exports}var dd=ud(),Hi={exports:{}},_n;function fd(){return _n||(_n=1,function(e,t){(function(r,h){e.exports=h()})(self,()=>(()=>{var r={6:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkComputer=s.WebLinkProvider=void 0,s.WebLinkProvider=class{constructor(u,f,c,d={}){this._terminal=u,this._regex=f,this._handler=c,this._options=d}provideLinks(u,f){const c=a.computeLink(u,this._regex,this._terminal,this._handler);f(this._addCallbacks(c))}_addCallbacks(u){return u.map(f=>(f.leave=this._options.leave,f.hover=(c,d)=>{if(this._options.hover){const{range:S}=f;this._options.hover(c,d,S)}},f))}};class a{static computeLink(f,c,d,S){const y=new RegExp(c.source,(c.flags||"")+"g"),[v,i]=a._getWindowedLineStrings(f-1,d),o=v.join("");let n;const l=[];for(;n=y.exec(o);){const p=n[0];try{const R=new URL(p),O=decodeURI(R.toString());if(p!==O&&p+"/"!==O)continue}catch{continue}const[m,w]=a._mapStrIdx(d,i,0,n.index),[x,_]=a._mapStrIdx(d,m,w,p.length);if(m===-1||w===-1||x===-1||_===-1)continue;const E={start:{x:w+1,y:m+1},end:{x:_,y:x+1}};l.push({range:E,text:p,activate:S})}return l}static _getWindowedLineStrings(f,c){let d,S=f,y=f,v=0,i="";const o=[];if(d=c.buffer.active.getLine(f)){const n=d.translateToString(!0);if(d.isWrapped&&n[0]!==" "){for(v=0;(d=c.buffer.active.getLine(--S))&&v<2048&&(i=d.translateToString(!0),v+=i.length,o.push(i),d.isWrapped&&i.indexOf(" ")===-1););o.reverse()}for(o.push(n),v=0;(d=c.buffer.active.getLine(++y))&&d.isWrapped&&v<2048&&(i=d.translateToString(!0),v+=i.length,o.push(i),i.indexOf(" ")===-1););}return[o,S]}static _mapStrIdx(f,c,d,S){const y=f.buffer.active,v=y.getNullCell();let i=d;for(;S;){const o=y.getLine(c);if(!o)return[-1,-1];for(let n=i;n<o.length;++n){o.getCell(n,v);const l=v.getChars();if(v.getWidth()&&(S-=l.length||1,n===o.length-1&&l==="")){const p=y.getLine(c+1);p&&p.isWrapped&&(p.getCell(0,v),v.getWidth()===2&&(S+=1))}if(S<0)return[c,n]}c++,i=0}return[c,i]}}s.LinkComputer=a}},h={};function g(b){var s=h[b];if(s!==void 0)return s.exports;var a=h[b]={exports:{}};return r[b](a,a.exports,g),a.exports}var C={};return(()=>{var b=C;Object.defineProperty(b,"__esModule",{value:!0}),b.WebLinksAddon=void 0;const s=g(6),a=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function u(f,c){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}b.WebLinksAddon=class{constructor(f=u,c={}){this._handler=f,this._options=c}activate(f){this._terminal=f;const c=this._options,d=c.urlRegex||a;this._linkProvider=this._terminal.registerLinkProvider(new s.WebLinkProvider(this._terminal,d,this._handler,c))}dispose(){var f;(f=this._linkProvider)===null||f===void 0||f.dispose()}}})(),C})())}(Hi)),Hi.exports}var _d=fd(),$i={exports:{}},pn;function pd(){return pn||(pn=1,function(e,t){(function(r,h){e.exports=h()})(self,()=>(()=>{var r={345:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const f=[];for(let c=0;c<this._listeners.length;c++)f.push(this._listeners[c]);for(let c=0;c<f.length;c++)f[c].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,u){return a(f=>u.fire(f))}},859:(b,s)=>{function a(u){for(const f of u)f.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const f=this._disposables.indexOf(u);f!==-1&&this._disposables.splice(f,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var f;this._isDisposed||u===this._value||((f=this._value)===null||f===void 0||f.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}}},h={};function g(b){var s=h[b];if(s!==void 0)return s.exports;var a=h[b]={exports:{}};return r[b](a,a.exports,g),a.exports}var C={};return(()=>{var b=C;Object.defineProperty(b,"__esModule",{value:!0}),b.SearchAddon=void 0;const s=g(345),a=g(859),u=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class f extends a.Disposable{constructor(d){var S;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new a.MutableDisposable),this._linesCacheTimeoutId=0,this._onDidChangeResults=this.register(new s.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(S=d?.highlightLimit)!==null&&S!==void 0?S:1e3}activate(d){this._terminal=d,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,a.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var d;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&(!((d=this._lastSearchOptions)===null||d===void 0)&&d.decorations)&&(this._highlightTimeout=setTimeout(()=>{const S=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(S,Object.assign(Object.assign({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(d){this._selectedDecoration.clear(),(0,a.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),d||(this._cachedSearchTerm=void 0)}findNext(d,S){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");this._lastSearchOptions=S,S?.decorations&&(this._cachedSearchTerm!==void 0&&d===this._cachedSearchTerm||this._highlightAllMatches(d,S));const y=this._findNextAndSelect(d,S);return this._fireResults(S),this._cachedSearchTerm=d,y}_highlightAllMatches(d,S){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!d||d.length===0)return void this.clearDecorations();S=S||{},this.clearDecorations(!0);const y=[];let v,i=this._find(d,0,0,S);for(;i&&(v?.row!==i.row||v?.col!==i.col)&&!(y.length>=this._highlightLimit);)v=i,y.push(v),i=this._find(d,v.col+v.term.length>=this._terminal.cols?v.row+1:v.row,v.col+v.term.length>=this._terminal.cols?0:v.col+1,S);for(const o of y){const n=this._createResultDecoration(o,S.decorations);n&&(this._highlightedLines.add(n.marker.line),this._highlightDecorations.push({decoration:n,match:o,dispose(){n.dispose()}}))}}_find(d,S,y,v){var i;if(!this._terminal||!d||d.length===0)return(i=this._terminal)===null||i===void 0||i.clearSelection(),void this.clearDecorations();if(y>this._terminal.cols)throw new Error(`Invalid col: ${y} to search in terminal of ${this._terminal.cols} cols`);let o;this._initLinesCache();const n={startRow:S,startCol:y};if(o=this._findInLine(d,n,v),!o)for(let l=S+1;l<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=l,n.startCol=0,o=this._findInLine(d,n,v),!o);l++);return o}_findNextAndSelect(d,S){var y;if(!this._terminal||!d||d.length===0)return(y=this._terminal)===null||y===void 0||y.clearSelection(),this.clearDecorations(),!1;const v=this._terminal.getSelectionPosition();this._terminal.clearSelection();let i=0,o=0;v&&(this._cachedSearchTerm===d?(i=v.end.x,o=v.end.y):(i=v.start.x,o=v.start.y)),this._initLinesCache();const n={startRow:o,startCol:i};let l=this._findInLine(d,n,S);if(!l)for(let p=o+1;p<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=p,n.startCol=0,l=this._findInLine(d,n,S),!l);p++);if(!l&&o!==0)for(let p=0;p<o&&(n.startRow=p,n.startCol=0,l=this._findInLine(d,n,S),!l);p++);return!l&&v&&(n.startRow=v.start.y,n.startCol=0,l=this._findInLine(d,n,S)),this._selectResult(l,S?.decorations,S?.noScroll)}findPrevious(d,S){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");this._lastSearchOptions=S,S?.decorations&&(this._cachedSearchTerm!==void 0&&d===this._cachedSearchTerm||this._highlightAllMatches(d,S));const y=this._findPreviousAndSelect(d,S);return this._fireResults(S),this._cachedSearchTerm=d,y}_fireResults(d){if(d?.decorations){let S=-1;if(this._selectedDecoration.value){const y=this._selectedDecoration.value.match;for(let v=0;v<this._highlightDecorations.length;v++){const i=this._highlightDecorations[v].match;if(i.row===y.row&&i.col===y.col&&i.size===y.size){S=v;break}}}this._onDidChangeResults.fire({resultIndex:S,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(d,S){var y;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!d||d.length===0)return(y=this._terminal)===null||y===void 0||y.clearSelection(),this.clearDecorations(),!1;const v=this._terminal.getSelectionPosition();this._terminal.clearSelection();let i=this._terminal.buffer.active.baseY+this._terminal.rows-1,o=this._terminal.cols;const n=!0;this._initLinesCache();const l={startRow:i,startCol:o};let p;if(v&&(l.startRow=i=v.start.y,l.startCol=o=v.start.x,this._cachedSearchTerm!==d&&(p=this._findInLine(d,l,S,!1),p||(l.startRow=i=v.end.y,l.startCol=o=v.end.x))),p||(p=this._findInLine(d,l,S,n)),!p){l.startCol=Math.max(l.startCol,this._terminal.cols);for(let m=i-1;m>=0&&(l.startRow=m,p=this._findInLine(d,l,S,n),!p);m--);}if(!p&&i!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let m=this._terminal.buffer.active.baseY+this._terminal.rows-1;m>=i&&(l.startRow=m,p=this._findInLine(d,l,S,n),!p);m--);return this._selectResult(p,S?.decorations,S?.noScroll)}_initLinesCache(){const d=this._terminal;this._linesCache||(this._linesCache=new Array(d.buffer.active.length),this._cursorMoveListener=d.onCursorMove(()=>this._destroyLinesCache()),this._resizeListener=d.onResize(()=>this._destroyLinesCache())),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(d,S,y){return(d===0||u.includes(S[d-1]))&&(d+y.length===S.length||u.includes(S[d+y.length]))}_findInLine(d,S,y={},v=!1){var i;const o=this._terminal,n=S.startRow,l=S.startCol,p=o.buffer.active.getLine(n);if(p?.isWrapped)return v?void(S.startCol+=o.cols):(S.startRow--,S.startCol+=o.cols,this._findInLine(d,S,y));let m=(i=this._linesCache)===null||i===void 0?void 0:i[n];m||(m=this._translateBufferLineToStringWithWrap(n,!0),this._linesCache&&(this._linesCache[n]=m));const[w,x]=m,_=this._bufferColsToStringOffset(n,l),E=y.caseSensitive?d:d.toLowerCase(),R=y.caseSensitive?w:w.toLowerCase();let O=-1;if(y.regex){const k=RegExp(E,"g");let M;if(v)for(;M=k.exec(R.slice(0,_));)O=k.lastIndex-M[0].length,d=M[0],k.lastIndex-=d.length-1;else M=k.exec(R.slice(_)),M&&M[0].length>0&&(O=_+(k.lastIndex-M[0].length),d=M[0])}else v?_-E.length>=0&&(O=R.lastIndexOf(E,_-E.length)):O=R.indexOf(E,_);if(O>=0){if(y.wholeWord&&!this._isWholeWord(O,R,d))return;let k=0;for(;k<x.length-1&&O>=x[k+1];)k++;let M=k;for(;M<x.length-1&&O+d.length>=x[M+1];)M++;const F=O-x[k],$=O+d.length-x[M],W=this._stringLengthToBufferSize(n+k,F);return{term:d,col:W,row:n+k,size:this._stringLengthToBufferSize(n+M,$)-W+o.cols*(M-k)}}}_stringLengthToBufferSize(d,S){const y=this._terminal.buffer.active.getLine(d);if(!y)return 0;for(let v=0;v<S;v++){const i=y.getCell(v);if(!i)break;const o=i.getChars();o.length>1&&(S-=o.length-1);const n=y.getCell(v+1);n&&n.getWidth()===0&&S++}return S}_bufferColsToStringOffset(d,S){const y=this._terminal;let v=d,i=0,o=y.buffer.active.getLine(v);for(;S>0&&o;){for(let n=0;n<S&&n<y.cols;n++){const l=o.getCell(n);if(!l)break;l.getWidth()&&(i+=l.getCode()===0?1:l.getChars().length)}if(v++,o=y.buffer.active.getLine(v),o&&!o.isWrapped)break;S-=y.cols}return i}_translateBufferLineToStringWithWrap(d,S){var y;const v=this._terminal,i=[],o=[0];let n=v.buffer.active.getLine(d);for(;n;){const l=v.buffer.active.getLine(d+1),p=!!l&&l.isWrapped;let m=n.translateToString(!p&&S);if(p&&l){const w=n.getCell(n.length-1);w&&w.getCode()===0&&w.getWidth()===1&&((y=l.getCell(0))===null||y===void 0?void 0:y.getWidth())===2&&(m=m.slice(0,-1))}if(i.push(m),!p)break;o.push(o[o.length-1]+m.length),d++,n=l}return[i.join(""),o]}_selectResult(d,S,y){const v=this._terminal;if(this._selectedDecoration.clear(),!d)return v.clearSelection(),!1;if(v.select(d.col,d.row,d.size),S){const i=v.registerMarker(-v.buffer.active.baseY-v.buffer.active.cursorY+d.row);if(i){const o=v.registerDecoration({marker:i,x:d.col,width:d.size,backgroundColor:S.activeMatchBackground,layer:"top",overviewRulerOptions:{color:S.activeMatchColorOverviewRuler}});if(o){const n=[];n.push(i),n.push(o.onRender(l=>this._applyStyles(l,S.activeMatchBorder,!0))),n.push(o.onDispose(()=>(0,a.disposeArray)(n))),this._selectedDecoration.value={decoration:o,match:d,dispose(){o.dispose()}}}}}if(!y&&(d.row>=v.buffer.active.viewportY+v.rows||d.row<v.buffer.active.viewportY)){let i=d.row-v.buffer.active.viewportY;i-=Math.floor(v.rows/2),v.scrollLines(i)}return!0}_applyStyles(d,S,y){d.classList.contains("xterm-find-result-decoration")||(d.classList.add("xterm-find-result-decoration"),S&&(d.style.outline=`1px solid ${S}`)),y&&d.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(d,S){const y=this._terminal,v=y.registerMarker(-y.buffer.active.baseY-y.buffer.active.cursorY+d.row);if(!v)return;const i=y.registerDecoration({marker:v,x:d.col,width:d.size,backgroundColor:S.matchBackground,overviewRulerOptions:this._highlightedLines.has(v.line)?void 0:{color:S.matchOverviewRuler,position:"center"}});if(i){const o=[];o.push(v),o.push(i.onRender(n=>this._applyStyles(n,S.matchBorder,!1))),o.push(i.onDispose(()=>(0,a.disposeArray)(o)))}return i}}b.SearchAddon=f})(),C})())}($i)),$i.exports}var gd=pd(),js={exports:{}},vd=js.exports,gn;function md(){return gn||(gn=1,function(e,t){(function(r,h){e.exports=h()})(vd,()=>(()=>{var r={930:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const u=a(485);s.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(f,c,d){this._css.set(f,c,d)}getCss(f,c){return this._css.get(f,c)}setColor(f,c,d){this._color.set(f,c,d)}getColor(f,c){return this._color.get(f,c)}clear(){this._color.clear(),this._css.clear()}}},997:function(b,s,a){var u=this&&this.__decorate||function(x,_,E,R){var O,k=arguments.length,M=k<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(x,_,E,R);else for(var F=x.length-1;F>=0;F--)(O=x[F])&&(M=(k<3?O(M):k>3?O(_,E,M):O(_,E))||M);return k>3&&M&&Object.defineProperty(_,E,M),M},f=this&&this.__param||function(x,_){return function(E,R){_(E,R,x)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const c=a(930),d=a(160),S=a(345),y=a(859),v=a(97),i=d.css.toColor("#ffffff"),o=d.css.toColor("#000000"),n=d.css.toColor("#ffffff"),l=d.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[d.css.toColor("#2e3436"),d.css.toColor("#cc0000"),d.css.toColor("#4e9a06"),d.css.toColor("#c4a000"),d.css.toColor("#3465a4"),d.css.toColor("#75507b"),d.css.toColor("#06989a"),d.css.toColor("#d3d7cf"),d.css.toColor("#555753"),d.css.toColor("#ef2929"),d.css.toColor("#8ae234"),d.css.toColor("#fce94f"),d.css.toColor("#729fcf"),d.css.toColor("#ad7fa8"),d.css.toColor("#34e2e2"),d.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let E=0;E<216;E++){const R=_[E/36%6|0],O=_[E/6%6|0],k=_[E%6];x.push({css:d.channels.toCss(R,O,k),rgba:d.channels.toRgba(R,O,k)})}for(let E=0;E<24;E++){const R=8+10*E;x.push({css:d.channels.toCss(R,R,R),rgba:d.channels.toRgba(R,R,R)})}return x})());let m=s.ThemeService=class extends y.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new c.ColorContrastCache,this._halfContrastCache=new c.ColorContrastCache,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:i,background:o,cursor:n,cursorAccent:l,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:d.color.blend(o,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:d.color.blend(o,p),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(x={}){const _=this._colors;if(_.foreground=w(x.foreground,i),_.background=w(x.background,o),_.cursor=w(x.cursor,n),_.cursorAccent=w(x.cursorAccent,l),_.selectionBackgroundTransparent=w(x.selectionBackground,p),_.selectionBackgroundOpaque=d.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=w(x.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=d.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=x.selectionForeground?w(x.selectionForeground,d.NULL_COLOR):void 0,_.selectionForeground===d.NULL_COLOR&&(_.selectionForeground=void 0),d.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=d.color.opacity(_.selectionBackgroundTransparent,.3)),d.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=d.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=s.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=w(x.black,s.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=w(x.red,s.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=w(x.green,s.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=w(x.yellow,s.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=w(x.blue,s.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=w(x.magenta,s.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=w(x.cyan,s.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=w(x.white,s.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=w(x.brightBlack,s.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=w(x.brightRed,s.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=w(x.brightGreen,s.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=w(x.brightYellow,s.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=w(x.brightBlue,s.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=w(x.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=w(x.brightCyan,s.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=w(x.brightWhite,s.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const E=Math.min(_.ansi.length-16,x.extendedAnsi.length);for(let R=0;R<E;R++)_.ansi[R+16]=w(x.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(x,_){if(x!==void 0)try{return d.css.toColor(x)}catch{}return _}s.ThemeService=m=u([f(0,v.IOptionsService)],m)},160:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const u=a(399);let f=0,c=0,d=0,S=0;var y,v,i,o,n;function l(m){const w=m.toString(16);return w.length<2?"0"+w:w}function p(m,w){return m<w?(w+.05)/(m+.05):(m+.05)/(w+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(m){m.toCss=function(w,x,_,E){return E!==void 0?`#${l(w)}${l(x)}${l(_)}${l(E)}`:`#${l(w)}${l(x)}${l(_)}`},m.toRgba=function(w,x,_,E=255){return(w<<24|x<<16|_<<8|E)>>>0}}(y||(s.channels=y={})),function(m){function w(x,_){return S=Math.round(255*_),[f,c,d]=n.toChannels(x.rgba),{css:y.toCss(f,c,d,S),rgba:y.toRgba(f,c,d,S)}}m.blend=function(x,_){if(S=(255&_.rgba)/255,S===1)return{css:_.css,rgba:_.rgba};const E=_.rgba>>24&255,R=_.rgba>>16&255,O=_.rgba>>8&255,k=x.rgba>>24&255,M=x.rgba>>16&255,F=x.rgba>>8&255;return f=k+Math.round((E-k)*S),c=M+Math.round((R-M)*S),d=F+Math.round((O-F)*S),{css:y.toCss(f,c,d),rgba:y.toRgba(f,c,d)}},m.isOpaque=function(x){return(255&x.rgba)==255},m.ensureContrastRatio=function(x,_,E){const R=n.ensureContrastRatio(x.rgba,_.rgba,E);if(R)return n.toColor(R>>24&255,R>>16&255,R>>8&255)},m.opaque=function(x){const _=(255|x.rgba)>>>0;return[f,c,d]=n.toChannels(_),{css:y.toCss(f,c,d),rgba:_}},m.opacity=w,m.multiplyOpacity=function(x,_){return S=255&x.rgba,w(x,S*_/255)},m.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(v||(s.color=v={})),function(m){let w,x;if(!u.isNode){const _=document.createElement("canvas");_.width=1,_.height=1;const E=_.getContext("2d",{willReadFrequently:!0});E&&(w=E,w.globalCompositeOperation="copy",x=w.createLinearGradient(0,0,1,1))}m.toColor=function(_){if(_.match(/#[\da-f]{3,8}/i))switch(_.length){case 4:return f=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),n.toColor(f,c,d);case 5:return f=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),S=parseInt(_.slice(4,5).repeat(2),16),n.toColor(f,c,d,S);case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}const E=_.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return f=parseInt(E[1]),c=parseInt(E[2]),d=parseInt(E[3]),S=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),n.toColor(f,c,d,S);if(!w||!x)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=x,w.fillStyle=_,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[f,c,d,S]=w.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:y.toRgba(f,c,d,S),css:_}}}(i||(s.css=i={})),function(m){function w(x,_,E){const R=x/255,O=_/255,k=E/255;return .2126*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}m.relativeLuminance=function(x){return w(x>>16&255,x>>8&255,255&x)},m.relativeLuminance2=w}(o||(s.rgb=o={})),function(m){function w(_,E,R){const O=_>>24&255,k=_>>16&255,M=_>>8&255;let F=E>>24&255,$=E>>16&255,W=E>>8&255,U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));for(;U<R&&(F>0||$>0||W>0);)F-=Math.max(0,Math.ceil(.1*F)),$-=Math.max(0,Math.ceil(.1*$)),W-=Math.max(0,Math.ceil(.1*W)),U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));return(F<<24|$<<16|W<<8|255)>>>0}function x(_,E,R){const O=_>>24&255,k=_>>16&255,M=_>>8&255;let F=E>>24&255,$=E>>16&255,W=E>>8&255,U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));for(;U<R&&(F<255||$<255||W<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),$=Math.min(255,$+Math.ceil(.1*(255-$))),W=Math.min(255,W+Math.ceil(.1*(255-W))),U=p(o.relativeLuminance2(F,$,W),o.relativeLuminance2(O,k,M));return(F<<24|$<<16|W<<8|255)>>>0}m.ensureContrastRatio=function(_,E,R){const O=o.relativeLuminance(_>>8),k=o.relativeLuminance(E>>8);if(p(O,k)<R){if(k<O){const $=w(_,E,R),W=p(O,o.relativeLuminance($>>8));if(W<R){const U=x(_,E,R);return W>p(O,o.relativeLuminance(U>>8))?$:U}return $}const M=x(_,E,R),F=p(O,o.relativeLuminance(M>>8));if(F<R){const $=w(_,E,R);return F>p(O,o.relativeLuminance($>>8))?M:$}return M}},m.reduceLuminance=w,m.increaseLuminance=x,m.toChannels=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},m.toColor=function(_,E,R,O){return{css:y.toCss(_,E,R,O),rgba:y.toRgba(_,E,R,O)}}}(n||(s.rgba=n={})),s.toPaddedHex=l,s.contrastRatio=p},345:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const f=[];for(let c=0;c<this._listeners.length;c++)f.push(this._listeners[c]);for(let c=0;c<f.length;c++)f[c].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,u){return a(f=>u.fire(f))}},859:(b,s)=>{function a(u){for(const f of u)f.dispose();u.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const f=this._disposables.indexOf(u);f!==-1&&this._disposables.splice(f,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var f;this._isDisposed||u===this._value||((f=this._value)===null||f===void 0||f.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},s.toDisposable=function(u){return{dispose:u}},s.disposeArray=a,s.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},485:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(f,c,d){this._data[f]||(this._data[f]={}),this._data[f][c]=d}get(f,c){return this._data[f]?this._data[f][c]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(u,f,c,d,S){this._data.get(u,f)||this._data.set(u,f,new a),this._data.get(u,f).set(c,d,S)}get(u,f,c,d){var S;return(S=this._data.get(u,f))===null||S===void 0?void 0:S.get(c,d)}clear(){this._data.clear()}}},399:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const a=s.isNode?"node":navigator.userAgent,u=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const f=a.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),s.isIpad=u==="iPad",s.isIphone=u==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),s.isLinux=u.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},726:(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const a="di$target",u="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(f){return f[u]||[]},s.createDecorator=function(f){if(s.serviceRegistry.has(f))return s.serviceRegistry.get(f);const c=function(d,S,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,i,o){i[a]===i?i[u].push({id:v,index:o}):(i[u]=[{id:v,index:o}],i[a]=i)})(c,d,y)};return c.toString=()=>f,s.serviceRegistry.set(f,c),c}},97:(b,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const u=a(726);var f;s.IBufferService=(0,u.createDecorator)("BufferService"),s.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),s.ICoreService=(0,u.createDecorator)("CoreService"),s.ICharsetService=(0,u.createDecorator)("CharsetService"),s.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(c){c[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.OFF=5]="OFF"}(f||(s.LogLevelEnum=f={})),s.ILogService=(0,u.createDecorator)("LogService"),s.IOptionsService=(0,u.createDecorator)("OptionsService"),s.IOscLinkService=(0,u.createDecorator)("OscLinkService"),s.IUnicodeService=(0,u.createDecorator)("UnicodeService"),s.IDecorationService=(0,u.createDecorator)("DecorationService")}},h={};function g(b){var s=h[b];if(s!==void 0)return s.exports;var a=h[b]={exports:{}};return r[b].call(a.exports,a,a.exports,g),a.exports}var C={};return(()=>{var b=C;Object.defineProperty(b,"__esModule",{value:!0}),b.HTMLSerializeHandler=b.SerializeAddon=void 0;const s=g(997);function a(v,i,o){return Math.max(i,Math.min(v,o))}class u{constructor(i){this._buffer=i}serialize(i){const o=this._buffer.getNullCell(),n=this._buffer.getNullCell();let l=o;const p=i.start.x,m=i.end.x,w=i.start.y,x=i.end.y;this._beforeSerialize(m-p,p,m);for(let _=p;_<=m;_++){const E=this._buffer.getLine(_);if(E){const R=_!==i.start.x?0:w,O=_!==i.end.x?E.length:x;for(let k=R;k<O;k++){const M=E.getCell(k,l===o?n:o);M?(this._nextCell(M,l,_,k),l=M):console.warn(`Can't get cell at row=${_}, col=${k}`)}}this._rowEnd(_,_===m)}return this._afterSerialize(),this._serializeString()}_nextCell(i,o,n,l){}_rowEnd(i,o){}_beforeSerialize(i,o,n){}_afterSerialize(){}_serializeString(){return""}}function f(v,i){return v.getFgColorMode()===i.getFgColorMode()&&v.getFgColor()===i.getFgColor()}function c(v,i){return v.getBgColorMode()===i.getBgColorMode()&&v.getBgColor()===i.getBgColor()}function d(v,i){return v.isInverse()===i.isInverse()&&v.isBold()===i.isBold()&&v.isUnderline()===i.isUnderline()&&v.isOverline()===i.isOverline()&&v.isBlink()===i.isBlink()&&v.isInvisible()===i.isInvisible()&&v.isItalic()===i.isItalic()&&v.isDim()===i.isDim()&&v.isStrikethrough()===i.isStrikethrough()}class S extends u{constructor(i,o){super(i),this._terminal=o,this._rowIndex=0,this._allRows=new Array,this._allRowSeparators=new Array,this._currentRow="",this._nullCellCount=0,this._cursorStyle=this._buffer.getNullCell(),this._cursorStyleRow=0,this._cursorStyleCol=0,this._backgroundCell=this._buffer.getNullCell(),this._firstRow=0,this._lastCursorRow=0,this._lastCursorCol=0,this._lastContentCursorRow=0,this._lastContentCursorCol=0,this._thisRowLastChar=this._buffer.getNullCell(),this._thisRowLastSecondChar=this._buffer.getNullCell(),this._nextRowFirstChar=this._buffer.getNullCell()}_beforeSerialize(i,o,n){this._allRows=new Array(i),this._lastContentCursorRow=o,this._lastCursorRow=o,this._firstRow=o}_rowEnd(i,o){var n;this._nullCellCount>0&&!c(this._cursorStyle,this._backgroundCell)&&(this._currentRow+=`\x1B[${this._nullCellCount}X`);let l="";if(!o){i-this._firstRow>=this._terminal.rows&&((n=this._buffer.getLine(this._cursorStyleRow))===null||n===void 0||n.getCell(this._cursorStyleCol,this._backgroundCell));const p=this._buffer.getLine(i),m=this._buffer.getLine(i+1);if(m.isWrapped){l="";const w=p.getCell(p.length-1,this._thisRowLastChar),x=p.getCell(p.length-2,this._thisRowLastSecondChar),_=m.getCell(0,this._nextRowFirstChar),E=_.getWidth()>1;let R=!1;(_.getChars()&&E?this._nullCellCount<=1:this._nullCellCount<=0)&&((w.getChars()||w.getWidth()===0)&&c(w,_)&&(R=!0),E&&(x.getChars()||x.getWidth()===0)&&c(w,_)&&c(x,_)&&(R=!0)),R||(l="-".repeat(this._nullCellCount+1),l+="\x1B[1D\x1B[1X",this._nullCellCount>0&&(l+="\x1B[A",l+=`\x1B[${p.length-this._nullCellCount}C`,l+=`\x1B[${this._nullCellCount}X`,l+=`\x1B[${p.length-this._nullCellCount}D`,l+="\x1B[B"),this._lastContentCursorRow=i+1,this._lastContentCursorCol=0,this._lastCursorRow=i+1,this._lastCursorCol=0)}else l=`\r
`,this._lastCursorRow=i+1,this._lastCursorCol=0}this._allRows[this._rowIndex]=this._currentRow,this._allRowSeparators[this._rowIndex++]=l,this._currentRow="",this._nullCellCount=0}_diffStyle(i,o){const n=[],l=!f(i,o),p=!c(i,o),m=!d(i,o);if(l||p||m)if(i.isAttributeDefault())o.isAttributeDefault()||n.push(0);else{if(l){const w=i.getFgColor();i.isFgRGB()?n.push(38,2,w>>>16&255,w>>>8&255,255&w):i.isFgPalette()?w>=16?n.push(38,5,w):n.push(8&w?90+(7&w):30+(7&w)):n.push(39)}if(p){const w=i.getBgColor();i.isBgRGB()?n.push(48,2,w>>>16&255,w>>>8&255,255&w):i.isBgPalette()?w>=16?n.push(48,5,w):n.push(8&w?100+(7&w):40+(7&w)):n.push(49)}m&&(i.isInverse()!==o.isInverse()&&n.push(i.isInverse()?7:27),i.isBold()!==o.isBold()&&n.push(i.isBold()?1:22),i.isUnderline()!==o.isUnderline()&&n.push(i.isUnderline()?4:24),i.isOverline()!==o.isOverline()&&n.push(i.isOverline()?53:55),i.isBlink()!==o.isBlink()&&n.push(i.isBlink()?5:25),i.isInvisible()!==o.isInvisible()&&n.push(i.isInvisible()?8:28),i.isItalic()!==o.isItalic()&&n.push(i.isItalic()?3:23),i.isDim()!==o.isDim()&&n.push(i.isDim()?2:22),i.isStrikethrough()!==o.isStrikethrough()&&n.push(i.isStrikethrough()?9:29))}return n}_nextCell(i,o,n,l){if(i.getWidth()===0)return;const p=i.getChars()==="",m=this._diffStyle(i,this._cursorStyle);if(p?!c(this._cursorStyle,i):m.length>0){this._nullCellCount>0&&(c(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`\x1B[${this._nullCellCount}X`),this._currentRow+=`\x1B[${this._nullCellCount}C`,this._nullCellCount=0),this._lastContentCursorRow=this._lastCursorRow=n,this._lastContentCursorCol=this._lastCursorCol=l,this._currentRow+=`\x1B[${m.join(";")}m`;const w=this._buffer.getLine(n);w!==void 0&&(w.getCell(l,this._cursorStyle),this._cursorStyleRow=n,this._cursorStyleCol=l)}p?this._nullCellCount+=i.getWidth():(this._nullCellCount>0&&(c(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`\x1B[${this._nullCellCount}X`),this._currentRow+=`\x1B[${this._nullCellCount}C`,this._nullCellCount=0),this._currentRow+=i.getChars(),this._lastContentCursorRow=this._lastCursorRow=n,this._lastContentCursorCol=this._lastCursorCol=l+i.getWidth())}_serializeString(){let i=this._allRows.length;this._buffer.length-this._firstRow<=this._terminal.rows&&(i=this._lastContentCursorRow+1-this._firstRow,this._lastCursorCol=this._lastContentCursorCol,this._lastCursorRow=this._lastContentCursorRow);let o="";for(let x=0;x<i;x++)o+=this._allRows[x],x+1<i&&(o+=this._allRowSeparators[x]);const n=this._buffer.baseY+this._buffer.cursorY,l=this._buffer.cursorX;var p;(n!==this._lastCursorRow||l!==this._lastCursorCol)&&((p=n-this._lastCursorRow)>0?o+=`\x1B[${p}B`:p<0&&(o+=`\x1B[${-p}A`),(x=>{x>0?o+=`\x1B[${x}C`:x<0&&(o+=`\x1B[${-x}D`)})(l-this._lastCursorCol));const m=this._terminal._core._inputHandler._curAttrData,w=this._diffStyle(m,this._cursorStyle);return w.length>0&&(o+=`\x1B[${w.join(";")}m`),o}}b.SerializeAddon=class{activate(v){this._terminal=v}_serializeBuffer(v,i,o){const n=i.length,l=new S(i,v),p=o===void 0?n:a(o+v.rows,0,n);return l.serialize({start:{x:n-p,y:0},end:{x:n-1,y:v.cols}})}_serializeBufferAsHTML(v,i){var o,n;const l=v.buffer.active,p=new y(l,v,i);if((o=i.onlySelection)===null||o===void 0||!o){const w=l.length,x=i.scrollback,_=x===void 0?w:a(x+v.rows,0,w);return p.serialize({start:{x:w-_,y:0},end:{x:w-1,y:v.cols}})}const m=(n=this._terminal)===null||n===void 0?void 0:n.getSelectionPosition();return m!==void 0?p.serialize({start:{x:m.start.y,y:m.start.x},end:{x:m.end.y,y:m.end.x}}):""}_serializeModes(v){let i="";const o=v.modes;if(o.applicationCursorKeysMode&&(i+="\x1B[?1h"),o.applicationKeypadMode&&(i+="\x1B[?66h"),o.bracketedPasteMode&&(i+="\x1B[?2004h"),o.insertMode&&(i+="\x1B[4h"),o.originMode&&(i+="\x1B[?6h"),o.reverseWraparoundMode&&(i+="\x1B[?45h"),o.sendFocusMode&&(i+="\x1B[?1004h"),o.wraparoundMode===!1&&(i+="\x1B[?7l"),o.mouseTrackingMode!=="none")switch(o.mouseTrackingMode){case"x10":i+="\x1B[?9h";break;case"vt200":i+="\x1B[?1000h";break;case"drag":i+="\x1B[?1002h";break;case"any":i+="\x1B[?1003h"}return i}serialize(v){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");let i=this._serializeBuffer(this._terminal,this._terminal.buffer.normal,v?.scrollback);return v?.excludeAltBuffer||this._terminal.buffer.active.type!=="alternate"||(i+=`\x1B[?1049h\x1B[H${this._serializeBuffer(this._terminal,this._terminal.buffer.alternate,void 0)}`),v?.excludeModes||(i+=this._serializeModes(this._terminal)),i}serializeAsHTML(v){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._serializeBufferAsHTML(this._terminal,v||{})}dispose(){}};class y extends u{constructor(i,o,n){super(i),this._terminal=o,this._options=n,this._currentRow="",this._htmlContent="",o._core._themeService?this._ansiColors=o._core._themeService.colors.ansi:this._ansiColors=s.DEFAULT_ANSI_COLORS}_padStart(i,o,n){return o>>=0,n=n??" ",i.length>o?i:((o-=i.length)>n.length&&(n+=n.repeat(o/n.length)),n.slice(0,o)+i)}_beforeSerialize(i,o,n){var l,p,m,w,x;this._htmlContent+="<html><body><!--StartFragment--><pre>";let _="#000000",E="#ffffff";(l=this._options.includeGlobalBackground)!==null&&l!==void 0&&l&&(_=(m=(p=this._terminal.options.theme)===null||p===void 0?void 0:p.foreground)!==null&&m!==void 0?m:"#ffffff",E=(x=(w=this._terminal.options.theme)===null||w===void 0?void 0:w.background)!==null&&x!==void 0?x:"#000000");const R=[];R.push("color: "+_+";"),R.push("background-color: "+E+";"),R.push("font-family: "+this._terminal.options.fontFamily+";"),R.push("font-size: "+this._terminal.options.fontSize+"px;"),this._htmlContent+="<div style='"+R.join(" ")+"'>"}_afterSerialize(){this._htmlContent+="</div>",this._htmlContent+="</pre><!--EndFragment--></body></html>"}_rowEnd(i,o){this._htmlContent+="<div><span>"+this._currentRow+"</span></div>",this._currentRow=""}_getHexColor(i,o){const n=o?i.getFgColor():i.getBgColor();return(o?i.isFgRGB():i.isBgRGB())?[n>>16&255,n>>8&255,255&n].map(l=>this._padStart(l.toString(16),2,"0")).join(""):(o?i.isFgPalette():i.isBgPalette())?this._ansiColors[n].css:void 0}_diffStyle(i,o){const n=[],l=!f(i,o),p=!c(i,o),m=!d(i,o);if(l||p||m){const w=this._getHexColor(i,!0);w&&n.push("color: "+w+";");const x=this._getHexColor(i,!1);return x&&n.push("background-color: "+x+";"),i.isInverse()&&n.push("color: #000000; background-color: #BFBFBF;"),i.isBold()&&n.push("font-weight: bold;"),i.isUnderline()&&i.isOverline()?n.push("text-decoration: overline underline;"):i.isUnderline()?n.push("text-decoration: underline;"):i.isOverline()&&n.push("text-decoration: overline;"),i.isBlink()&&n.push("text-decoration: blink;"),i.isInvisible()&&n.push("visibility: hidden;"),i.isItalic()&&n.push("font-style: italic;"),i.isDim()&&n.push("opacity: 0.5;"),i.isStrikethrough()&&n.push("text-decoration: line-through;"),n}}_nextCell(i,o,n,l){if(i.getWidth()===0)return;const p=i.getChars()==="",m=this._diffStyle(i,o);m&&(this._currentRow+=m.length===0?"</span><span>":"</span><span style='"+m.join(" ")+"'>"),this._currentRow+=p?" ":i.getChars()}_serializeString(){return this._htmlContent}}b.HTMLSerializeHandler=y})(),C})())}(js)),js.exports}var Sd=md();const bd={class:"justify-center flex items-center p-8 bg-[#4d4848]"},Cd={__name:"SSHTerminal",props:["run"],emits:["closed"],setup(e,{emit:t}){const r=Se(null);let h,g,C,b,s,a=null;const u=t;st(async()=>{h=new hd.Terminal,g=new dd.FitAddon,C=new gd.SearchAddon,b=new Sd.SerializeAddon,h.loadAddon(g),h.loadAddon(C),h.loadAddon(b),h.loadAddon(new _d.WebLinksAddon),h.open(r.value),await Gs(),g.fit()});const f=e;at(()=>f.run,S=>{const y=localStorage.getItem("botnetSSHId"),v=Se(JSON.parse(localStorage.getItem("botnetList"))),i=Object.entries(Object.entries(v.value)[y-1][1]);console.log(i),S===0?c(i[0][1],i[1][1],i[2][1],i[3][1],Object.entries(v.value)[y-1][0]):S===1&&d()});const c=(S,y,v,i,o)=>{if(a&&a.readyState===WebSocket.OPEN){Te.error({title:"SSH Error",message:"Websocket already running."});return}a=new WebSocket(`ws://localhost:5000/ws?ip=${S}&port=${y}&username=${v}&password=${i}`),a.onmessage=n=>{h.write(n.data)},a.onopen=()=>{Te.info({title:"Information",message:`Connecting to botnet "${o}"...`}),h.write(`\r
[Connecting to "${o}"]\r
`)},a.onerror=n=>{console.log(Object.entries(n)[0]),Object.entries(n)[0][0]!=="isTrusted"&&(Te.error({title:"SSH Error",message:`Error while connecting or disconnecting to SSH: ${n.type}`}),u("closed"),h.write(`\r
[WebSocket error: ${n.type}]\r
`))},a.onclose=()=>{Te.info({title:"Information",message:`"${o}" disconnected.`}),u("closed"),h.write(`\r
[Disconnected from SSH session]\r
`)},s&&(h.offData(s),s=null),s=n=>{a.readyState===WebSocket.OPEN&&a.send(n)},h.onData(s)},d=()=>{a&&a.readyState===WebSocket.OPEN&&(h.write(`\r
[Disconnecting...]\r
`),a.close())};return(S,y)=>(te(),de("div",bd,[se("div",{ref_key:"terminalRef",ref:r,id:"terminal",class:"terminal-container"},null,512)]))}},yd=At(Cd,[["__scopeId","data-v-d2590981"]]),vn={__name:"SSHButton",props:{botnet:{type:String,default:'{"list":"none"}'}},emits:["do"],setup(e,{emit:t}){const r=t,h=Se(!1),g=async()=>{r("do")};return(C,b)=>(te(),de("button",{onClick:b[0]||(b[0]=vt(s=>g(),["prevent"])),type:"button",class:"text-black bg-white border-gray-300 shadow-sm hover:bg-gray-50 font-medium text-sm px-5 py-2.5 me-2 mb-2 focus:outline-none"},[h.value?(te(),We(pi,{key:0})):Be("",!0),h.value?Be("",!0):Ke(C.$slots,"default",{key:1})]))}},wd={class:"grid grid-cols-1 w-full md:grid-cols-2 pb-4 bg-[#B9B28A] h-max gap-8 p-8 border-white-300"},Ed={__name:"SSHMode",setup(e){const t=Se(),r=Se(),h=()=>{t.value=JSON.parse(localStorage.getItem("botnetList")||"{}")};st(()=>{h()});const g=()=>{r.value=0},C=()=>{console.log("closed"),r.value=1};return(b,s)=>(te(),We(Go,null,{default:Le(()=>[ce(Mo,null,{default:Le(()=>[ce(us,{name:"attack-type",title:"SSH Control"},{default:Le(()=>[s[2]||(s[2]=se("p",null,"Akses botnet melalui SSH jika serangan tidak dapat berhenti.",-1)),ce(ld,{onUpdate:h,listBotnet:t.value},null,8,["listBotnet"]),se("div",wd,[ce(vn,{onDo:g},{default:Le(()=>s[0]||(s[0]=[Et("Connect")])),_:1,__:[0]}),ce(vn,{onDo:C},{default:Le(()=>s[1]||(s[1]=[Et("Close Session")])),_:1,__:[1]})]),ce(yd,{onClosed:C,run:r.value},null,8,["run"])]),_:1,__:[2]})]),_:1})]),_:1}))}},xd={__name:"App",setup(e){const t=Se(1),r=h=>{t.value=h,console.log(t.value)};return(h,g)=>(te(),de(Ie,null,[ce(Oc),ce(id,{onClick:r}),ce(le(Vh),null,{default:Le(C=>[ce(le(Xh),{item:C},{default:Le(()=>[ce(le(Tu),{item:C},null,8,["item"])]),_:2},1032,["item"])]),_:1}),xr(ce(ed,null,null,512),[[Jr,t.value==1]]),xr(ce(Ed,null,null,512),[[Jr,t.value==2]])],64))}},Jo=Lc(xd),Ld=kh({position:"top-right",limit:4,touchOnly:!1,notifications:{global:{duration:1e4}}});Jo.use(Ld);Jo.mount("#app");
